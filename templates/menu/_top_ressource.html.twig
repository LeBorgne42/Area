{% trans_default_domain 'front_menu' %}

<div class="navbar navbar-ressource navbar-dark">
    {% if usePlanet.getPreviousPlanet() != usePlanet.getId() %}<h1><span data-toggle="tooltip" data-placement="bottom" title="{{ 'previousPlanet'|trans }}"><a href="{{ usePlanet.getPreviousPlanet() }}"><</a></span></h1>{% endif %}
    <form id="planet_choice" name="planet_choice" method="post" action="{{ path(app.request.get('_route'), app.request.get('_route_params')|merge({'usePlanet': usePlanet.getId()})) }}">
        <select class="planetChoice select2">
            <option value="{{ usePlanet.getId() }}">{{ usePlanet.getName() }} - {{ usePlanet.getSector().getGalaxy.getPosition() }}:{{ usePlanet.getSector().getPosition() }}:{{ usePlanet.getPosition() }}</option>
            {% for planet in allPlanets %}
                {% if planet != usePlanet and planet.empty == false %}
                    <option value="{{ planet.getId() }}">{{ planet.getName() }} - {{ planet.getSector().getGalaxy.getPosition() }}:{{ planet.getSector().getPosition() }}:{{ planet.getPosition() }}</option>
                {% endif %}
            {% endfor %}
        </select>
        <button type="submit" id="planet_choice_send" hidden></button>
    </form>
    {% if app.user.getAlly() %}
        {% set bonus = 1.2 + (app.user.getPoliticProd() / 14) %}
    {% else %}
        {% set bonus = 1 %}
    {% endif %}
    <span id="water" hidden>{{ usePlanet.getWater()|number_format }}</span>
    <span id="niobium" hidden>{{ usePlanet.getNiobium()|number_format }}</span>
    <span id="food" hidden>{{ usePlanet.getFood()|number_format }}</span>
    <span class="tipProduct border-ressource" data-placement="bottom" data-trigger="" title="<div class='my-3 text-center'>{{ 'niobium'|trans }}</div><div class='my-3 text-center'>{{ 'overview.product'|trans }} <span class='text-vert'>+<span class='takeProd'>{{ (usePlanet.getNbProduction() * 60 * bonus)|number_format }}</span>/h <img alt='{{ 'image'|trans({},'front_global') }}' src='{{ asset('img/niobium.png') }}'></span></div><div class='my-3 text-center'>{{ 'overview.hangar'|trans }} {{ usePlanet.getNiobiumMax()|number_format }} <img alt='{{ 'image'|trans({},'front_global') }}' src='{{ asset('img/niobium.png') }}'></span></div>" data-html="true"><span{% if usePlanet.getNiobium() >= usePlanet.getNiobiumMax() %} class="text-rouge"{% endif %}>{% if usePlanet.getNiobium() > 1000000 %}{{ (usePlanet.getNiobium() / 1000000)|number_format(1) }}M{% elseif usePlanet.getNiobium() > 1000 %}{{ (usePlanet.getNiobium() / 1000)|number_format }}K{% else %}{{ usePlanet.getNiobium()|number_format }}{% endif %}</span> <img alt="{{ 'image'|trans({},'front_global') }}" width="15px" src="{{ asset('img/niobium.png') }}"> <progress class="{% if usePlanet.getNiobium() >= usePlanet.getNiobiumMax() %}product-full{% else %}product-ressource{% endif %}" value="{{ usePlanet.getNiobium() }}" max="{{ usePlanet.getNiobiumMax() }}"></progress></span></span>
    <span class="tipProduct border-ressource" data-placement="bottom" data-trigger="" title="<div class='my-3 text-center'>{{ 'water'|trans }}</div><div class='my-3 text-center'>{{ 'overview.product'|trans }} <span class='text-vert'>+<span class='takeProd'>{{ (usePlanet.getWtProduction() * 60 * bonus)|number_format }}</span>/h <img alt='{{ 'image'|trans({},'front_global') }}' src='{{ asset('img/water.png') }}'></span></div><div class='my-3 text-center'>{{ 'overview.hangar'|trans }} {{ usePlanet.getWaterMax()|number_format }} <img alt='{{ 'image'|trans({},'front_global') }}' src='{{ asset('img/water.png') }}'></span></div>" data-html="true"><span{% if usePlanet.getWater() >= usePlanet.getWaterMax() %} class="text-rouge"{% endif %}>{% if usePlanet.getWater() > 1000000 %}{{ (usePlanet.getWater() / 1000000)|number_format(1) }}M{% elseif usePlanet.getWater() > 1000 %}{{ (usePlanet.getWater() / 1000)|number_format }}K{% else %}{{ usePlanet.getWater()|number_format }}{% endif %}</span> <img alt="{{ 'image'|trans({},'front_global') }}" width="15px" src="{{ asset('img/water.png') }}"> <progress class="{% if usePlanet.getWater() >= usePlanet.getWaterMax() %}product-full{% else %}product-ressource{% endif %}" value="{{ usePlanet.getWater() }}" max="{{ usePlanet.getWaterMax() }}"></progress></span></span>
    <span class="border-ressource" data-toggle="tooltip" data-placement="bottom" title="{{ 'food'|trans }}">{% if usePlanet.getFood() > 1000000 %}{{ (usePlanet.getFood() / 1000000)|number_format(1) }}M{% elseif usePlanet.getFood() > 1000 %}{{ (usePlanet.getFood() / 1000)|number_format }}K{% else %}{{ usePlanet.getFood()|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" width="15px" src="{{ asset('img/ration.png') }}"></span>
    {% if usePlanet.getUranium() > 0 %}<span class="border-ressource" data-toggle="tooltip" data-placement="bottom" title="{{ 'uranium'|trans }}"><span id="uranium">{{ usePlanet.getUranium()|number_format }}</span> <img alt="{{ 'image'|trans({},'front_global') }}" width="15px" src="{{ asset('img/uranium.png') }}"></span>{% endif %}
    <span class="border-ressource" data-toggle="tooltip" data-placement="bottom" title="{{ 'workers'|trans }}"><span id="worker" hidden>{{ usePlanet.getWorker() }}</span>{% if usePlanet.getWorker() > 1000 %}{{ (usePlanet.getWorker() / 1000)|number_format }}K{% else %}{{ usePlanet.getWorker()|number_format }}{% endif %} / {{ (usePlanet.getWorkerMax() / 1000)|number_format }}K <img alt="{{ 'image'|trans({},'front_global') }}" width="15px" src="{{ asset('img/worker.png') }}"></span>
    {% if usePlanet.getScientistMax() > 0 %}<span class="border-ressource" data-toggle="tooltip" data-placement="bottom" title="{{ 'scientists'|trans }}">{{ usePlanet.getScientist()|number_format }} / {{ usePlanet.getScientistMax()|number_format }}<img alt="{{ 'image'|trans({},'front_global') }}" width="15px" src="{{ asset('img/scientist.png') }}"></span>{% endif %}
    <span class="border-ressource" data-toggle="tooltip" data-placement="bottom" title="{{ 'soldiers'|trans }}"><span id="soldier" hidden>{{ usePlanet.getSoldier() }}</span>{% if usePlanet.getSoldier() > 1000 %}{{ (usePlanet.getSoldier() / 1000)|number_format }}K{% else %}{{ usePlanet.getSoldier()|number_format }}{% endif %} / {% if usePlanet.getSoldierMax() > 1000 %}{{ (usePlanet.getSoldierMax() / 1000)|number_format }}K{% else %}{{ (usePlanet.getSoldierMax())|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" height="15px" src="{{ asset('img/soldier.png') }}"></span>
    {% if usePlanet.getTank() > 0 %}<span class="border-ressource" data-toggle="tooltip" data-placement="bottom" title="{{ 'tanks'|trans }}"><span id="tank" hidden>{{ usePlanet.getTank() }}</span>{{ usePlanet.getTank()|number_format }} / 500 <img alt="{{ 'image'|trans({},'front_global') }}" src="{{ asset('img/tanks.png') }}"></span>{% endif %}
    <span><span class="border-ressource" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}">{{ usePlanet.getGroundPlace() }}/{{ usePlanet.getGround() }} <img alt="{{ 'image'|trans({},'front_global') }}" src="{{ asset('img/ground.png') }}"></span> <span class="border-ressource" data-toggle="tooltip" data-placement="bottom" title="{{ 'SkyImg'|trans }}">{{ usePlanet.getSkyPlace() }}/{{ usePlanet.getSky() }} <img alt="{{ 'image'|trans({},'front_global') }}" src="{{ asset('img/sky.png') }}"></span></span>
    {% if usePlanet.getNextPlanet() != usePlanet.getId() %}<h1><span data-toggle="tooltip" data-placement="bottom" title="{{ 'nextPlanet'|trans }}"><a href="{{ usePlanet.getNextPlanet() }}">></a></span></h1>{% endif %}
</div>