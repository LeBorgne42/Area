{% extends 'base.html.twig' %}

{% trans_default_domain 'front_fleet' %}

{% block title %}{{ 'title'|trans }}{% endblock %}

{% block body %}
    {%- block left_menu -%}
    {%- endblock -%}
    {%- block top_ressource -%}
    {%- endblock -%}
    {%- block right_planet -%}
    {%- endblock -%}
    {% if fleet.getUser() == app.user %}

        <div class="modal-header">
            <div class="block-title ml-2"><h2>{{ 'fleet.createFleet'|trans }}</h2></div>
            <button type="button" class="close" data-dismiss="modal">X</button>
        </div>
        <div class="p-5 createFleet">
            {{ form_start(form_manageRenameFleet,{attr: { action: path('manage_fleet', {'idp': usePlanet.getId(), 'id': fleet.getId()}) }}) }}
            <table class="table table-striped table-bordered table-dark">
                <tbody>
                <tr>
                    <td class="center-cells">
                        <div class="row">
                            <div class="offset-2 col-5">
                                {{ form_widget(form_manageRenameFleet.name) }}
                            </div>
                            <div class="col-3">
                                {{ form_widget(form_manageRenameFleet.sendForm,{attr: { class: 'btn btn-sm btn-info'}}) }}
                            </div>
                        </div>
                    </td>
                </tr>
                </tbody>
            </table>
            {{ form_end(form_manageRenameFleet) }}
            {{ form_start(form_manageAttackFleet,{attr: { action: path('manage_fleet', {'idp': usePlanet.getId(), 'id': fleet.getId()}) }}) }}
            <table class="table table-striped table-bordered table-dark">
                <tbody>
                <tr>
                    <th class="tab-cells-name">
                        <div class="row">
                            <div class="col-1 pt-1">
                                {{ form_widget(form_manageAttackFleet.sendForm,{attr: { hidden: 'hidden'}}) }}
                                {{ form_widget(form_manageAttackFleet.attack) }}
                            </div>
                            <div class="col-10 pt-2">
                                {{ 'fleet.attackMode'|trans }}
                            </div>
                        </div>
                    </th>
                </tr>
                </tbody>
            </table>
            {{ form_end(form_manageAttackFleet) }}
            {{ form_start(form_sendFleet,{attr: { action: path('send_fleet', {'idp': usePlanet.getId(), 'id': fleet.getId()}) }}) }}
            <table class="table table-striped table-bordered table-dark">
                <tbody>
                <tr>
                    <th class="center-cells">
                        {{ 'fleet.galaxy'|trans }}
                    </th>
                    <td class="center-cells">
                        {{ 'fleet.sector'|trans }}
                    </td>
                    <td class="center-cells">
                        {{ 'fleet.planete'|trans }}
                    </td>
                    <td class="center-cells">
                        {{ 'fleet.sendCoord'|trans }}
                    </td>
                </tr>
                <tr>
                    <td class="center-cells">
                        {% if app.user.getHyperespace() %}
                            {{ form_widget(form_sendFleet.galaxy) }}
                        {% else %}
                            {{ form_widget(form_sendFleet.galaxy,{attr: { disabled: 'disabled'}}) }}
                        {% endif %}
                    </td>
                    <td class="center-cells">
                        {{ form_widget(form_sendFleet.sector) }}
                    </td>
                    <td class="center-cells">
                        {{ form_widget(form_sendFleet.planete) }}
                    </td>
                    <td class="center-cells">
                        {{ form_widget(form_sendFleet.sendForm,{attr: { class: 'btn btn-sm btn-info'}}) }}
                    </td>
                </tr>
                </tbody>
            </table>
            {{ form_end(form_sendFleet) }}
            {{ form_start(form_manageFleet,{attr: { action: path('manage_fleet', {'idp': usePlanet.getId(), 'id': fleet.getId()}) }}) }}
            <table class="table table-striped table-bordered table-dark">
                <tbody>
                <tr>
                    <th class="tab-cells-name">
                        {{ 'fleet.fleetShip'|trans }}
                    </th>
                    <td class="center-cells">
                        {{ 'fleet.addShip'|trans }}
                    </td>
                    <td class="center-cells">
                        {{ 'fleet.removeShip'|trans }}
                    </td>
                </tr>
                <tr{% if usePlanet.getSonde()== 0 or fleet.getSonde()== 0 %} hidden{% endif %}>
                    <th class="tab-cells-name">
                        {{ 'fleet.sonde'|trans }} x {{ fleet.getSonde() }}
                    </th>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.moreSonde,{attr: { max: usePlanet.getSonde()}}) }}
                    </td>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.lessSonde,{attr: { max: fleet.getSonde()}}) }}
                    </td>
                </tr>
                <tr{% if usePlanet.getColonizer()== 0 or fleet.getColonizer()== 0 %} hidden{% endif %}>
                    <th class="tab-cells-name">
                        {{ 'fleet.colonizer'|trans }} x {{ fleet.getColonizer() }}
                    </th>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.moreColonizer,{attr: { max: usePlanet.getColonizer()}}) }}
                    </td>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.lessColonizer,{attr: { max: fleet.getColonizer()}}) }}
                    </td>
                </tr>
                <tr{% if usePlanet.getRecycleur() == 0 or fleet.getRecycleur()== 0 %} hidden{% endif %}>
                    <th class="tab-cells-name">
                        {{ 'fleet.recycleur'|trans }} x {{ fleet.getRecycleur() }}
                    </th>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.moreRecycleur,{attr: { max: usePlanet.getRecycleur()}}) }}
                    </td>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.lessRecycleur,{attr: { max: fleet.getRecycleur()}}) }}
                    </td>
                </tr>
                <tr{% if usePlanet.getHunter()== 0 or fleet.getHunter()== 0 %} hidden{% endif %}>
                    <th class="tab-cells-name">
                        {{ 'fleet.hunter'|trans }} x {{ fleet.getHunter() }}
                    </th>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.moreHunter,{attr: { max: usePlanet.getHunter()}}) }}
                    </td>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.lessHunter,{attr: { max: fleet.getHunter()}}) }}
                    </td>
                </tr>
                <tr{% if usePlanet.getFregate()== 0 or fleet.getFregate()== 0 %} hidden{% endif %}>
                    <th class="tab-cells-name">
                        {{ 'fleet.fregate'|trans }} x {{ fleet.getFregate() }}
                    </th>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.moreFregate,{attr: { max: usePlanet.getFregate()}}) }}
                    </td>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.lessFregate,{attr: { max: fleet.getFregate()}}) }}
                    </td>
                </tr>
                <tr{% if usePlanet.getBarge()== 0 or fleet.getBarge()== 0 %} hidden{% endif %}>
                    <th class="tab-cells-name">
                        {{ 'fleet.barge'|trans }} x {{ fleet.getBarge() }}
                    </th>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.moreBarge,{attr: { max: usePlanet.getBarge()}}) }}
                    </td>
                    <td class="center-cells">
                        {{ form_widget(form_manageFleet.lessBarge,{attr: { max: fleet.getBarge()}}) }}
                    </td>
                </tr>
                </tbody>
            </table>
            {{ form_widget(form_manageFleet.sendForm,{attr: { class: 'btn btn-lg btn-info float-right'}}) }}
            {{ form_end(form_manageFleet) }}
        </div>
    {% endif %}
{% endblock %}
