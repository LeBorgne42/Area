{% extends 'base.html.twig' %}

{% trans_default_domain 'front_fleet' %}

{% block title %}{{ 'title'|trans }}{% endblock %}

{% block body %}
    <script type="text/javascript" src="{{ asset('build/flight.js') }}"></script>
    {% set cargoBonus = 1.2 + (app.user.getPoliticCargo() / 5) %}
    {% set multiple = oldFleet.getMotherShip() > 0 ? 1.1 : 1 %}
    <div class="front-block editFleet">
        {{ form_start(form_spatialShip) }}
        <table class="table table-striped table-bordered table-dark createFleet">
            <tbody>
            <tr>
                <td colspan="5" class="text-center">
                    <h2>{{ 'fleet.splitFleet'|trans }}</h2>
                </td>
            </tr>
            </tbody>
        </table>
        <div class="row">
            <div class="col-7">
                <table class="table table-striped table-bordered table-dark createFleet">
                    <tbody>
                    <tr>
                        <td colspan="5"  class="ml-4">
                            <span class="mr-4">{{ 'fleet.name'|trans }}</span> {{ form_widget(form_spatialShip.name) }}
                        </td>
                    </tr>
                    <tr>
                        <td class="tab-cells-name">
                            {{ 'fleet.ships'|trans }}
                        </td>
                        <td class="text-center">
                            {{ 'fleet.cargo'|trans }}
                        </td>
                        <td class="text-center">
                            {{ 'fleet.quantity'|trans }}
                        </td>
                        <td class="text-center">
                            {{ 'fleet.transfert'|trans }}
                        </td>
                        <td class="text-center text-orange addAllShipR">
                            {{ 'fleet.allShip'|trans }}
                        </td>
                    </tr>
                    <tr{% if oldFleet.getSonde == 0 %} hidden{% endif %}>
                        <td class="p-1 pl-3">
                            {{ 'fleet.sonde'|trans }}
                        </td>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getSonde()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.sonde,{attr: { max: oldFleet.getSonde()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getColonizer == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.colonizer'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getColonizer()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.colonizer,{attr: { max: oldFleet.getColonizer()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getCargoI == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.cargoI'|trans }}
                        </th>
                        <td class="text-right p-1">
                            {{ (30000 * cargoBonus * multiple)|number_format }}
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getCargoI()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.cargoI,{attr: { max: oldFleet.getCargoI()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getCargoV == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.cargoV'|trans }}
                        </th>
                        <td class="text-right p-1">
                            {{ (100000 * cargoBonus * multiple)|number_format }}
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getCargoV()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.cargoV,{attr: { max: oldFleet.getCargoV()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getCargoX == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.cargoX'|trans }}
                        </th>
                        <td class="text-right p-1">
                            {{ (250000 * cargoBonus * multiple)|number_format }}
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getCargoX()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.cargoX,{attr: { max: oldFleet.getCargoX()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getRecycleur == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.recycleur'|trans }}
                        </th>
                        <td class="text-right p-1">
                            {{ (5000 * multiple)|number_format }}
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getCargoX()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.recycleur,{attr: { max: oldFleet.getRecycleur()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getBarge == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.barge'|trans }}
                        </th>
                        <td class="text-right p-1">
                            {{ (1000 * multiple)|number_format }}
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getBarge()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.barge,{attr: { max: oldFleet.getBarge()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getMoonMaker == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.moonMaker'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getMoonMaker()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.moonMaker,{attr: { max: oldFleet.getMoonMaker()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getRadarShip == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.radarShip'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getRadarShip()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.radarShip,{attr: { max: oldFleet.getRadarShip()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getBrouilleurShip == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.brouilleurShip'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getBrouilleurShip()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.brouilleurShip,{attr: { max: oldFleet.getBrouilleurShip()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getMotherShip == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.motherShip'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getMotherShip()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.motherShip,{attr: { max: oldFleet.getMotherShip()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getHunter == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.hunter'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getHunter()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.hunter,{attr: { max: oldFleet.getHunter()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getHunterHeavy == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.hunterHeavy'|trans }}
                        </th>
                        <td class="text-right p-1">
                            {{ (35 * multiple)|number_format }}
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getHunterHeavy()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.hunterHeavy,{attr: { max: oldFleet.getHunterHeavy()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getHunterWar == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.hunterWar'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getHunterWar()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.hunterWar,{attr: { max: oldFleet.getHunterWar()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getCorvet == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.corvet'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getCorvet()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.corvet,{attr: { max: oldFleet.getCorvet()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getCorvetLaser == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.corvetLaser'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getCorvetLaser()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.corvetLaser,{attr: { max: oldFleet.getCorvetLaser()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getCorvetWar == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.corvetWar'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getCorvetWar()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.corvetWar,{attr: { max: oldFleet.getCorvetWar()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getFregate == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.fregate'|trans }}
                        </th>
                        <td class="text-right p-1">
                            {{ (250 * multiple)|number_format }}
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getFregate()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.fregate,{attr: { max: oldFleet.getFregate()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getFregatePlasma == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.fregatePlasma'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getFregatePlasma()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.fregatePlasma,{attr: { max: oldFleet.getFregatePlasma()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getCroiser == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.croiser'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getCroiser()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.croiser,{attr: { max: oldFleet.getCroiser()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getIronClad == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.ironClad'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getIronClad()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.ironClad,{attr: { max: oldFleet.getIronClad()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getDestroyer == 0 %} hidden{% endif %}>
                        <th class="p-1 pl-3">
                            {{ 'fleet.destroyer'|trans }}
                        </th>
                        <td class="text-right p-1">
                            0
                        </td>
                        <td class="text-right p-1">
                            {{ oldFleet.getDestroyer()|number_format }}
                        </td>
                        <td class="center-cells p-1">
                            {{ form_widget(form_spatialShip.destroyer,{attr: { max: oldFleet.getDestroyer()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputR">max</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="col-5">
                <table class="table table-striped table-bordered table-dark createFleet">
                    <tbody>
                    <tr>
                        <td colspan="3"  class="ml-4">
                            {{ 'fleet.oldCargo'|trans }} {{ oldFleet.getName() }}
                        </td>
                    <tr>
                        <td colspan="3"  class="ml-4">
                            <span id="cargoSplit">{{ oldFleet.getCargoFull()|number_format }}</span> / <span id="placeSplit">{{ oldFleet.getCargoPlace()|number_format }}</span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3"  class="ml-4">
                            {{ 'fleet.newCargo'|trans }}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3"  class="ml-4">
                            <span id="cargoNewSplit">0</span> / <span id="placeNewSplit">0</span> (en cours)
                        </td>
                    </tr>
                    <tr>
                        <td class="text-center">
                            {{ 'fleet.ressources'|trans }}
                        </td>
                        <td class="text-center">
                            {{ 'fleet.transfert'|trans }}
                        </td>
                        <td class="text-center text-orange addAllRes">
                            {{ 'fleet.allShip'|trans }}
                        </td>
                    </tr>
                    <tr{% if oldFleet.getNiobium() == 0 %} hidden{% endif %}>
                        <td class="text-center">
                            {{ oldFleet.getNiobium()|number_format }} <img width="15" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}">
                        </td>
                        <td class="center-cells">
                            {{ form_widget(form_spatialShip.niobium,{attr: { max: oldFleet.getNiobium()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputLessR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getWater() == 0 %} hidden{% endif %}>
                        <td class="text-center">
                            {{ oldFleet.getWater()|number_format }} <img width="15" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}">
                        </td>
                        <td class="center-cells">
                            {{ form_widget(form_spatialShip.water,{attr: { max: oldFleet.getWater()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputLessR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getUranium() == 0 %} hidden{% endif %}>
                        <td class="text-center">
                            {{ oldFleet.getUranium()|number_format }} <img width="15" data-toggle="tooltip" data-placement="bottom" title="{{ 'uraniumImg'|trans }}" src="{{ asset('img/uranium.png') }}">
                        </td>
                        <td class="center-cells">
                            {{ form_widget(form_spatialShip.uranium,{attr: { max: oldFleet.getUranium()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputLessR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getSoldier() == 0 %} hidden{% endif %}>
                        <td class="text-center">
                            {{ oldFleet.getSoldier()|number_format }} <img width="8" data-toggle="tooltip" data-placement="bottom" title="{{ 'soldierImg'|trans }}" src="{{ asset('img/soldier.png') }}">
                        </td>
                        <td class="center-cells">
                            {{ form_widget(form_spatialShip.soldier,{attr: { max: oldFleet.getSoldier()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputLessR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getTank() == 0 %} hidden{% endif %}>
                        <td class="text-center">
                            {{ oldFleet.getTank() }} <img width="18" data-toggle="tooltip" data-placement="bottom" title="{{ 'tankImg'|trans }}" src="{{ asset('img/tanks.png') }}">
                        </td>
                        <td class="center-cells">
                            {{ form_widget(form_spatialShip.tank,{attr: { max: oldFleet.getTank()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputLessR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getWorker() == 0 %} hidden{% endif %}>
                        <td class="text-center">
                            {{ oldFleet.getWorker()|number_format }} <img width="15" data-toggle="tooltip" data-placement="bottom" title="{{ 'workerImg'|trans }}" src="{{ asset('img/worker.png') }}">
                        </td>
                        <td class="center-cells">
                            {{ form_widget(form_spatialShip.worker,{attr: { max: oldFleet.getWorker()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputLessR">max</span>
                        </td>
                    </tr>
                    <tr{% if oldFleet.getScientist() == 0 %} hidden{% endif %}>
                        <td class="text-center">
                            {{ oldFleet.getScientist()|number_format }} <img width="15" data-toggle="tooltip" data-placement="bottom" title="{{ 'scientistImg'|trans }}" src="{{ asset('img/scientist.png') }}">
                        </td>
                        <td class="center-cells">
                            {{ form_widget(form_spatialShip.scientist,{attr: { max: oldFleet.getScientist()}}) }}
                        </td>
                        <td width="35" class="tab-cells-name p-1 cell-middle text-center text-orange">
                            <span class="maxInputLessR">max</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div class="text-center">
                    {{ form_widget(form_spatialShip.sendForm) }}
                    {{ form_end(form_spatialShip) }}
                </div>
                <div class="text-center mt-5">
                    <a class="btn btn-lg btn-secondary" href="{{ path('manage_fleet', {'fleetGive': oldFleet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'fleet.back'|trans }}</a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
