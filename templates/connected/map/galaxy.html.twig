{% extends 'base.html.twig' %}

{% trans_default_domain 'front_galaxy' %}

{% block title %}{{ 'title'|trans }}{% endblock %}

{# VUE GALAXY AVEC 25 SECTEUR

{% block body %}
    <div class="map-block">
        <table class="table table-bordered table-dark galaxy-table text-center">
            <tbody>
            {% set x = 1 %}
            {% for sector in sectors %}
                {% if x == 1 %}
                    <tr>
                    {% set x = 1 %}
                {% endif %}
                <td class="center-cells{% if sector.getDestroy() == true %} red-border{% endif %}"><a data-toggle="tooltip" data-placement="top" title="{{ 'tooltip.sector'|trans({'%position%': sector.getPosition()}) }}" href="{{ path('map', {'id':sector.getPosition(), 'usePlanet': usePlanet.getId(), 'gal': sector.getGalaxy().getPosition()}) }}">
                        {% for planet in sector.getPlanets() %}
                            <span class="{% if planet.getEmpty() == true %}pp-no{% endif %}{% if planet.getUser() == app.user %}pp-mine{% elseif planet.getPlanetAlliance() == app.user.getAlly() and planet.getPlanetAlliance() != null or planet.getOurAllyPact(app.user) %}pp-ally{% elseif planet.getUser() %}pp-enemy{% elseif planet.getCdr() == true %}pp-cdr{% elseif planet.getMerchant() == true %}pp-ia{% endif %} size-little-galaxy">{% if planet.getEmpty() == true %}.{% else %}.{% endif %}</span>
                        {% endfor %}
                    </a></td>
                {% set x = x + 1 %}
                {% if x == 5 %}
                    </tr>
                    {% set x = 1 %}
                {% endif %}
            {% endfor %}
            </tbody>
        </table>
        <div class="mt-3 galaxy-info text-center">
            <span class="pp-mine text-more">.</span> {{ 'galaxy.mine'|trans }} <span class="pp-ally ml-4 text-more">.</span> {{ 'galaxy.ally'|trans }} <span class="pp-enemy ml-4 text-more">.</span> {{ 'galaxy.enemy'|trans }} <span class="pp-ia ml-4 text-more">.</span> {{ 'galaxy.ia'|trans }} <span class="pp-cdr ml-4 text-more">.</span> {{ 'galaxy.cdr'|trans }} <span class="ml-4 text-more">.</span> {{ 'galaxy.empty'|trans }}
        </div>
    </div>
{% endblock %}#}




{# VUE GALAXY AVEC 100 SECTEUR#}

{% block body %}
    <div class="front-block">
        <div class="map-block">
            {{ form_start(form_navigate) }}
                <div class="row mb-2 navigate">
                    <div class="col-2 pt-1 text-more text-right">{{ form_label(form_navigate.galaxy) }}</div>
                    <div class="col-1">
                         {{ form_widget(form_navigate.galaxy) }}
                    </div>
                    <div class="col-2 pt-1 text-more text-right">{{ form_label(form_navigate.sector) }}</div>
                    <div class="col-1">
                        {{ form_widget(form_navigate.sector) }}
                    </div>
                    <div class="col-1">
                        {{ form_widget(form_navigate.sendForm) }}
                    </div>
                </div>
            {{ form_end(form_navigate) }}
          {#  <table class="table table-bordered table-dark galaxy-table text-center">
                <tbody>
                    {% set x = 1 %}
                    {% for sector in sectors %}
                        {% if x == 1 %}
                            <tr>
                            {% set x = 1 %}
                        {% endif %}
                        <td class="center-cells{% if sector.getDestroy() == true %} red-border{% endif %}"><a data-toggle="tooltip" data-placement="top" title="{{ 'tooltip.sector'|trans({'%position%': sector.getPosition()}) }}" href="{{ path('map', {'id':sector.getPosition(), 'usePlanet': usePlanet.getId(), 'gal': sector.getGalaxy().getPosition()}) }}">
                                {% for planet in sector.getPlanets() %}
                                    <span class="{% if planet.getEmpty() == true %}pp-no2{% endif %}{% if planet.getUser() == app.user %}pp-mine2{% elseif planet.getPlanetAlliance() == app.user.getAlly() and planet.getPlanetAlliance() != null or planet.getOurAllyPact(app.user) %}pp-ally2{% elseif planet.getUser() %}pp-enemy2{% elseif planet.getCdr() == true %}pp-cdr2{% elseif planet.getMerchant() == true %}pp-ia2{% endif %}">{% if planet.getEmpty() == true %}&#x25A0{% else %}&#x25A0{% endif %}</span>
                                {% endfor %}
                            </a></td>
                        {% set x = x + 1 %}
                                {% if x == 11 %}
                            </tr>
                        {% set x = 1 %}
                        {% endif %}
                    {% endfor %}
                </tbody>
            </table>#}
            <table class="table table-bordered galaxy-table text-center">
                <tbody>
                {% set x = 0 %}
                {% set y = 0 %}
                {% for planet in planets %}
                    {% if x == 0 %}
                        <tr>
                        {% set x = 0 %}
                    {% endif %}
                    {% if y % 25 == 0 %}
                        <td class="center-cells{% if planet.destroy == true %} red-border{% endif %}"><a data-toggle="tooltip" data-placement="top" title="{{ 'tooltip.sector'|trans({'%position%': planet.sector}) }}" href="{{ path('map', {'sector':planet.sector, 'gal': planet.galaxy, 'usePlanet': usePlanet.getId()}) }}">
                    {% endif %}
                    <span class="{% if planet.empty == true %}pp-no2{% endif %}{% if planet.username == app.user.getUsername() %}pp-mine2{% elseif app.user.getAlly() and planet.alliance == app.user.getAlly().getSigle() and planet.alliance != null or app.user.getOurAllyPact(planet.alliance) %}pp-ally2{% elseif planet.username %}pp-enemy2{% elseif planet.cdr == true %}pp-cdr2{% elseif planet.merchant == true %}pp-ia2{% endif %}">{% if planet.zombie %}<img src="{{ asset('img/special-mini.gif') }}">{% else %}&#x25A0{% endif %}</span>
                    {% set y = y + 1 %}
                    {% if y % 25 == 0 %}</a></td>{% endif %}
                    {% set x = x + 1 %}
                    {% if x == 250 %}
                        </tr>
                        {% set x = 0 %}
                    {% endif %}
                {% endfor %}
                </tbody>
            </table>
            <div class="mt-3 galaxy-info text-center">
                <span class="pp-mine text-more">&#x25A0</span> {{ 'galaxy.mine'|trans }} <span class="pp-ally ml-4 text-more">&#x25A0</span> {{ 'galaxy.ally'|trans }} <span class="pp-enemy ml-4 text-more">&#x25A0</span> {{ 'galaxy.enemy'|trans }} <span class="pp-ia ml-4 text-more">&#x25A0</span> {{ 'galaxy.ia'|trans }} <span class="pp-cdr ml-4 text-more">&#x25A0</span> {{ 'galaxy.cdr'|trans }} <span class="ml-4">&#x25A0</span> {{ 'galaxy.empty'|trans }} <span class="ml-4"><img src="{{ asset('img/special.gif') }}"></span> {{ 'galaxy.zombie'|trans }}
            </div>
        </div>
    </div>
{% endblock %}
