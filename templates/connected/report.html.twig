{% extends 'base.html.twig' %}

{% trans_default_domain 'front_report' %}

{% block title %}{{ 'title'|trans }}{% endblock %}

{% block body %}
    <div class="front-block-ally report">
        <div class="float-right mb-3"><a class="btn-new" href="{{ path('report_all_view', {'idp': usePlanet.getId()}) }}">{{ 'AllNewView'|trans }}</a></div>
        {% for report in reports %}
        <table class="table table-striped table-bordered table-dark">
            <tbody>
            <tr>
                <th class="tab-cells-name">
                    <span class="ml-3{% if report.getTitle() == 'Rapport de combat : DÃ©faite' %} text-rouge{% elseif report.getTitle() == 'Rapport de combat : Victoire' %} text-vert{% endif %}">{{ report.getTitle() }}</span>
                    <span class="float-right">
                        {% if report.getNewReport() == true %}<a class="btn-new" href="{{ path('report_view', {'idp': usePlanet.getId(), 'id': report.getId()}) }}">{{ 'NewReport'|trans }}</a>{% endif %}
                        {{ report.getSendAt()|date('Y/m/d H:i:s') }}
                    </span>
                </th>
            </tr>
            <tr>
                <th colspan="2" class="tab-cells-name">
                    <div class="p-3">
                        {{ report.getContent()|raw }}
                    </div>
                </th>
            </tr>
            <tr>
                <th colspan="2" class="tab-cells-name">
                    <div class="p-1">{% if report.getShareKey() %}<a class="p-1" href="{{ path('report_share_display', {'id': report.getShareKey()}) }}" target="_blank">https://www.areauniverse.eu/connect/rapport/share/{{ report.getShareKey() }}</a>{% endif %}<a class="confirm-button btn-sm" href="{{ path('report_share', {'idp': usePlanet.getId(), 'id': report.getId()}) }}">{{ 'share'|trans }}</a></div>
                </th>
            </tr>
            </tbody>
        </table>
        {% endfor %}
    </div>
{% endblock %}
