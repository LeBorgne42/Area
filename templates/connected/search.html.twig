{% extends 'base.html.twig' %}

{% trans_default_domain 'front_search' %}

{% block title %}{{ 'title'|trans }}{% endblock %}

{% block body %}
    <div class="front-block">
        {% if app.user.getTutorial() == 8 or app.user.getTutorial() == 9 %}
            <table class="table table-striped borderOverview tutorial">
                <tbody>
                <tr>
                    <th class="tab-cells-name p-3 tutorial">
                        <div class="row">
                            <div class="col-12 py-1">
                                {% if app.user.getTutorial() == 8  %}{{ 'research.tutorial'|trans|raw }}{% elseif app.user.getTutorial() == 9  %}{{ 'research.tutorialBis'|trans|raw }}{% endif %}
                            </div>
                        </div>
                    </th>
                </tr>
                </tbody>
            </table>
        {% endif %}
        <div class="research">
            <div id="timeDefaut" hidden>{{ "now"|date('Y/m/d H:i:s') }}</div>
            <div class="block-title"><h1>{{ 'research.titleUtility'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                <tr class="{% if character.getUtility() == 3 %}finish-search availableBack{% else %}access-search{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/utility.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.utility'|trans|raw }}">{{ 'title.utility'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getUtility() %}{{ character.getUtility() }}{% else %}0{% endif %} / 3</button>
                        {% if character.getUtility() != 3 %}<div class="mt-4">{% if (character.getUtility() + 1) * 2500 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getUtility() + 1) * 2500)|number_format }}</span>{% else %}{{ ((character.getUtility() + 1) * 2500)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if character.getUtility() == 3 %}
                    <td colspan="2" width="101px" class="center-cells cell-middle">
                        <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                    </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.utility.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if character.getSearch() == 'utility' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if character.getBitcoin() >= ((character.getUtility() + 1) * 2500) and character.getUtility() < 3 and character.getSearchAt is null %}
                                    <div>{% if ((character.getUtility() + 1) * character.getTimeConstruct(200)) < 3600 %}{{  ((character.getUtility() + 1) * character.getTimeConstruct(200) - 3600)|date('i:s') }}{% elseif ((character.getUtility() + 1) * character.getTimeConstruct(200)) < 86400 %}{{  ((character.getUtility() + 1) * character.getTimeConstruct(200) - 3600- 3600)|date('H:i:s') }}{% else %}{{  ((character.getUtility() + 1) * character.getTimeConstruct(200) - 3600- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start{% if app.user.getTutorial() == 8 %} tutorial-show{% endif %}" href="{{ path('research_utility', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    </td>
                </tr>
                {% if character.getUtility() <= 0 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/terra.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.terra'|trans|raw }}">{{ 'title.terraformation'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.terraformation.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getTerraformation() == 18 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/terra.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.terra'|trans|raw }}">{{ 'title.terraformation'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getTerraformation() %}{{ character.getTerraformation() }}{% else %}0{% endif %} / 18</button>
                            {% if character.getTerraformation() != 18 %}<div class="mt-4">{% if (character.getTerraformation() + 1) * 12000 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getTerraformation() + 1) * 12000)|number_format }}</span>{% else %}{{ ((character.getTerraformation() + 1) * 12000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getTerraformation() == 18 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.terraformation.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'terraformation' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>
                                {% else %}
                                    {% if character.getBitcoin() >= (character.getTerraformation() + 1) * 12000 and character.getTerraformation() < 18  and character.getUtility() > 0 and character.getSearchAt is null %}
                                        <div>{% if ((character.getTerraformation() + 1) * character.getTimeConstruct(4200)) < 3600 %}{{ ((character.getTerraformation() + 1) * character.getTimeConstruct(4200))|date('i:s') }}{% elseif ((character.getTerraformation() + 1) * character.getTimeConstruct(4200)) < 86400 %}{{  ((character.getTerraformation() + 1) * character.getTimeConstruct(4200)- 3600)|date('H:i:s') }}{% else %}{{ ((character.getTerraformation() + 1) * character.getTimeConstruct(4200)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_terraformation', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if character.getUtility() <= 1 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/cargo.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.cargo'|trans|raw }}">{{ 'title.cargo'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.cargo.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getCargo() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/cargo.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.cargo'|trans|raw }}">{{ 'title.cargo'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getCargo() %}{{ character.getCargo() }}{% else %}0{% endif %} / 5</button>
                            {% if character.getCargo() != 5 %}<div class="mt-4">{% if (character.getCargo() + 1) * 3500 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getCargo() + 1) * 3500)|number_format }}</span>{% else %}{{ ((character.getCargo() + 1) * 3500)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getCargo() == 5 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.cargo.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'cargo' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getCargo() + 1) * 3500) and character.getCargo() < 5  and character.getUtility() > 1 and character.getSearchAt is null %}
                                        <div>{% if ((character.getCargo() + 1) * character.getTimeConstruct(400)) < 3600 %}{{ ((character.getCargo() + 1) * character.getTimeConstruct(400))|date('i:s') }}{% elseif ((character.getCargo() + 1) * character.getTimeConstruct(400)) < 86400 %}{{  ((character.getCargo() + 1) * character.getTimeConstruct(400)- 3600)|date('H:i:s') }}{% else %}{{  ((character.getCargo() + 1) * character.getTimeConstruct(400)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_cargo', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if character.getUtility() != 3 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/invader.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.barge'|trans|raw }}">{{ 'title.barge'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.barge.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getBarge() == 1 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/invader.webp') }}">{% if character.getBarge() == false %}<button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.barge'|trans|raw }}">{{ 'title.barge'|trans|raw }} - {{ 'research.canBe'|trans }}</button>{% else %}{{ 'title.barge'|trans|raw }} - <span class="text-vert">{{ 'research.Activated'|trans }}</span>{% endif %}
                            {% if character.getBarge() != 1 %}<div class="mt-4">{% if 35000 > character.getBitcoin() %}<span class="text-rouge">35.000</span>{% else %}35.000{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getBarge() == 1 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.barge.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'barge' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= 35000 and character.getBarge() == 0  and character.getUtility() == 3 and character.getSearchAt is null %}
                                        <div>{% if ((character.getBarge() + 1) * character.getTimeConstruct(280)) < 3600 %}{{ ((character.getBarge() + 1) * character.getTimeConstruct(280))|date('i:s') }}{% elseif ((character.getBarge() + 1) * character.getTimeConstruct(280)) < 86400 %}{{ ((character.getBarge() + 1) * character.getTimeConstruct(280)- 3600)|date('H:i:s') }}{% else %}{{  ((character.getBarge() + 1) * character.getTimeConstruct(280)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_barge', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if character.getUtility() != 3 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/recyclage.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.recycleur'|trans|raw }}">{{ 'title.recycleur'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.recycleur.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getRecycleur() == 1 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/recyclage.webp') }}">{% if character.getRecycleur() == false %}<button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.recylceur'|trans|raw }}">{{ 'title.recycleur'|trans|raw }} - {{ 'research.canBe'|trans }}</button>{% else %}{{ 'title.recycleur'|trans|raw }} - <span class="text-vert">{{ 'research.Activated'|trans }}</span>{% endif %}
                            {% if character.getRecycleur() != 1 %}<div class="mt-4">{% if 16900 > character.getBitcoin() %}<span class="text-rouge">16.900</span>{% else %}16.900{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getRecycleur() == 1 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.recycleur.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'recycleur' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= 16900 and character.getRecycleur() == 0  and character.getUtility() == 3 and character.getSearchAt is null %}
                                        <div>{% if ((character.getRecycleur() + 1) * character.getTimeConstruct(400)) < 3600 %}{{ ((character.getRecycleur() + 1) * character.getTimeConstruct(400))|date('i:s') }}{% elseif ((character.getRecycleur() + 1) * character.getTimeConstruct(400)) < 86400 %}{{ ((character.getRecycleur() + 1) * character.getTimeConstruct(400)- 3600)|date('H:i:s') }}{% else %}{{ ((character.getRecycleur() + 1) * character.getTimeConstruct(400)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_recyclage', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                <tr class="{% if character.getOnde() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/scanner.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.onde'|trans|raw }}">{{ 'title.onde'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getOnde() %}{{ character.getOnde() }}{% else %}0{% endif %} / 5</button>
                        {% if character.getOnde() != 5 %}<div class="mt-4">{% if (character.getOnde() + 1) * 2300 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getOnde() + 1) * 2300)|number_format }}</span>{% else %}{{ ((character.getOnde() + 1) * 2300)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if character.getOnde() == 5 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.onde.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if character.getSearch() == 'onde' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if character.getBitcoin() >= ((character.getOnde() + 1) * 2300) and character.getOnde() < 5 and character.getSearchAt is null %}
                                    <div>{% if ((character.getOnde() + 1) * character.getTimeConstruct(300)) < 3600 %}{{ ((character.getOnde() + 1) * character.getTimeConstruct(300))|date('i:s') }}{% elseif ((character.getOnde() + 1) * character.getTimeConstruct(300)) < 86400 %}{{ ((character.getOnde() + 1) * character.getTimeConstruct(300)- 3600)|date('H:i:s') }}{% else %}{{ ((character.getOnde() + 1) * character.getTimeConstruct(300)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_onde', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                <tr class="{% if character.getHyperespace() == 1 %}finish-search availableBack{% else %}access-search{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/hyper.webp') }}">{% if character.getHyperespace() == false %}<button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.hyper'|trans|raw }}">{{ 'title.hyperespace'|trans|raw }} - {{ 'research.canBe'|trans }}</button>{% else %}{{ 'title.hyperespace'|trans|raw }} - <span class="text-vert">{{ 'research.Activated'|trans }}</span>{% endif %}
                        {% if character.getHyperespace() == 0 %}<div class="mt-4">{% if 25000000 > character.getBitcoin() %}<span class="text-rouge">25.000.000</span>{% else %}25.000.000{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if character.getHyperespace() == 1 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.hyperespace.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if character.getSearch() == 'hyperespace' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if character.getBitcoin() >= 25000000 and character.getHyperespace() == false and character.getSearchAt is null %}
                                    <div>{{  ((character.getHyperespace() + 1) * character.getTimeConstruct(6048)- 3600)|date('d H:i:s') }}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_hyperespace', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'research.titleEco'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                <tr class="{% if character.getAeroponicFarm() == 1 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="62" src="{{ asset('img/aeroponic_farm.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.aeroponicFarm'|trans|raw }}">{{ 'title.aeroponicFarm'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getAeroponicFarm() %}{{ character.getAeroponicFarm() }}{% else %}0{% endif %} / 1</button>
                        {% if character.getAeroponicFarm() != 1 %}<div class="mt-4">{% if (character.getAeroponicFarm() + 1) * 16000 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getAeroponicFarm() + 1) * 16000)|number_format }}</span>{% else %}{{ ((character.getAeroponicFarm() + 1) * 16000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if character.getAeroponicFarm() == 1 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.aeroponicFarm.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if character.getSearch() == 'aeroponicFarm' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if character.getBitcoin() >= ((character.getAeroponicFarm() + 1) * 8000) and character.getAeroponicFarm() < 1 and character.getSearchAt is null %}
                                    <div>{% if ((character.getAeroponicFarm() + 1) * character.getTimeConstruct(480)) < 3600 %}{{ ((character.getAeroponicFarm() + 1) * character.getTimeConstruct(480))|date('i:s') }}{% elseif ((character.getAeroponicFarm() + 1) * character.getTimeConstruct(480)) < 86400 %}{{  ((character.getAeroponicFarm() + 1) * character.getTimeConstruct(480)- 3600)|date('H:i:s') }}{% else %}{{  ((character.getAeroponicFarm() + 1) * character.getTimeConstruct(480)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_aeroponic', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                <tr class="{% if character.getDemography() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/urbain.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.demography'|trans|raw }}">{{ 'title.demography'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getDemography() %}{{ character.getDemography() }}{% else %}0{% endif %} / 5</button>
                        {% if character.getDemography() != 5 %}<div class="mt-4">{% if (character.getDemography() + 1) * 8000 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getDemography() + 1) * 8000)|number_format }}</span>{% else %}{{ ((character.getDemography() + 1) * 8000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if character.getDemography() == 5 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.demography.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if character.getSearch() == 'demography' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if character.getBitcoin() >= ((character.getDemography() + 1) * 8000) and character.getDemography() < 5 and character.getSearchAt is null %}
                                    <div>{% if ((character.getDemography() + 1) * character.getTimeConstruct(480)) < 3600 %}{{ ((character.getDemography() + 1) * character.getTimeConstruct(480))|date('i:s') }}{% elseif ((character.getDemography() + 1) * character.getTimeConstruct(480)) < 86400 %}{{  ((character.getDemography() + 1) * character.getTimeConstruct(480)- 3600)|date('H:i:s') }}{% else %}{{  ((character.getDemography() + 1) * character.getTimeConstruct(480)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_demography', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                {% if character.getDemography() <= 0 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/military.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.discipline'|trans|raw }}">{{ 'title.discipline'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.discipline.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getDiscipline() == 3 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/military.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.discipline'|trans|raw }}">{{ 'title.discipline'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getDiscipline() %}{{ character.getDiscipline() }}{% else %}0{% endif %} / 3</button>
                            {% if character.getDiscipline() != 3 %}<div class="mt-4">{% if (character.getDiscipline() + 1) * 11700 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getDiscipline() + 1) * 11700)|number_format }}</span>{% else %}{{ ((character.getDiscipline() + 1) * 11700)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getDiscipline() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.discipline.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'discipline' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getDiscipline() + 1) * 11700) and character.getDemography() > 0 and character.getDiscipline() < 3 and character.getSearchAt is null %}
                                        <div>{% if ((character.getDiscipline() + 1) * character.getTimeConstruct(930)) < 3600 %}{{ ((character.getDiscipline() + 1) * character.getTimeConstruct(930))|date('i:s') }}{% elseif ((character.getDiscipline() + 1) * character.getTimeConstruct(930)) < 86400 %}{{  ((character.getDiscipline() + 1) * character.getTimeConstruct(930)- 3600)|date('H:i:s') }}{% else %}{{  ((character.getDiscipline() + 1) * character.getTimeConstruct(930)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_discipline', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if character.getDiscipline() != 3 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/barbed.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.barbed'|trans|raw }}">{{ 'title.barbed'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.barbed.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getBarbed() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/barbed.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.barbed'|trans|raw }}">{{ 'title.barbed'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getBarbed() %}{{ character.getBarbed() }}{% else %}0{% endif %} / 5</button>
                            {% if character.getBarbed() != 5 %}<div class="mt-4">{% if (character.getBarbed() + 1) * 200000 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getBarbed() + 1) * 200000)|number_format }}</span>{% else %}{{ ((character.getBarbed() + 1) * 200000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getBarbed() == 5 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.barbed.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'barbed' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getBarbed() + 1) * 200000) and character.getDiscipline() == 3 and character.getBarbed() < 5 and character.getSearchAt is null %}
                                        <div>{% if ((character.getBarbed() + 1) * character.getTimeConstruct(1200)) < 3600 %}{{ ((character.getBarbed() + 1) * character.getTimeConstruct(1200))|date('i:s') }}{% elseif ((character.getBarbed() + 1) * character.getTimeConstruct(1200)) < 86400 %}{{  ((character.getBarbed() + 1) * character.getTimeConstruct(1200)- 3600)|date('H:i:s') }}{% else %}{{  ((character.getBarbed() + 1) * character.getTimeConstruct(1200)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_barbed', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if character.getDiscipline() != 3 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/tank.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.tank'|trans|raw }}">{{ 'title.tank'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.tank.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getTank() == 1 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/tank.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.tank'|trans|raw }}">{{ 'title.tank'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getTank() %}{{ character.getTank() }}{% else %}0{% endif %} / 1</button>
                            {% if character.getTank() != 1 %}<div class="mt-4">{% if (character.getTank() + 1) * 40000 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getTank() + 1) * 40000)|number_format }}</span>{% else %}{{ ((character.getTank() + 1) * 40000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getTank() == 1 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.tank.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'tank' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getTank() + 1) * 40000) and character.getDiscipline() == 3 and character.getTank() < 1 and character.getSearchAt is null %}
                                        <div>{% if ((character.getTank() + 1) * character.getTimeConstruct(2000)) < 3600 %}{{ ((character.getTank() + 1) * character.getTimeConstruct(2000))|date('i:s') }}{% elseif ((character.getTank() + 1) * character.getTimeConstruct(2000)) < 86400 %}{{  ((character.getTank() + 1) * character.getTimeConstruct(2000)- 3600)|date('H:i:s') }}{% else %}{{  ((character.getTank() + 1) * character.getTimeConstruct(2000)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_tank', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if character.getTerraformation() <= 17 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/expansion.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.expansion'|trans|raw }}">{{ 'title.expansion'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.expansion.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getExpansion() == 2 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/expansion.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.expansion'|trans|raw }}">{{ 'title.expansion'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getExpansion() %}{{ character.getExpansion() }}{% else %}0{% endif %} / 2</button>
                            {% if character.getExpansion() != 2 %}<div class="mt-4">{% if (character.getExpansion() + 1) * 75000 > character.getRank().getWarPoint() %}<span class="text-rouge">{{ ((character.getExpansion() + 1) * 75000)|number_format }}</span>{% else %}{{ ((character.getExpansion() + 1) * 75000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'pdgImg'|trans }}" src="{{ asset('img/pdg.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getExpansion() == 2 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.expansion.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'expansion' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getRank().getWarPoint() >= ((character.getExpansion() + 1) * 75000) and character.getTerraformation() == 18 and character.getExpansion() < 2 and character.getSearchAt is null %}
                                        <div>{% if ((character.getExpansion() + 1) * character.getTimeConstruct(6000)) < 3600 %}{{ ((character.getExpansion() + 1) * character.getTimeConstruct(6000))|date('i:s') }}{% elseif ((character.getExpansion() + 1) * character.getTimeConstruct(6000)) < 86400 %}{{  ((character.getExpansion() + 1) * character.getTimeConstruct(6000)- 3600)|date('H:i:s') }}{% else %}{{  ((character.getExpansion() + 1) * character.getTimeConstruct(6000)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_expansion', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'research.titleArm'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                <tr class="{% if character.getArmement() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/armement.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.armement'|trans|raw }}">{{ 'title.armement'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getArmement() %}{{ character.getArmement() }}{% else %}0{% endif %} / 5</button>
                        {% if character.getArmement() != 5 %}<div class="mt-4">{% if (character.getArmement() + 1) * 2000 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getArmement() + 1) * 2000)|number_format }}</span>{% else %}{{ ((character.getArmement() + 1) * 2000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if character.getArmement() == 5 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.armement.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if character.getSearch() == 'armement' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if character.getBitcoin() >= ((character.getArmement() + 1) * 2000) and character.getArmement() < 5 and character.getSearchAt is null %}
                                    <div>{% if ((character.getArmement() + 1) * character.getTimeConstruct(370)) < 3600 %}{{ ((character.getArmement() + 1) * character.getTimeConstruct(370))|date('i:s') }}{% elseif ((character.getArmement() + 1) * character.getTimeConstruct(370)) < 86400 %}{{  ((character.getArmement() + 1) * character.getTimeConstruct(370)- 3600)|date('H:i:s') }}{% else %}{{  ((character.getArmement(3700) + 1) * character.getTimeConstruct()- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_armement', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                {% if character.getArmement() <= 0 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/missile.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.missile'|trans|raw }}">{{ 'title.missile'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.missile.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getMissile() == 3 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/missile.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.missile'|trans|raw }}">{{ 'title.missile'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getMissile() %}{{ character.getMissile() }}{% else %}0{% endif %} / 3</button>
                            {% if character.getMissile() != 3 %}<div class="mt-4">{% if (character.getMissile() + 1) * 2600 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getMissile() + 1) * 2600)|number_format }}</span>{% else %}{{ ((character.getMissile() + 1) * 2600)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getMissile() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.missile.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'missile' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getMissile() + 1) * 2600) and character.getArmement() > 0 and character.getMissile() < 3 and character.getSearchAt is null %}
                                        <div>{% if ((character.getMissile() + 1) * character.getTimeConstruct(450)) < 3600 %}{{ ((character.getMissile() + 1) * character.getTimeConstruct(450))|date('i:s') }}{% elseif ((character.getMissile() + 1) * character.getTimeConstruct(450)) < 86400 %}{{ ((character.getMissile() + 1) * character.getTimeConstruct(450)- 3600)|date('H:i:s') }}{% else %}{{ ((character.getMissile() + 1) * character.getTimeConstruct(450)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_missile', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if character.getArmement() <= 2 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/laser.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.laser'|trans|raw }}">{{ 'title.laser'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.laser.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getLaser() == 3 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/laser.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.laser'|trans|raw }}">{{ 'title.laser'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getLaser() %}{{ character.getLaser() }}{% else %}0{% endif %} / 3</button>
                            {% if character.getLaser() != 3 %}<div class="mt-4">{% if (character.getLaser() + 1) * 13000 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getLaser() + 1) * 13000)|number_format }}</span>{% else %}{{ ((character.getLaser() + 1) * 13000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getLaser() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.laser.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'laser' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getLaser() + 1) * 13000) and character.getArmement() > 2 and character.getLaser() < 3 and character.getSearchAt is null %}
                                        <div>{% if ((character.getLaser() + 1) * character.getTimeConstruct(1800)) < 3600 %}{{ ((character.getLaser() + 1) * character.getTimeConstruct(1800))|date('i:s') }}{% elseif ((character.getLaser() + 1) * character.getTimeConstruct(1800)) < 86400 %}{{ ((character.getLaser() + 1) * character.getTimeConstruct(1800)- 3600)|date('H:i:s') }}{% else %}{{ ((character.getLaser() + 1) * character.getTimeConstruct(1800)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_laser', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if character.getArmement() != 5 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/plasma.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.plasma'|trans|raw }}">{{ 'title.plasma'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.plasma.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getPlasma() == 3 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/plasma.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.plasma'|trans|raw }}">{{ 'title.plasma'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPlasma() %}{{ character.getPlasma() }}{% else %}0{% endif %} / 3</button>
                            {% if character.getPlasma() != 3 %}<div class="mt-4">{% if (character.getPlasma() + 1) * 29000 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPlasma() + 1) * 29000)|number_format }}</span>{% else %}{{ ((character.getPlasma() + 1) * 29000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getPlasma() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.plasma.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'plasma' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getPlasma() + 1) * 29000) and character.getArmement() == 5 and character.getPlasma() < 3 and character.getSearchAt is null %}
                                        <div>{% if ((character.getPlasma() + 1) * character.getTimeConstruct(4680)) < 86400 %}{{ ((character.getPlasma() + 1) * character.getTimeConstruct(4680)- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPlasma() + 1) * character.getTimeConstruct(4680)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_plasma', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'research.titleWar'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                <tr class="{% if character.getIndustry() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/industry.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.industry'|trans|raw }}">{{ 'title.industry'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getIndustry() %}{{ character.getIndustry() }}{% else %}0{% endif %} / 5</button>
                        {% if character.getIndustry() != 5 %}<div class="mt-4">{% if (character.getIndustry() + 1) * 1500 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getIndustry() + 1) * 1500)|number_format }}</span>{% else %}{{ ((character.getIndustry() + 1) * 1500)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if character.getIndustry() == 5 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.industry.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if character.getSearch() == 'industry' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if character.getBitcoin() >= ((character.getIndustry() + 1) * 1500) and character.getIndustry() < 5 and character.getSearchAt is null %}
                                    <div>{% if ((character.getIndustry() + 1) * character.getTimeConstruct(150)) < 3600 %}{{ ((character.getIndustry() + 1) * character.getTimeConstruct(150))|date('i:s') }}{% elseif ((character.getIndustry() + 1) * character.getTimeConstruct(150)) < 86400 %}{{ ((character.getIndustry() + 1) * character.getTimeConstruct(150)- 3600)|date('H:i:s') }}{% else %}{{ ((character.getIndustry() + 1) * character.getTimeConstruct(150)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_industry', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                {% if character.getIndustry() <= 2 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/lightShip.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.light'|trans|raw }}">{{ 'title.lightShip'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.lightShip.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getLightShip() == 3 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/lightShip.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.light'|trans|raw }}">{{ 'title.lightShip'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getLightShip() %}{{ character.getLightShip() }}{% else %}0{% endif %} / 3</button>
                            {% if character.getLightShip() != 3 %}<div class="mt-4">{% if (character.getLightShip() + 1) * 9000 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getLightShip() + 1) * 9000)|number_format }}</span>{% else %}{{ ((character.getLightShip() + 1) * 9000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getLightShip() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.lightShip.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'lightShip' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getLightShip() + 1) * 9000) and character.getLightShip() < 3 and character.getIndustry() > 2 and character.getSearchAt is null %}
                                        <div>{% if ((character.getLightShip() + 1) * character.getTimeConstruct(860)) < 3600 %}{{ ((character.getLightShip() + 1) * character.getTimeConstruct(860))|date('i:s') }}{% elseif ((character.getLightShip() + 1) * character.getTimeConstruct(860)) < 86400 %}{{ ((character.getLightShip() + 1) * character.getTimeConstruct(860)- 3600)|date('H:i:s') }}{% else %}{{ ((character.getLightShip() + 1) * character.getTimeConstruct(860)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_light_ship', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if character.getIndustry() != 5 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/heavyShip.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.heavy'|trans|raw }}">{{ 'title.heavyShip'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.heavyShip.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if character.getHeavyShip() == 3 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/heavyShip.webp') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.heavy'|trans|raw }}">{{ 'title.heavyShip'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getHeavyShip() %}{{ character.getHeavyShip() }}{% else %}0{% endif %} / 3</button>
                            {% if character.getHeavyShip() != 3 %}<div class="mt-4">{% if (character.getHeavyShip() + 1) * 42000 > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getHeavyShip() + 1) * 42000)|number_format }}</span>{% else %}{{ ((character.getHeavyShip() + 1) * 42000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getHeavyShip() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.heavyShip.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'heavyShip' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getHeavyShip() + 1) * 42000) and character.getHeavyShip() < 3 and character.getIndustry() == 5 and character.getSearchAt is null %}
                                        <div>{% if ((character.getHeavyShip() + 1) * character.getTimeConstruct(1200)) < 3600 %}{{ ((character.getHeavyShip() + 1) * character.getTimeConstruct(1200))|date('i:s') }}{% elseif ((character.getHeavyShip() + 1) * character.getTimeConstruct(1200)) < 86400 %}{{ ((character.getHeavyShip() + 1) * character.getTimeConstruct(1200)- 3600)|date('H:i:s') }}{% else %}{{ ((character.getHeavyShip() + 1) * character.getTimeConstruct(1200)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_heavy_ship', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'research.titleAlly'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                {% if ally == null %}
                <tr class="blockedBack">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/ally.webp') }}"><button class="text-orange mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.ally'|trans|raw }}">{{ 'title.ally'|trans|raw }}</button>
                    </th>
                    <td class="center-cells cell-middle">
                        {{ 'research.ally.blocked'|trans }}
                    </td>
                    <td width="101px" class="center-cells cell-middle">
                        <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                    </td>
                </tr>
                {% endif %}
                {% if ally and ally.getPolitic == 'communism' %}
                    <tr class="{% if character.getPoliticRecycleur() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/recycleur_ally.webp') }}"><button class="text-orange">{{ 'title.recycleur.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticRecycleur() %}{{ character.getPoliticRecycleur() }}{% else %}0{% endif %} / 5</button>
                            {% if character.getPoliticRecycleur() != 5 %}<div class="mt-4">{% if (character.getPoliticRecycleur() + 1) * character.getResearchCost('recycleur_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticRecycleur() + 1) * character.getResearchCost('recycleur_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticRecycleur() + 1) * character.getResearchCost('recycleur_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getPoliticRecycleur() == 5 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.recycleur.ally.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'recycleur_ally' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getPoliticRecycleur() + 1) * character.getResearchCost('recycleur_ally')) and character.getPoliticRecycleur() < 5 and character.getSearchAt is null %}
                                        <div>{% if ((character.getPoliticRecycleur() + 1) * character.getTimeConstruct(character.getResearchTime('recycleur_ally'))) < 3600 %}{{ ((character.getPoliticRecycleur() + 1) * character.getTimeConstruct(character.getResearchTime('recycleur_ally')))|date('i:s') }}{% elseif ((character.getPoliticRecycleur() + 1) * character.getTimeConstruct(character.getResearchTime('recycleur_ally'))) < 86400 %}{{ ((character.getPoliticRecycleur() + 1) * character.getTimeConstruct(character.getResearchTime('recycleur_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticRecycleur() + 1) * character.getTimeConstruct(character.getResearchTime('recycleur_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'recycleur_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                    {% if ally.getLevel() <= 0 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/worker_def.webp') }}"><button class="text-orange mt-3">{{ 'title.worker.def.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.one.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticWorkerDef() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/worker_def.webp') }}"><button class="text-orange">{{ 'title.worker.def.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticWorkerDef() %}{{ character.getPoliticWorkerDef() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticWorkerDef() != 5 %}<div class="mt-4">{% if (character.getPoliticWorkerDef() + 1) * character.getResearchCost('worker_def_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticWorkerDef() + 1) * character.getResearchCost('worker_def_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticWorkerDef() + 1) * character.getResearchCost('worker_def_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticWorkerDef() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.worker.def.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'worker_def_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticWorkerDef() + 1) * character.getResearchCost('worker_def_ally')) and character.getPoliticWorkerDef() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticWorkerDef() + 1) * character.getTimeConstruct(character.getResearchTime('worker_def_ally'))) < 3600 %}{{ ((character.getPoliticWorkerDef() + 1) * character.getTimeConstruct(character.getResearchTime('worker_def_ally')))|date('i:s') }}{% elseif ((character.getPoliticWorkerDef() + 1) * character.getTimeConstruct(character.getResearchTime('worker_def_ally'))) < 86400 %}{{ ((character.getPoliticWorkerDef() + 1) * character.getTimeConstruct(character.getResearchTime('worker_def_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticWorkerDef() + 1) * character.getTimeConstruct(character.getResearchTime('worker_def_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'worker_def_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            {% if character.getPoliticWorkerDef() == 5 %}
                                                <div class="text-vert">{{ 'research.finish'|trans }}</div>
                                            {% else %}
                                                <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                            {% endif %}
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 1 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/armement_ally.webp') }}"><button class="text-orange mt-3">{{ 'title.armement.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.two.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticArmement() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/armement_ally.webp') }}"><button class="text-orange">{{ 'title.armement.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticArmement() %}{{ character.getPoliticArmement() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticArmement() != 5 %}<div class="mt-4">{% if (character.getPoliticArmement() + 1) * character.getResearchCost('armement_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticArmement() + 1) * character.getResearchCost('armement_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticArmement() + 1) * character.getResearchCost('armement_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticArmement() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.armement.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'armement_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticArmement() + 1) * character.getResearchCost('armement_ally')) and character.getPoliticArmement() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticArmement() + 1) * character.getTimeConstruct(character.getResearchTime('armement_ally'))) < 3600 %}{{ ((character.getPoliticArmement() + 1) * character.getTimeConstruct(character.getResearchTime('armement_ally')))|date('i:s') }}{% elseif ((character.getPoliticArmement() + 1) * character.getTimeConstruct(character.getResearchTime('armement_ally'))) < 86400 %}{{ ((character.getPoliticArmement() + 1) * character.getTimeConstruct(character.getResearchTime('armement_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticArmement() + 1) * character.getTimeConstruct(character.getResearchTime('armement_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'armement_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 2 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/cost_soldier.webp') }}"><button class="text-orange mt-3">{{ 'title.cost.soldier.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.three.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticCostSoldier() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/cost_soldier.webp') }}"><button class="text-orange">{{ 'title.cost.soldier.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticCostSoldier() %}{{ character.getPoliticCostSoldier() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticCostSoldier() != 5 %}<div class="mt-4">{% if (character.getPoliticCostSoldier() + 1) * character.getResearchCost('cost_soldier_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticCostSoldier() + 1) * character.getResearchCost('cost_soldier_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticCostSoldier() + 1) * character.getResearchCost('cost_soldier_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticCostSoldier() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.cost.soldier.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'cost_soldier_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticCostSoldier() + 1) * character.getResearchCost('cost_soldier_ally')) and character.getPoliticCostSoldier() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticCostSoldier() + 1) * character.getTimeConstruct(character.getResearchTime('cost_soldier_ally'))) < 3600 %}{{ ((character.getPoliticCostSoldier() + 1) * character.getTimeConstruct(character.getResearchTime('cost_soldier_ally')))|date('i:s') }}{% elseif ((character.getPoliticCostSoldier() + 1) * character.getTimeConstruct(character.getResearchTime('cost_soldier_ally'))) < 86400 %}{{ ((character.getPoliticCostSoldier() + 1) * character.getTimeConstruct(character.getResearchTime('cost_soldier_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticCostSoldier() + 1) * character.getTimeConstruct(character.getResearchTime('cost_soldier_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'cost_soldier_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 3 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/soldier_sale.webp') }}"><button class="text-orange mt-3">{{ 'title.soldier.sale.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.four.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticSoldierSale() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/soldier_sale.webp') }}"><button class="text-orange">{{ 'title.soldier.sale.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticSoldierSale() %}{{ character.getPoliticSoldierSale() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticSoldierSale() != 5 %}<div class="mt-4">{% if (character.getPoliticSoldierSale() + 1) * character.getResearchCost('soldier_sale_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticSoldierSale() + 1) * character.getResearchCost('soldier_sale_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticSoldierSale() + 1) * character.getResearchCost('soldier_sale_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticSoldierSale() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.soldier.sale.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'soldier_sale_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticSoldierSale() + 1) * character.getResearchCost('soldier_sale_ally')) and character.getPoliticSoldierSale() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticSoldierSale() + 1) * character.getTimeConstruct(character.getResearchTime('soldier_sale_ally'))) < 3600 %}{{ ((character.getPoliticSoldierSale() + 1) * character.getTimeConstruct(character.getResearchTime('soldier_sale_ally')))|date('i:s') }}{% elseif ((character.getPoliticSoldierSale() + 1) * character.getTimeConstruct(character.getResearchTime('soldier_sale_ally'))) < 86400 %}{{ ((character.getPoliticSoldierSale() + 1) * character.getTimeConstruct(character.getResearchTime('soldier_sale_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticSoldierSale() + 1) * character.getTimeConstruct(character.getResearchTime('soldier_sale_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'soldier_sale_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            {% if character.getPoliticSoldierSale() == 5 %}
                                                <div class="text-vert">{{ 'research.finish'|trans }}</div>
                                            {% else %}
                                                <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                            {% endif %}
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 4 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/invade_ally.webp') }}"><button class="text-orange mt-3">{{ 'title.invade.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.five.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticInvade() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/invade_ally.webp') }}"><button class="text-orange">{{ 'title.invade.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticInvade() %}{{ character.getPoliticInvade() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticInvade() != 5 %}<div class="mt-4">{% if (character.getPoliticInvade() + 1) * character.getResearchCost('invade_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticInvade() + 1) * character.getResearchCost('invade_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticInvade() + 1) * character.getResearchCost('invade_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticInvade() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.invade.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'invade_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticInvade() + 1) * character.getResearchCost('invade_ally')) and character.getPoliticInvade() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticInvade() + 1) * character.getTimeConstruct(character.getResearchTime('invade_ally'))) < 3600 %}{{ ((character.getPoliticInvade() + 1) * character.getTimeConstruct(character.getResearchTime('invade_ally')))|date('i:s') }}{% elseif ((character.getPoliticInvade() + 1) * character.getTimeConstruct(character.getResearchTime('invade_ally'))) < 86400 %}{{ ((character.getPoliticInvade() + 1) * character.getTimeConstruct(character.getResearchTime('invade_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticInvade() + 1) * character.getTimeConstruct(character.getResearchTime('invade_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'invade_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                                <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 5 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/pdg_ally.webp') }}"><button class="text-orange mt-3">{{ 'title.pdg.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.six.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticPdg() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/pdg_ally.webp') }}"><button class="text-orange">{{ 'title.pdg.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticPdg() %}{{ character.getPoliticPdg() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticPdg() != 5 %}<div class="mt-4">{% if (character.getPoliticPdg() + 1) * character.getResearchCost('pdg_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticPdg() + 1) * character.getResearchCost('pdg_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticPdg() + 1) * character.getResearchCost('pdg_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticPdg() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.pdg.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'pdg_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticPdg() + 1) * character.getResearchCost('pdg_ally')) and character.getPoliticPdg() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticPdg() + 1) * character.getTimeConstruct(character.getResearchTime('pdg_ally'))) < 3600 %}{{ ((character.getPoliticPdg() + 1) * character.getTimeConstruct(character.getResearchTime('pdg_ally')))|date('i:s') }}{% elseif ((character.getPoliticPdg() + 1) * character.getTimeConstruct(character.getResearchTime('pdg_ally'))) < 86400 %}{{ ((character.getPoliticPdg() + 1) * character.getTimeConstruct(character.getResearchTime('pdg_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticPdg() + 1) * character.getTimeConstruct(character.getResearchTime('pdg_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'pdg_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endif %}
                {% if ally and ally.getPolitic == 'fascism' %}
                    <tr class="{% if character.getPoliticWorker() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/worker_ally.webp') }}"><button class="text-orange">{{ 'title.worker.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticWorker() %}{{ character.getPoliticWorker() }}{% else %}0{% endif %} / 5</button>
                            {% if character.getPoliticWorker() != 5 %}<div class="mt-4">{% if (character.getPoliticWorker() + 1) * character.getResearchCost('worker_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticWorker() + 1) * character.getResearchCost('worker_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticWorker() + 1) * character.getResearchCost('worker_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getPoliticWorker() == 5 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.worker.ally.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'worker_ally' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getPoliticWorker() + 1) * character.getResearchCost('worker_ally')) and character.getPoliticWorker() < 5 and character.getSearchAt is null %}
                                        <div>{% if ((character.getPoliticWorker() + 1) * character.getTimeConstruct(character.getResearchTime('worker_ally'))) < 3600 %}{{ ((character.getPoliticWorker() + 1) * character.getTimeConstruct(character.getResearchTime('worker_ally')))|date('i:s') }}{% elseif ((character.getPoliticWorker() + 1) * character.getTimeConstruct(character.getResearchTime('worker_ally'))) < 86400 %}{{ ((character.getPoliticWorker() + 1) * character.getTimeConstruct(character.getResearchTime('worker_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticWorker() + 1) * character.getTimeConstruct(character.getResearchTime('worker_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'worker_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                    {% if ally.getLevel() <= 0 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/armement_ally.webp') }}"><button class="text-orange mt-3">{{ 'title.armement.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.one.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticArmement() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/armement_ally.webp') }}"><button class="text-orange">{{ 'title.armement.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticArmement() %}{{ character.getPoliticArmement() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticArmement() != 5 %}<div class="mt-4">{% if (character.getPoliticArmement() + 1) * character.getResearchCost('armement_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticArmement() + 1) * character.getResearchCost('armement_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticArmement() + 1) * character.getResearchCost('armement_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticArmement() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.armement.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'armement_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticArmement() + 1) * character.getResearchCost('armement_ally')) and character.getPoliticArmement() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticArmement() + 1) * character.getTimeConstruct(character.getResearchTime('armement_ally'))) < 3600 %}{{ ((character.getPoliticArmement() + 1) * character.getTimeConstruct(character.getResearchTime('armement_ally')))|date('i:s') }}{% elseif ((character.getPoliticArmement() + 1) * character.getTimeConstruct(character.getResearchTime('armement_ally'))) < 86400 %}{{ ((character.getPoliticArmement() + 1) * character.getTimeConstruct(character.getResearchTime('armement_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticArmement() + 1) * character.getTimeConstruct(character.getResearchTime('armement_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'armement_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 1 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/barge_ally.webp') }}"><button class="text-orange mt-3">{{ 'title.barge.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.two.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticBarge() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/barge_ally.webp') }}"><button class="text-orange">{{ 'title.barge.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticBarge() %}{{ character.getPoliticBarge() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticBarge() != 5 %}<div class="mt-4">{% if (character.getPoliticBarge() + 1) * character.getResearchCost('barge_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticBarge() + 1) * character.getResearchCost('barge_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticBarge() + 1) * character.getResearchCost('barge_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticBarge() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.barge.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'barge_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticBarge() + 1) * character.getResearchCost('barge_ally')) and character.getPoliticBarge() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticBarge() + 1) * character.getTimeConstruct(character.getResearchTime('barge_ally'))) < 3600 %}{{ ((character.getPoliticBarge() + 1) * character.getTimeConstruct(character.getResearchTime('barge_ally')))|date('i:s') }}{% elseif ((character.getPoliticBarge() + 1) * character.getTimeConstruct(character.getResearchTime('barge_ally'))) < 86400 %}{{ ((character.getPoliticBarge() + 1) * character.getTimeConstruct(character.getResearchTime('barge_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticBarge() + 1) * character.getTimeConstruct(character.getResearchTime('barge_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'barge_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 2 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/soldier_att.webp') }}"><button class="text-orange mt-3">{{ 'title.soldier.att.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.three.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticSoldierAtt() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/soldier_att.webp') }}"><button class="text-orange">{{ 'title.soldier.att.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticSoldierAtt() %}{{ character.getPoliticSoldierAtt() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticSoldierAtt() != 5 %}<div class="mt-4">{% if (character.getPoliticSoldierAtt() + 1) * character.getResearchCost('soldier_att_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticSoldierAtt() + 1) * character.getResearchCost('soldier_att_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticSoldierAtt() + 1) * character.getResearchCost('soldier_att_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticSoldierAtt() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.soldier.att.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'soldier_att_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticSoldierAtt() + 1) * character.getResearchCost('soldier_att_ally')) and character.getPoliticSoldierAtt() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticSoldierAtt() + 1) * character.getTimeConstruct(character.getResearchTime('soldier_att_ally'))) < 3600 %}{{ ((character.getPoliticSoldierAtt() + 1) * character.getTimeConstruct(character.getResearchTime('soldier_att_ally')))|date('i:s') }}{% elseif ((character.getPoliticSoldierAtt() + 1) * character.getTimeConstruct(character.getResearchTime('soldier_att_ally'))) < 86400 %}{{ ((character.getPoliticSoldierAtt() + 1) * character.getTimeConstruct(character.getResearchTime('soldier_att_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticSoldierAtt() + 1) * character.getTimeConstruct(character.getResearchTime('soldier_att_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'soldier_att_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 3 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/cost_tank.webp') }}"><button class="text-orange mt-3">{{ 'title.cost.tank.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.four.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticCostTank() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/cost_tank.webp') }}"><button class="text-orange">{{ 'title.cost.tank.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticCostTank() %}{{ character.getPoliticCostTank() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticCostTank() != 5 %}<div class="mt-4">{% if (character.getPoliticCostTank() + 1) * character.getResearchCost('cost_tank_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticCostTank() + 1) * character.getResearchCost('cost_tank_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticCostTank() + 1) * character.getResearchCost('cost_tank_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticCostTank() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.cost.tank.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'cost_tank_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticCostTank() + 1) * character.getResearchCost('cost_tank_ally')) and character.getPoliticCostTank() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticCostTank() + 1) * character.getTimeConstruct(character.getResearchTime('cost_tank_ally'))) < 3600 %}{{ ((character.getPoliticCostTank() + 1) * character.getTimeConstruct(character.getResearchTime('cost_tank_ally')))|date('i:s') }}{% elseif ((character.getPoliticCostTank() + 1) * character.getTimeConstruct(character.getResearchTime('cost_tank_ally'))) < 86400 %}{{ ((character.getPoliticCostTank() + 1) * character.getTimeConstruct(character.getResearchTime('cost_tank_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticCostTank() + 1) * character.getTimeConstruct(character.getResearchTime('cost_tank_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'cost_tank_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 4 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/tank_def.webp') }}"><button class="text-orange mt-3">{{ 'title.tank.def.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.five.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticTankDef() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/tank_def.webp') }}"><button class="text-orange">{{ 'title.tank.def.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticTankDef() %}{{ character.getPoliticTankDef() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticTankDef() != 5 %}<div class="mt-4">{% if (character.getPoliticTankDef() + 1) * character.getResearchCost('tank_def_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticTankDef() + 1) * character.getResearchCost('tank_def_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticTankDef() + 1) * character.getResearchCost('tank_def_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticTankDef() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.tank.def.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'tank_def_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticTankDef() + 1) * character.getResearchCost('tank_def_ally')) and character.getPoliticTankDef() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticTankDef() + 1) * character.getTimeConstruct(character.getResearchTime('tank_def_ally'))) < 3600 %}{{ ((character.getPoliticTankDef() + 1) * character.getTimeConstruct(character.getResearchTime('tank_def_ally')))|date('i:s') }}{% elseif ((character.getPoliticTankDef() + 1) * character.getTimeConstruct(character.getResearchTime('tank_def_ally'))) < 86400 %}{{ ((character.getPoliticTankDef() + 1) * character.getTimeConstruct(character.getResearchTime('tank_def_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticTankDef() + 1) * character.getTimeConstruct(character.getResearchTime('tank_def_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'tank_def_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 5 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/invade_ally.webp') }}"><button class="text-orange mt-3">{{ 'title.invade.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.six.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticInvade() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/invade_ally.webp') }}"><button class="text-orange">{{ 'title.invade.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticInvade() %}{{ character.getPoliticInvade() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticInvade() != 5 %}<div class="mt-4">{% if (character.getPoliticInvade() + 1) * character.getResearchCost('invade_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticInvade() + 1) * character.getResearchCost('invade_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticInvade() + 1) * character.getResearchCost('invade_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticInvade() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.invade.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'invade_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticInvade() + 1) * character.getResearchCost('invade_ally')) and character.getPoliticInvade() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticInvade() + 1) * character.getTimeConstruct(character.getResearchTime('invade_ally'))) < 3600 %}{{ ((character.getPoliticInvade() + 1) * character.getTimeConstruct(character.getResearchTime('invade_ally')))|date('i:s') }}{% elseif ((character.getPoliticInvade() + 1) * character.getTimeConstruct(character.getResearchTime('invade_ally'))) < 86400 %}{{ ((character.getPoliticInvade() + 1) * character.getTimeConstruct(character.getResearchTime('invade_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticInvade() + 1) * character.getTimeConstruct(character.getResearchTime('invade_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'invade_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endif %}
                {% if ally and ally.getPolitic == 'democrat' %}
                    <tr class="{% if character.getPoliticProd() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/prod_ally.webp') }}"><button class="text-orange">{{ 'title.prod.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticProd() %}{{ character.getPoliticProd() }}{% else %}0{% endif %} / 5</button>
                            {% if character.getPoliticProd() != 5 %}<div class="mt-4">{% if (character.getPoliticProd() + 1) * character.getResearchCost('prod_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticProd() + 1) * character.getResearchCost('prod_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticProd() + 1) * character.getResearchCost('prod_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if character.getPoliticProd() == 5 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.prod.ally.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if character.getSearch() == 'prod_ally' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if character.getBitcoin() >= ((character.getPoliticProd() + 1) * character.getResearchCost('prod_ally')) and character.getPoliticProd() < 5 and character.getSearchAt is null %}
                                        <div>{% if ((character.getPoliticProd() + 1) * character.getTimeConstruct(character.getResearchTime('prod_ally'))) < 3600 %}{{ ((character.getPoliticProd() + 1) * character.getTimeConstruct(character.getResearchTime('prod_ally')))|date('i:s') }}{% elseif ((character.getPoliticProd() + 1) * character.getTimeConstruct(character.getResearchTime('prod_ally'))) < 86400 %}{{ ((character.getPoliticProd() + 1) * character.getTimeConstruct(character.getResearchTime('prod_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticProd() + 1) * character.getTimeConstruct(character.getResearchTime('prod_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'prod_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                    {% if ally.getLevel() <= 0 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/search_ally.webp') }}"><button class="text-orange mt-3">{{ 'title.search.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.one.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticSearch() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/search_ally.webp') }}"><button class="text-orange">{{ 'title.search.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticSearch() %}{{ character.getPoliticSearch() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticSearch() != 5 %}<div class="mt-4">{% if (character.getPoliticSearch() + 1) * character.getResearchCost('search_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticSearch() + 1) * character.getResearchCost('search_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticSearch() + 1) * character.getResearchCost('search_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticSearch() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.search.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'search_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticSearch() + 1) * character.getResearchCost('search_ally')) and character.getPoliticSearch() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticSearch() + 1) * character.getTimeConstruct(character.getResearchTime('search_ally'))) < 3600 %}{{ ((character.getPoliticSearch() + 1) * character.getTimeConstruct(character.getResearchTime('search_ally')))|date('i:s') }}{% elseif ((character.getPoliticSearch() + 1) * character.getTimeConstruct(character.getResearchTime('search_ally'))) < 86400 %}{{ ((character.getPoliticSearch() + 1) * character.getTimeConstruct(character.getResearchTime('search_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticSearch() + 1) * character.getTimeConstruct(character.getResearchTime('search_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'search_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 1 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/cost_scientist.webp') }}"><button class="text-orange mt-3">{{ 'title.cost.scientist.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.two.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticCostScientist() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/cost_scientist.webp') }}"><button class="text-orange">{{ 'title.cost.scientist.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticCostScientist() %}{{ character.getPoliticCostScientist() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticCostScientist() != 5 %}<div class="mt-4">{% if (character.getPoliticCostScientist() + 1) * character.getResearchCost('cost_scientist_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticCostScientist() + 1) * character.getResearchCost('cost_scientist_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticCostScientist() + 1) * character.getResearchCost('cost_scientist_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticCostScientist() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.cost.scientist.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'cost_scientist_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticCostScientist() + 1) * character.getResearchCost('cost_scientist_ally')) and character.getPoliticCostScientist() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticCostScientist() + 1) * character.getTimeConstruct(character.getResearchTime('cost_scientist_ally'))) < 3600 %}{{ ((character.getPoliticCostScientist() + 1) * character.getTimeConstruct(character.getResearchTime('cost_scientist_ally')))|date('i:s') }}{% elseif ((character.getPoliticCostScientist() + 1) * character.getTimeConstruct(character.getResearchTime('cost_scientist_ally'))) < 86400 %}{{ ((character.getPoliticCostScientist() + 1) * character.getTimeConstruct(character.getResearchTime('cost_scientist_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticCostScientist() + 1) * character.getTimeConstruct(character.getResearchTime('cost_scientist_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'cost_scientist_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 2 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/cargo_ally.webp') }}"><button class="text-orange mt-3">{{ 'title.cargo.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.three.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticCargo() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/cargo_ally.webp') }}"><button class="text-orange">{{ 'title.cargo.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticCargo() %}{{ character.getPoliticCargo() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticCargo() != 5 %}<div class="mt-4">{% if (character.getPoliticCargo() + 1) * character.getResearchCost('cargo_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticCargo() + 1) * character.getResearchCost('cargo_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticCargo() + 1) * character.getResearchCost('cargo_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticCargo() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.cargo.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'cargo_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticCargo() + 1) * character.getResearchCost('cargo_ally')) and character.getPoliticCargo() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticCargo() + 1) * character.getTimeConstruct(character.getResearchTime('cargo_ally'))) < 3600 %}{{ ((character.getPoliticCargo() + 1) * character.getTimeConstruct(character.getResearchTime('cargo_ally')))|date('i:s') }}{% elseif ((character.getPoliticCargo() + 1) * character.getTimeConstruct(character.getResearchTime('cargo_ally'))) < 86400 %}{{ ((character.getPoliticCargo() + 1) * character.getTimeConstruct(character.getResearchTime('cargo_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticCargo() + 1) * character.getTimeConstruct(character.getResearchTime('cargo_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'cargo_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 3 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/armor_ally.webp') }}"><button class="text-orange mt-3">{{ 'title.armor.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.four.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticArmor() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/armor_ally.webp') }}"><button class="text-orange">{{ 'title.armor.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticArmor() %}{{ character.getPoliticArmor() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticArmor() != 5 %}<div class="mt-4">{% if (character.getPoliticArmor() + 1) * character.getResearchCost('armor_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticArmor() + 1) * character.getResearchCost('armor_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticArmor() + 1) * character.getResearchCost('armor_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticArmor() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.armor.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'armor_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticArmor() + 1) * character.getResearchCost('armor_ally')) and character.getPoliticArmor() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticArmor() + 1) * character.getTimeConstruct(character.getResearchTime('armor_ally'))) < 3600 %}{{ ((character.getPoliticArmor() + 1) * character.getTimeConstruct(character.getResearchTime('armor_ally')))|date('i:s') }}{% elseif ((character.getPoliticArmor() + 1) * character.getTimeConstruct(character.getResearchTime('armor_ally'))) < 86400 %}{{ ((character.getPoliticArmor() + 1) * character.getTimeConstruct(character.getResearchTime('armor_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticArmor() + 1) * character.getTimeConstruct(character.getResearchTime('armor_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'armor_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 4 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/merchant_ally.webp') }}"><button class="text-orange mt-3">{{ 'title.merchant.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.five.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticMerchant() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/merchant_ally.webp') }}"><button class="text-orange">{{ 'title.merchant.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticMerchant() %}{{ character.getPoliticMerchant() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticMerchant() != 5 %}<div class="mt-4">{% if (character.getPoliticMerchant() + 1) * character.getResearchCost('merchant_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticMerchant() + 1) * character.getResearchCost('merchant_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticMerchant() + 1) * character.getResearchCost('merchant_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticMerchant() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.merchant.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'merchant_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticMerchant() + 1) * character.getResearchCost('merchant_ally')) and character.getPoliticMerchant() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticMerchant() + 1) * character.getTimeConstruct(character.getResearchTime('merchant_ally'))) < 3600 %}{{ ((character.getPoliticMerchant() + 1) * character.getTimeConstruct(character.getResearchTime('merchant_ally')))|date('i:s') }}{% elseif ((character.getPoliticMerchant() + 1) * character.getTimeConstruct(character.getResearchTime('merchant_ally'))) < 86400 %}{{ ((character.getPoliticMerchant() + 1) * character.getTimeConstruct(character.getResearchTime('merchant_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticMerchant() + 1) * character.getTimeConstruct(character.getResearchTime('merchant_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'merchant_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 5 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/colonisation_ally.webp') }}"><button class="text-orange mt-3">{{ 'title.colonisation.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.six.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if character.getPoliticColonisation() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/colonisation_ally.webp') }}"><button class="text-orange">{{ 'title.colonisation.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if character.getPoliticColonisation() %}{{ character.getPoliticColonisation() }}{% else %}0{% endif %} / 5</button>
                                {% if character.getPoliticColonisation() != 5 %}<div class="mt-4">{% if (character.getPoliticColonisation() + 1) * character.getResearchCost('colonisation_ally') > character.getBitcoin() %}<span class="text-rouge">{{ ((character.getPoliticColonisation() + 1) * character.getResearchCost('colonisation_ally'))|number_format }}</span>{% else %}{{ ((character.getPoliticColonisation() + 1) * character.getResearchCost('colonisation_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if character.getPoliticColonisation() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.colonisation.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if character.getSearch() == 'colonisation_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ character.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if character.getBitcoin() >= ((character.getPoliticColonisation() + 1) * character.getResearchCost('colonisation_ally')) and character.getPoliticColonisation() < 5 and character.getSearchAt is null %}
                                            <div>{% if ((character.getPoliticColonisation() + 1) * character.getTimeConstruct(character.getResearchTime('colonisation_ally'))) < 3600 %}{{ ((character.getPoliticColonisation() + 1) * character.getTimeConstruct(character.getResearchTime('colonisation_ally')))|date('i:s') }}{% elseif ((character.getPoliticColonisation() + 1) * character.getTimeConstruct(character.getResearchTime('colonisation_ally'))) < 86400 %}{{ ((character.getPoliticColonisation() + 1) * character.getTimeConstruct(character.getResearchTime('colonisation_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((character.getPoliticColonisation() + 1) * character.getTimeConstruct(character.getResearchTime('colonisation_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'colonisation_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <a class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</a>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endif %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
