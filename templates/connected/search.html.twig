{% extends 'base.html.twig' %}

{% trans_default_domain 'front_search' %}

{% block title %}{{ 'title'|trans }}{% endblock %}

{% block body %}
    <div class="front-block">
        {% if app.user.getTutorial() == 8 or app.user.getTutorial() == 9 %}
            <table class="table table-striped borderOverview tutorial">
                <tbody>
                <tr>
                    <th class="tab-cells-name p-3 tutorial">
                        <div class="row">
                            <div class="col-12 py-1">
                                {% if app.user.getTutorial() == 8  %}{{ 'research.tutorial'|trans|raw }}{% elseif app.user.getTutorial() == 9  %}{{ 'research.tutorialBis'|trans|raw }}{% endif %}
                            </div>
                        </div>
                    </th>
                </tr>
                </tbody>
            </table>
        {% endif %}
        <div class="research">
            <div id="timeDefaut" hidden>{{ "now"|date('Y/m/d H:i:s') }}</div>
            <div class="block-title"><h1>{{ 'research.titleUtility'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                <tr class="{% if commander.getUtility() == 3 %}finish-search availableBack{% else %}access-search{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/utility.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.utility'|trans|raw }}">{{ 'title.utility'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getUtility() %}{{ commander.getUtility() }}{% else %}0{% endif %} / 3</button>
                        {% if commander.getUtility() != 3 %}<div class="mt-4">{% if (commander.getUtility() + 1) * 2500 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getUtility() + 1) * 2500)|number_format }}</span>{% else %}{{ ((commander.getUtility() + 1) * 2500)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if commander.getUtility() == 3 %}
                    <td colspan="2" width="101px" class="center-cells cell-middle">
                        <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                    </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.utility.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if commander.getSearch() == 'utility' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if commander.getBitcoin() >= ((commander.getUtility() + 1) * 2500) and commander.getUtility() < 3 and commander.getSearchAt is null %}
                                    <div>{% if ((commander.getUtility() + 1) * commander.getTimeConstruct(200)) < 3600 %}{{  ((commander.getUtility() + 1) * commander.getTimeConstruct(200) - 3600)|date('i:s') }}{% elseif ((commander.getUtility() + 1) * commander.getTimeConstruct(200)) < 86400 %}{{  ((commander.getUtility() + 1) * commander.getTimeConstruct(200) - 3600- 3600)|date('H:i:s') }}{% else %}{{  ((commander.getUtility() + 1) * commander.getTimeConstruct(200) - 3600- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start{% if app.user.getTutorial() == 8 %} tutorial-show{% endif %}" href="{{ path('research_utility', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        {% endif %}
                    </td>
                </tr>
                {% if commander.getUtility() <= 0 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/terra.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.terra'|trans|raw }}">{{ 'title.terraformation'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.terraformation.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getTerraformation() == 18 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/terra.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.terra'|trans|raw }}">{{ 'title.terraformation'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getTerraformation() %}{{ commander.getTerraformation() }}{% else %}0{% endif %} / 18</button>
                            {% if commander.getTerraformation() != 18 %}<div class="mt-4">{% if (commander.getTerraformation() + 1) * 12000 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getTerraformation() + 1) * 12000)|number_format }}</span>{% else %}{{ ((commander.getTerraformation() + 1) * 12000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getTerraformation() == 18 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.terraformation.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'terraformation' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>
                                {% else %}
                                    {% if commander.getBitcoin() >= (commander.getTerraformation() + 1) * 12000 and commander.getTerraformation() < 18  and commander.getUtility() > 0 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getTerraformation() + 1) * commander.getTimeConstruct(4200)) < 3600 %}{{ ((commander.getTerraformation() + 1) * commander.getTimeConstruct(4200))|date('i:s') }}{% elseif ((commander.getTerraformation() + 1) * commander.getTimeConstruct(4200)) < 86400 %}{{  ((commander.getTerraformation() + 1) * commander.getTimeConstruct(4200)- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getTerraformation() + 1) * commander.getTimeConstruct(4200)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_terraformation', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if commander.getUtility() <= 1 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/cargo.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.cargo'|trans|raw }}">{{ 'title.cargo'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.cargo.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getCargo() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/cargo.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.cargo'|trans|raw }}">{{ 'title.cargo'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getCargo() %}{{ commander.getCargo() }}{% else %}0{% endif %} / 5</button>
                            {% if commander.getCargo() != 5 %}<div class="mt-4">{% if (commander.getCargo() + 1) * 3500 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getCargo() + 1) * 3500)|number_format }}</span>{% else %}{{ ((commander.getCargo() + 1) * 3500)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getCargo() == 5 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.cargo.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'cargo' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getCargo() + 1) * 3500) and commander.getCargo() < 5  and commander.getUtility() > 1 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getCargo() + 1) * commander.getTimeConstruct(400)) < 3600 %}{{ ((commander.getCargo() + 1) * commander.getTimeConstruct(400))|date('i:s') }}{% elseif ((commander.getCargo() + 1) * commander.getTimeConstruct(400)) < 86400 %}{{  ((commander.getCargo() + 1) * commander.getTimeConstruct(400)- 3600)|date('H:i:s') }}{% else %}{{  ((commander.getCargo() + 1) * commander.getTimeConstruct(400)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_cargo', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if commander.getUtility() != 3 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/invader.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.barge'|trans|raw }}">{{ 'title.barge'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.barge.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getBarge() == 1 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/invader.webp') }}">{% if commander.getBarge() == false %}<button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.barge'|trans|raw }}">{{ 'title.barge'|trans|raw }} - {{ 'research.canBe'|trans }}</button>{% else %}{{ 'title.barge'|trans|raw }} - <span class="text-vert">{{ 'research.Activated'|trans }}</span>{% endif %}
                            {% if commander.getBarge() != 1 %}<div class="mt-4">{% if 35000 > commander.getBitcoin() %}<span class="text-rouge">35.000</span>{% else %}35.000{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getBarge() == 1 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.barge.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'barge' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= 35000 and commander.getBarge() == 0  and commander.getUtility() == 3 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getBarge() + 1) * commander.getTimeConstruct(280)) < 3600 %}{{ ((commander.getBarge() + 1) * commander.getTimeConstruct(280))|date('i:s') }}{% elseif ((commander.getBarge() + 1) * commander.getTimeConstruct(280)) < 86400 %}{{ ((commander.getBarge() + 1) * commander.getTimeConstruct(280)- 3600)|date('H:i:s') }}{% else %}{{  ((commander.getBarge() + 1) * commander.getTimeConstruct(280)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_barge', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if commander.getUtility() != 3 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/recyclage.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.recycleur'|trans|raw }}">{{ 'title.recycleur'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.recycleur.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getRecycleur() == 1 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/recyclage.webp') }}">{% if commander.getRecycleur() == false %}<button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.recylceur'|trans|raw }}">{{ 'title.recycleur'|trans|raw }} - {{ 'research.canBe'|trans }}</button>{% else %}{{ 'title.recycleur'|trans|raw }} - <span class="text-vert">{{ 'research.Activated'|trans }}</span>{% endif %}
                            {% if commander.getRecycleur() != 1 %}<div class="mt-4">{% if 16900 > commander.getBitcoin() %}<span class="text-rouge">16.900</span>{% else %}16.900{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getRecycleur() == 1 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.recycleur.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'recycleur' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= 16900 and commander.getRecycleur() == 0  and commander.getUtility() == 3 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getRecycleur() + 1) * commander.getTimeConstruct(400)) < 3600 %}{{ ((commander.getRecycleur() + 1) * commander.getTimeConstruct(400))|date('i:s') }}{% elseif ((commander.getRecycleur() + 1) * commander.getTimeConstruct(400)) < 86400 %}{{ ((commander.getRecycleur() + 1) * commander.getTimeConstruct(400)- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getRecycleur() + 1) * commander.getTimeConstruct(400)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_recyclage', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                <tr class="{% if commander.getOnde() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/scanner.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.onde'|trans|raw }}">{{ 'title.onde'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getOnde() %}{{ commander.getOnde() }}{% else %}0{% endif %} / 5</button>
                        {% if commander.getOnde() != 5 %}<div class="mt-4">{% if (commander.getOnde() + 1) * 2300 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getOnde() + 1) * 2300)|number_format }}</span>{% else %}{{ ((commander.getOnde() + 1) * 2300)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if commander.getOnde() == 5 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.onde.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if commander.getSearch() == 'onde' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if commander.getBitcoin() >= ((commander.getOnde() + 1) * 2300) and commander.getOnde() < 5 and commander.getSearchAt is null %}
                                    <div>{% if ((commander.getOnde() + 1) * commander.getTimeConstruct(300)) < 3600 %}{{ ((commander.getOnde() + 1) * commander.getTimeConstruct(300))|date('i:s') }}{% elseif ((commander.getOnde() + 1) * commander.getTimeConstruct(300)) < 86400 %}{{ ((commander.getOnde() + 1) * commander.getTimeConstruct(300)- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getOnde() + 1) * commander.getTimeConstruct(300)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_onde', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                <tr class="{% if commander.getHyperespace() == 1 %}finish-search availableBack{% else %}access-search{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/hyper.webp') }}">{% if commander.getHyperespace() == false %}<button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.hyper'|trans|raw }}">{{ 'title.hyperespace'|trans|raw }} - {{ 'research.canBe'|trans }}</button>{% else %}{{ 'title.hyperespace'|trans|raw }} - <span class="text-vert">{{ 'research.Activated'|trans }}</span>{% endif %}
                        {% if commander.getHyperespace() == 0 %}<div class="mt-4">{% if 25000000 > commander.getBitcoin() %}<span class="text-rouge">25.000.000</span>{% else %}25.000.000{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if commander.getHyperespace() == 1 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.hyperespace.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if commander.getSearch() == 'hyperespace' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if commander.getBitcoin() >= 25000000 and commander.getHyperespace() == false and commander.getSearchAt is null %}
                                    <div>{{  ((commander.getHyperespace() + 1) * commander.getTimeConstruct(6048)- 3600)|date('d H:i:s') }}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_hyperespace', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'research.titleEco'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                <tr class="{% if commander.getAeroponicFarm() == 1 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="62" src="{{ asset('img/aeroponic_farm.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.aeroponicFarm'|trans|raw }}">{{ 'title.aeroponicFarm'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getAeroponicFarm() %}{{ commander.getAeroponicFarm() }}{% else %}0{% endif %} / 1</button>
                        {% if commander.getAeroponicFarm() != 1 %}<div class="mt-4">{% if (commander.getAeroponicFarm() + 1) * 16000 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getAeroponicFarm() + 1) * 16000)|number_format }}</span>{% else %}{{ ((commander.getAeroponicFarm() + 1) * 16000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if commander.getAeroponicFarm() == 1 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.aeroponicFarm.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if commander.getSearch() == 'aeroponicFarm' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if commander.getBitcoin() >= ((commander.getAeroponicFarm() + 1) * 8000) and commander.getAeroponicFarm() < 1 and commander.getSearchAt is null %}
                                    <div>{% if ((commander.getAeroponicFarm() + 1) * commander.getTimeConstruct(480)) < 3600 %}{{ ((commander.getAeroponicFarm() + 1) * commander.getTimeConstruct(480))|date('i:s') }}{% elseif ((commander.getAeroponicFarm() + 1) * commander.getTimeConstruct(480)) < 86400 %}{{  ((commander.getAeroponicFarm() + 1) * commander.getTimeConstruct(480)- 3600)|date('H:i:s') }}{% else %}{{  ((commander.getAeroponicFarm() + 1) * commander.getTimeConstruct(480)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_aeroponic', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                <tr class="{% if commander.getDemography() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/urbain.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.demography'|trans|raw }}">{{ 'title.demography'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getDemography() %}{{ commander.getDemography() }}{% else %}0{% endif %} / 5</button>
                        {% if commander.getDemography() != 5 %}<div class="mt-4">{% if (commander.getDemography() + 1) * 8000 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getDemography() + 1) * 8000)|number_format }}</span>{% else %}{{ ((commander.getDemography() + 1) * 8000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if commander.getDemography() == 5 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.demography.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if commander.getSearch() == 'demography' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if commander.getBitcoin() >= ((commander.getDemography() + 1) * 8000) and commander.getDemography() < 5 and commander.getSearchAt is null %}
                                    <div>{% if ((commander.getDemography() + 1) * commander.getTimeConstruct(480)) < 3600 %}{{ ((commander.getDemography() + 1) * commander.getTimeConstruct(480))|date('i:s') }}{% elseif ((commander.getDemography() + 1) * commander.getTimeConstruct(480)) < 86400 %}{{  ((commander.getDemography() + 1) * commander.getTimeConstruct(480)- 3600)|date('H:i:s') }}{% else %}{{  ((commander.getDemography() + 1) * commander.getTimeConstruct(480)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_demography', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                {% if commander.getDemography() <= 0 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/military.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.discipline'|trans|raw }}">{{ 'title.discipline'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.discipline.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getDiscipline() == 3 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/military.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.discipline'|trans|raw }}">{{ 'title.discipline'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getDiscipline() %}{{ commander.getDiscipline() }}{% else %}0{% endif %} / 3</button>
                            {% if commander.getDiscipline() != 3 %}<div class="mt-4">{% if (commander.getDiscipline() + 1) * 11700 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getDiscipline() + 1) * 11700)|number_format }}</span>{% else %}{{ ((commander.getDiscipline() + 1) * 11700)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getDiscipline() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.discipline.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'discipline' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getDiscipline() + 1) * 11700) and commander.getDemography() > 0 and commander.getDiscipline() < 3 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getDiscipline() + 1) * commander.getTimeConstruct(930)) < 3600 %}{{ ((commander.getDiscipline() + 1) * commander.getTimeConstruct(930))|date('i:s') }}{% elseif ((commander.getDiscipline() + 1) * commander.getTimeConstruct(930)) < 86400 %}{{  ((commander.getDiscipline() + 1) * commander.getTimeConstruct(930)- 3600)|date('H:i:s') }}{% else %}{{  ((commander.getDiscipline() + 1) * commander.getTimeConstruct(930)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_discipline', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if commander.getDiscipline() != 3 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/barbed.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.barbed'|trans|raw }}">{{ 'title.barbed'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.barbed.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getBarbed() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/barbed.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.barbed'|trans|raw }}">{{ 'title.barbed'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getBarbed() %}{{ commander.getBarbed() }}{% else %}0{% endif %} / 5</button>
                            {% if commander.getBarbed() != 5 %}<div class="mt-4">{% if (commander.getBarbed() + 1) * 200000 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getBarbed() + 1) * 200000)|number_format }}</span>{% else %}{{ ((commander.getBarbed() + 1) * 200000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getBarbed() == 5 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.barbed.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'barbed' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getBarbed() + 1) * 200000) and commander.getDiscipline() == 3 and commander.getBarbed() < 5 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getBarbed() + 1) * commander.getTimeConstruct(1200)) < 3600 %}{{ ((commander.getBarbed() + 1) * commander.getTimeConstruct(1200))|date('i:s') }}{% elseif ((commander.getBarbed() + 1) * commander.getTimeConstruct(1200)) < 86400 %}{{  ((commander.getBarbed() + 1) * commander.getTimeConstruct(1200)- 3600)|date('H:i:s') }}{% else %}{{  ((commander.getBarbed() + 1) * commander.getTimeConstruct(1200)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_barbed', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if commander.getDiscipline() != 3 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/tank.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.tank'|trans|raw }}">{{ 'title.tank'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.tank.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getTank() == 1 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/tank.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.tank'|trans|raw }}">{{ 'title.tank'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getTank() %}{{ commander.getTank() }}{% else %}0{% endif %} / 1</button>
                            {% if commander.getTank() != 1 %}<div class="mt-4">{% if (commander.getTank() + 1) * 40000 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getTank() + 1) * 40000)|number_format }}</span>{% else %}{{ ((commander.getTank() + 1) * 40000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getTank() == 1 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.tank.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'tank' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getTank() + 1) * 40000) and commander.getDiscipline() == 3 and commander.getTank() < 1 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getTank() + 1) * commander.getTimeConstruct(2000)) < 3600 %}{{ ((commander.getTank() + 1) * commander.getTimeConstruct(2000))|date('i:s') }}{% elseif ((commander.getTank() + 1) * commander.getTimeConstruct(2000)) < 86400 %}{{  ((commander.getTank() + 1) * commander.getTimeConstruct(2000)- 3600)|date('H:i:s') }}{% else %}{{  ((commander.getTank() + 1) * commander.getTimeConstruct(2000)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_tank', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if commander.getTerraformation() <= 17 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/expansion.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.expansion'|trans|raw }}">{{ 'title.expansion'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.expansion.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getExpansion() == 2 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/expansion.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.expansion'|trans|raw }}">{{ 'title.expansion'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getExpansion() %}{{ commander.getExpansion() }}{% else %}0{% endif %} / 2</button>
                            {% if commander.getExpansion() != 2 %}<div class="mt-4">{% if (commander.getExpansion() + 1) * 75000 > commander.getRank().getWarPoint() %}<span class="text-rouge">{{ ((commander.getExpansion() + 1) * 75000)|number_format }}</span>{% else %}{{ ((commander.getExpansion() + 1) * 75000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'pdgImg'|trans }}" src="{{ asset('img/pdg.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getExpansion() == 2 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.expansion.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'expansion' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getRank().getWarPoint() >= ((commander.getExpansion() + 1) * 75000) and commander.getTerraformation() == 18 and commander.getExpansion() < 2 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getExpansion() + 1) * commander.getTimeConstruct(6000)) < 3600 %}{{ ((commander.getExpansion() + 1) * commander.getTimeConstruct(6000))|date('i:s') }}{% elseif ((commander.getExpansion() + 1) * commander.getTimeConstruct(6000)) < 86400 %}{{  ((commander.getExpansion() + 1) * commander.getTimeConstruct(6000)- 3600)|date('H:i:s') }}{% else %}{{  ((commander.getExpansion() + 1) * commander.getTimeConstruct(6000)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_expansion', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'research.titleArm'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                <tr class="{% if commander.getArmement() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/armement.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.armement'|trans|raw }}">{{ 'title.armement'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getArmement() %}{{ commander.getArmement() }}{% else %}0{% endif %} / 5</button>
                        {% if commander.getArmement() != 5 %}<div class="mt-4">{% if (commander.getArmement() + 1) * 2000 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getArmement() + 1) * 2000)|number_format }}</span>{% else %}{{ ((commander.getArmement() + 1) * 2000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if commander.getArmement() == 5 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.armement.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if commander.getSearch() == 'armement' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if commander.getBitcoin() >= ((commander.getArmement() + 1) * 2000) and commander.getArmement() < 5 and commander.getSearchAt is null %}
                                    <div>{% if ((commander.getArmement() + 1) * commander.getTimeConstruct(370)) < 3600 %}{{ ((commander.getArmement() + 1) * commander.getTimeConstruct(370))|date('i:s') }}{% elseif ((commander.getArmement() + 1) * commander.getTimeConstruct(370)) < 86400 %}{{  ((commander.getArmement() + 1) * commander.getTimeConstruct(370)- 3600)|date('H:i:s') }}{% else %}{{  ((commander.getArmement(3700) + 1) * commander.getTimeConstruct()- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_armement', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                {% if commander.getArmement() <= 0 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/missile.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.missile'|trans|raw }}">{{ 'title.missile'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.missile.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getMissile() == 3 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/missile.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.missile'|trans|raw }}">{{ 'title.missile'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getMissile() %}{{ commander.getMissile() }}{% else %}0{% endif %} / 3</button>
                            {% if commander.getMissile() != 3 %}<div class="mt-4">{% if (commander.getMissile() + 1) * 2600 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getMissile() + 1) * 2600)|number_format }}</span>{% else %}{{ ((commander.getMissile() + 1) * 2600)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getMissile() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.missile.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'missile' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getMissile() + 1) * 2600) and commander.getArmement() > 0 and commander.getMissile() < 3 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getMissile() + 1) * commander.getTimeConstruct(450)) < 3600 %}{{ ((commander.getMissile() + 1) * commander.getTimeConstruct(450))|date('i:s') }}{% elseif ((commander.getMissile() + 1) * commander.getTimeConstruct(450)) < 86400 %}{{ ((commander.getMissile() + 1) * commander.getTimeConstruct(450)- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getMissile() + 1) * commander.getTimeConstruct(450)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_missile', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if commander.getArmement() <= 2 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/laser.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.laser'|trans|raw }}">{{ 'title.laser'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.laser.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getLaser() == 3 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/laser.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.laser'|trans|raw }}">{{ 'title.laser'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getLaser() %}{{ commander.getLaser() }}{% else %}0{% endif %} / 3</button>
                            {% if commander.getLaser() != 3 %}<div class="mt-4">{% if (commander.getLaser() + 1) * 13000 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getLaser() + 1) * 13000)|number_format }}</span>{% else %}{{ ((commander.getLaser() + 1) * 13000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getLaser() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.laser.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'laser' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getLaser() + 1) * 13000) and commander.getArmement() > 2 and commander.getLaser() < 3 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getLaser() + 1) * commander.getTimeConstruct(1800)) < 3600 %}{{ ((commander.getLaser() + 1) * commander.getTimeConstruct(1800))|date('i:s') }}{% elseif ((commander.getLaser() + 1) * commander.getTimeConstruct(1800)) < 86400 %}{{ ((commander.getLaser() + 1) * commander.getTimeConstruct(1800)- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getLaser() + 1) * commander.getTimeConstruct(1800)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_laser', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if commander.getArmement() != 5 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/plasma.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.plasma'|trans|raw }}">{{ 'title.plasma'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.plasma.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getPlasma() == 3 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/plasma.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.plasma'|trans|raw }}">{{ 'title.plasma'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPlasma() %}{{ commander.getPlasma() }}{% else %}0{% endif %} / 3</button>
                            {% if commander.getPlasma() != 3 %}<div class="mt-4">{% if (commander.getPlasma() + 1) * 29000 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPlasma() + 1) * 29000)|number_format }}</span>{% else %}{{ ((commander.getPlasma() + 1) * 29000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getPlasma() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.plasma.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'plasma' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getPlasma() + 1) * 29000) and commander.getArmement() == 5 and commander.getPlasma() < 3 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getPlasma() + 1) * commander.getTimeConstruct(4680)) < 86400 %}{{ ((commander.getPlasma() + 1) * commander.getTimeConstruct(4680)- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPlasma() + 1) * commander.getTimeConstruct(4680)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_plasma', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'research.titleWar'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                <tr class="{% if commander.getIndustry() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/industry.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.industry'|trans|raw }}">{{ 'title.industry'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getIndustry() %}{{ commander.getIndustry() }}{% else %}0{% endif %} / 5</button>
                        {% if commander.getIndustry() != 5 %}<div class="mt-4">{% if (commander.getIndustry() + 1) * 1500 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getIndustry() + 1) * 1500)|number_format }}</span>{% else %}{{ ((commander.getIndustry() + 1) * 1500)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                    </th>
                    {% if commander.getIndustry() == 5 %}
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                        </td>
                    {% else %}
                        <td class="center-cells cell-middle">
                            {{ 'research.industry.desc'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            {% if commander.getSearch() == 'industry' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if commander.getBitcoin() >= ((commander.getIndustry() + 1) * 1500) and commander.getIndustry() < 5 and commander.getSearchAt is null %}
                                    <div>{% if ((commander.getIndustry() + 1) * commander.getTimeConstruct(150)) < 3600 %}{{ ((commander.getIndustry() + 1) * commander.getTimeConstruct(150))|date('i:s') }}{% elseif ((commander.getIndustry() + 1) * commander.getTimeConstruct(150)) < 86400 %}{{ ((commander.getIndustry() + 1) * commander.getTimeConstruct(150)- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getIndustry() + 1) * commander.getTimeConstruct(150)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('research_industry', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                    {% endif %}
                </tr>
                {% if commander.getIndustry() <= 2 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/lightShip.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.light'|trans|raw }}">{{ 'title.lightShip'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.lightShip.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getLightShip() == 3 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/lightShip.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.light'|trans|raw }}">{{ 'title.lightShip'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getLightShip() %}{{ commander.getLightShip() }}{% else %}0{% endif %} / 3</button>
                            {% if commander.getLightShip() != 3 %}<div class="mt-4">{% if (commander.getLightShip() + 1) * 9000 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getLightShip() + 1) * 9000)|number_format }}</span>{% else %}{{ ((commander.getLightShip() + 1) * 9000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getLightShip() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.lightShip.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'lightShip' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getLightShip() + 1) * 9000) and commander.getLightShip() < 3 and commander.getIndustry() > 2 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getLightShip() + 1) * commander.getTimeConstruct(860)) < 3600 %}{{ ((commander.getLightShip() + 1) * commander.getTimeConstruct(860))|date('i:s') }}{% elseif ((commander.getLightShip() + 1) * commander.getTimeConstruct(860)) < 86400 %}{{ ((commander.getLightShip() + 1) * commander.getTimeConstruct(860)- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getLightShip() + 1) * commander.getTimeConstruct(860)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_light_ship', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                {% if commander.getIndustry() != 5 %}
                    <tr class="blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/heavyShip.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.heavy'|trans|raw }}">{{ 'title.heavyShip'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'research.heavyShip.blocked'|trans }}
                        </td>
                        <td width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="{% if commander.getHeavyShip() == 3 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/heavyShip.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.heavy'|trans|raw }}">{{ 'title.heavyShip'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getHeavyShip() %}{{ commander.getHeavyShip() }}{% else %}0{% endif %} / 3</button>
                            {% if commander.getHeavyShip() != 3 %}<div class="mt-4">{% if (commander.getHeavyShip() + 1) * 42000 > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getHeavyShip() + 1) * 42000)|number_format }}</span>{% else %}{{ ((commander.getHeavyShip() + 1) * 42000)|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getHeavyShip() == 3 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.heavyShip.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'heavyShip' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getHeavyShip() + 1) * 42000) and commander.getHeavyShip() < 3 and commander.getIndustry() == 5 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getHeavyShip() + 1) * commander.getTimeConstruct(1200)) < 3600 %}{{ ((commander.getHeavyShip() + 1) * commander.getTimeConstruct(1200))|date('i:s') }}{% elseif ((commander.getHeavyShip() + 1) * commander.getTimeConstruct(1200)) < 86400 %}{{ ((commander.getHeavyShip() + 1) * commander.getTimeConstruct(1200)- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getHeavyShip() + 1) * commander.getTimeConstruct(1200)- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_heavy_ship', {'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                {% endif %}
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'research.titleAlly'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                {% if ally == null %}
                <tr class="blockedBack">
                    <th class="tab-cells-name">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/ally.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.ally'|trans|raw }}">{{ 'title.ally'|trans|raw }}</button>
                    </th>
                    <td class="center-cells cell-middle">
                        {{ 'research.ally.blocked'|trans }}
                    </td>
                    <td width="101px" class="center-cells cell-middle">
                        <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                    </td>
                </tr>
                {% endif %}
                {% if ally and ally.getPolitic == 'communism' %}
                    <tr class="{% if commander.getPoliticRecycleur() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/recycleur_ally.webp') }}"><button class="text-marron">{{ 'title.recycleur.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticRecycleur() %}{{ commander.getPoliticRecycleur() }}{% else %}0{% endif %} / 5</button>
                            {% if commander.getPoliticRecycleur() != 5 %}<div class="mt-4">{% if (commander.getPoliticRecycleur() + 1) * commander.getResearchCost('recycleur_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticRecycleur() + 1) * commander.getResearchCost('recycleur_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticRecycleur() + 1) * commander.getResearchCost('recycleur_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getPoliticRecycleur() == 5 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.recycleur.ally.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'recycleur_ally' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getPoliticRecycleur() + 1) * commander.getResearchCost('recycleur_ally')) and commander.getPoliticRecycleur() < 5 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getPoliticRecycleur() + 1) * commander.getTimeConstruct(commander.getResearchTime('recycleur_ally'))) < 3600 %}{{ ((commander.getPoliticRecycleur() + 1) * commander.getTimeConstruct(commander.getResearchTime('recycleur_ally')))|date('i:s') }}{% elseif ((commander.getPoliticRecycleur() + 1) * commander.getTimeConstruct(commander.getResearchTime('recycleur_ally'))) < 86400 %}{{ ((commander.getPoliticRecycleur() + 1) * commander.getTimeConstruct(commander.getResearchTime('recycleur_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticRecycleur() + 1) * commander.getTimeConstruct(commander.getResearchTime('recycleur_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'recycleur_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                    {% if ally.getLevel() <= 0 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/worker_def.webp') }}"><button class="text-marron mt-3">{{ 'title.worker.def.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.one.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticWorkerDef() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/worker_def.webp') }}"><button class="text-marron">{{ 'title.worker.def.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticWorkerDef() %}{{ commander.getPoliticWorkerDef() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticWorkerDef() != 5 %}<div class="mt-4">{% if (commander.getPoliticWorkerDef() + 1) * commander.getResearchCost('worker_def_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticWorkerDef() + 1) * commander.getResearchCost('worker_def_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticWorkerDef() + 1) * commander.getResearchCost('worker_def_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticWorkerDef() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.worker.def.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'worker_def_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticWorkerDef() + 1) * commander.getResearchCost('worker_def_ally')) and commander.getPoliticWorkerDef() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticWorkerDef() + 1) * commander.getTimeConstruct(commander.getResearchTime('worker_def_ally'))) < 3600 %}{{ ((commander.getPoliticWorkerDef() + 1) * commander.getTimeConstruct(commander.getResearchTime('worker_def_ally')))|date('i:s') }}{% elseif ((commander.getPoliticWorkerDef() + 1) * commander.getTimeConstruct(commander.getResearchTime('worker_def_ally'))) < 86400 %}{{ ((commander.getPoliticWorkerDef() + 1) * commander.getTimeConstruct(commander.getResearchTime('worker_def_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticWorkerDef() + 1) * commander.getTimeConstruct(commander.getResearchTime('worker_def_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'worker_def_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            {% if commander.getPoliticWorkerDef() == 5 %}
                                                <div class="text-vert">{{ 'research.finish'|trans }}</div>
                                            {% else %}
                                                <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                            {% endif %}
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 1 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/armement_ally.webp') }}"><button class="text-marron mt-3">{{ 'title.armement.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.two.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticArmement() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/armement_ally.webp') }}"><button class="text-marron">{{ 'title.armement.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticArmement() %}{{ commander.getPoliticArmement() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticArmement() != 5 %}<div class="mt-4">{% if (commander.getPoliticArmement() + 1) * commander.getResearchCost('armement_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticArmement() + 1) * commander.getResearchCost('armement_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticArmement() + 1) * commander.getResearchCost('armement_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticArmement() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.armement.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'armement_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticArmement() + 1) * commander.getResearchCost('armement_ally')) and commander.getPoliticArmement() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticArmement() + 1) * commander.getTimeConstruct(commander.getResearchTime('armement_ally'))) < 3600 %}{{ ((commander.getPoliticArmement() + 1) * commander.getTimeConstruct(commander.getResearchTime('armement_ally')))|date('i:s') }}{% elseif ((commander.getPoliticArmement() + 1) * commander.getTimeConstruct(commander.getResearchTime('armement_ally'))) < 86400 %}{{ ((commander.getPoliticArmement() + 1) * commander.getTimeConstruct(commander.getResearchTime('armement_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticArmement() + 1) * commander.getTimeConstruct(commander.getResearchTime('armement_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'armement_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 2 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/cost_soldier.webp') }}"><button class="text-marron mt-3">{{ 'title.cost.soldier.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.three.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticCostSoldier() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/cost_soldier.webp') }}"><button class="text-marron">{{ 'title.cost.soldier.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticCostSoldier() %}{{ commander.getPoliticCostSoldier() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticCostSoldier() != 5 %}<div class="mt-4">{% if (commander.getPoliticCostSoldier() + 1) * commander.getResearchCost('cost_soldier_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticCostSoldier() + 1) * commander.getResearchCost('cost_soldier_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticCostSoldier() + 1) * commander.getResearchCost('cost_soldier_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticCostSoldier() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.cost.soldier.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'cost_soldier_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticCostSoldier() + 1) * commander.getResearchCost('cost_soldier_ally')) and commander.getPoliticCostSoldier() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticCostSoldier() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_soldier_ally'))) < 3600 %}{{ ((commander.getPoliticCostSoldier() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_soldier_ally')))|date('i:s') }}{% elseif ((commander.getPoliticCostSoldier() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_soldier_ally'))) < 86400 %}{{ ((commander.getPoliticCostSoldier() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_soldier_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticCostSoldier() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_soldier_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'cost_soldier_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 3 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/soldier_sale.webp') }}"><button class="text-marron mt-3">{{ 'title.soldier.sale.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.four.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticSoldierSale() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/soldier_sale.webp') }}"><button class="text-marron">{{ 'title.soldier.sale.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticSoldierSale() %}{{ commander.getPoliticSoldierSale() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticSoldierSale() != 5 %}<div class="mt-4">{% if (commander.getPoliticSoldierSale() + 1) * commander.getResearchCost('soldier_sale_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticSoldierSale() + 1) * commander.getResearchCost('soldier_sale_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticSoldierSale() + 1) * commander.getResearchCost('soldier_sale_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticSoldierSale() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.soldier.sale.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'soldier_sale_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticSoldierSale() + 1) * commander.getResearchCost('soldier_sale_ally')) and commander.getPoliticSoldierSale() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticSoldierSale() + 1) * commander.getTimeConstruct(commander.getResearchTime('soldier_sale_ally'))) < 3600 %}{{ ((commander.getPoliticSoldierSale() + 1) * commander.getTimeConstruct(commander.getResearchTime('soldier_sale_ally')))|date('i:s') }}{% elseif ((commander.getPoliticSoldierSale() + 1) * commander.getTimeConstruct(commander.getResearchTime('soldier_sale_ally'))) < 86400 %}{{ ((commander.getPoliticSoldierSale() + 1) * commander.getTimeConstruct(commander.getResearchTime('soldier_sale_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticSoldierSale() + 1) * commander.getTimeConstruct(commander.getResearchTime('soldier_sale_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'soldier_sale_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            {% if commander.getPoliticSoldierSale() == 5 %}
                                                <div class="text-vert">{{ 'research.finish'|trans }}</div>
                                            {% else %}
                                                <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                            {% endif %}
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 4 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/invade_ally.webp') }}"><button class="text-marron mt-3">{{ 'title.invade.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.five.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticInvade() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/invade_ally.webp') }}"><button class="text-marron">{{ 'title.invade.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticInvade() %}{{ commander.getPoliticInvade() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticInvade() != 5 %}<div class="mt-4">{% if (commander.getPoliticInvade() + 1) * commander.getResearchCost('invade_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticInvade() + 1) * commander.getResearchCost('invade_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticInvade() + 1) * commander.getResearchCost('invade_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticInvade() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.invade.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'invade_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticInvade() + 1) * commander.getResearchCost('invade_ally')) and commander.getPoliticInvade() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticInvade() + 1) * commander.getTimeConstruct(commander.getResearchTime('invade_ally'))) < 3600 %}{{ ((commander.getPoliticInvade() + 1) * commander.getTimeConstruct(commander.getResearchTime('invade_ally')))|date('i:s') }}{% elseif ((commander.getPoliticInvade() + 1) * commander.getTimeConstruct(commander.getResearchTime('invade_ally'))) < 86400 %}{{ ((commander.getPoliticInvade() + 1) * commander.getTimeConstruct(commander.getResearchTime('invade_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticInvade() + 1) * commander.getTimeConstruct(commander.getResearchTime('invade_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'invade_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                                <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 5 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/pdg_ally.webp') }}"><button class="text-marron mt-3">{{ 'title.pdg.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.six.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticPdg() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/pdg_ally.webp') }}"><button class="text-marron">{{ 'title.pdg.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticPdg() %}{{ commander.getPoliticPdg() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticPdg() != 5 %}<div class="mt-4">{% if (commander.getPoliticPdg() + 1) * commander.getResearchCost('pdg_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticPdg() + 1) * commander.getResearchCost('pdg_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticPdg() + 1) * commander.getResearchCost('pdg_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticPdg() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.pdg.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'pdg_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticPdg() + 1) * commander.getResearchCost('pdg_ally')) and commander.getPoliticPdg() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticPdg() + 1) * commander.getTimeConstruct(commander.getResearchTime('pdg_ally'))) < 3600 %}{{ ((commander.getPoliticPdg() + 1) * commander.getTimeConstruct(commander.getResearchTime('pdg_ally')))|date('i:s') }}{% elseif ((commander.getPoliticPdg() + 1) * commander.getTimeConstruct(commander.getResearchTime('pdg_ally'))) < 86400 %}{{ ((commander.getPoliticPdg() + 1) * commander.getTimeConstruct(commander.getResearchTime('pdg_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticPdg() + 1) * commander.getTimeConstruct(commander.getResearchTime('pdg_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'pdg_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endif %}
                {% if ally and ally.getPolitic == 'fascism' %}
                    <tr class="{% if commander.getPoliticWorker() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/worker_ally.webp') }}"><button class="text-marron">{{ 'title.worker.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticWorker() %}{{ commander.getPoliticWorker() }}{% else %}0{% endif %} / 5</button>
                            {% if commander.getPoliticWorker() != 5 %}<div class="mt-4">{% if (commander.getPoliticWorker() + 1) * commander.getResearchCost('worker_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticWorker() + 1) * commander.getResearchCost('worker_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticWorker() + 1) * commander.getResearchCost('worker_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getPoliticWorker() == 5 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.worker.ally.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'worker_ally' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getPoliticWorker() + 1) * commander.getResearchCost('worker_ally')) and commander.getPoliticWorker() < 5 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getPoliticWorker() + 1) * commander.getTimeConstruct(commander.getResearchTime('worker_ally'))) < 3600 %}{{ ((commander.getPoliticWorker() + 1) * commander.getTimeConstruct(commander.getResearchTime('worker_ally')))|date('i:s') }}{% elseif ((commander.getPoliticWorker() + 1) * commander.getTimeConstruct(commander.getResearchTime('worker_ally'))) < 86400 %}{{ ((commander.getPoliticWorker() + 1) * commander.getTimeConstruct(commander.getResearchTime('worker_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticWorker() + 1) * commander.getTimeConstruct(commander.getResearchTime('worker_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'worker_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                    {% if ally.getLevel() <= 0 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/armement_ally.webp') }}"><button class="text-marron mt-3">{{ 'title.armement.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.one.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticArmement() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/armement_ally.webp') }}"><button class="text-marron">{{ 'title.armement.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticArmement() %}{{ commander.getPoliticArmement() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticArmement() != 5 %}<div class="mt-4">{% if (commander.getPoliticArmement() + 1) * commander.getResearchCost('armement_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticArmement() + 1) * commander.getResearchCost('armement_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticArmement() + 1) * commander.getResearchCost('armement_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticArmement() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.armement.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'armement_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticArmement() + 1) * commander.getResearchCost('armement_ally')) and commander.getPoliticArmement() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticArmement() + 1) * commander.getTimeConstruct(commander.getResearchTime('armement_ally'))) < 3600 %}{{ ((commander.getPoliticArmement() + 1) * commander.getTimeConstruct(commander.getResearchTime('armement_ally')))|date('i:s') }}{% elseif ((commander.getPoliticArmement() + 1) * commander.getTimeConstruct(commander.getResearchTime('armement_ally'))) < 86400 %}{{ ((commander.getPoliticArmement() + 1) * commander.getTimeConstruct(commander.getResearchTime('armement_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticArmement() + 1) * commander.getTimeConstruct(commander.getResearchTime('armement_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'armement_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 1 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/barge_ally.webp') }}"><button class="text-marron mt-3">{{ 'title.barge.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.two.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticBarge() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/barge_ally.webp') }}"><button class="text-marron">{{ 'title.barge.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticBarge() %}{{ commander.getPoliticBarge() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticBarge() != 5 %}<div class="mt-4">{% if (commander.getPoliticBarge() + 1) * commander.getResearchCost('barge_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticBarge() + 1) * commander.getResearchCost('barge_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticBarge() + 1) * commander.getResearchCost('barge_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticBarge() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.barge.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'barge_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticBarge() + 1) * commander.getResearchCost('barge_ally')) and commander.getPoliticBarge() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticBarge() + 1) * commander.getTimeConstruct(commander.getResearchTime('barge_ally'))) < 3600 %}{{ ((commander.getPoliticBarge() + 1) * commander.getTimeConstruct(commander.getResearchTime('barge_ally')))|date('i:s') }}{% elseif ((commander.getPoliticBarge() + 1) * commander.getTimeConstruct(commander.getResearchTime('barge_ally'))) < 86400 %}{{ ((commander.getPoliticBarge() + 1) * commander.getTimeConstruct(commander.getResearchTime('barge_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticBarge() + 1) * commander.getTimeConstruct(commander.getResearchTime('barge_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'barge_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 2 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/soldier_att.webp') }}"><button class="text-marron mt-3">{{ 'title.soldier.att.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.three.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticSoldierAtt() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/soldier_att.webp') }}"><button class="text-marron">{{ 'title.soldier.att.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticSoldierAtt() %}{{ commander.getPoliticSoldierAtt() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticSoldierAtt() != 5 %}<div class="mt-4">{% if (commander.getPoliticSoldierAtt() + 1) * commander.getResearchCost('soldier_att_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticSoldierAtt() + 1) * commander.getResearchCost('soldier_att_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticSoldierAtt() + 1) * commander.getResearchCost('soldier_att_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticSoldierAtt() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.soldier.att.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'soldier_att_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticSoldierAtt() + 1) * commander.getResearchCost('soldier_att_ally')) and commander.getPoliticSoldierAtt() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticSoldierAtt() + 1) * commander.getTimeConstruct(commander.getResearchTime('soldier_att_ally'))) < 3600 %}{{ ((commander.getPoliticSoldierAtt() + 1) * commander.getTimeConstruct(commander.getResearchTime('soldier_att_ally')))|date('i:s') }}{% elseif ((commander.getPoliticSoldierAtt() + 1) * commander.getTimeConstruct(commander.getResearchTime('soldier_att_ally'))) < 86400 %}{{ ((commander.getPoliticSoldierAtt() + 1) * commander.getTimeConstruct(commander.getResearchTime('soldier_att_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticSoldierAtt() + 1) * commander.getTimeConstruct(commander.getResearchTime('soldier_att_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'soldier_att_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 3 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/cost_tank.webp') }}"><button class="text-marron mt-3">{{ 'title.cost.tank.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.four.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticCostTank() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/cost_tank.webp') }}"><button class="text-marron">{{ 'title.cost.tank.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticCostTank() %}{{ commander.getPoliticCostTank() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticCostTank() != 5 %}<div class="mt-4">{% if (commander.getPoliticCostTank() + 1) * commander.getResearchCost('cost_tank_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticCostTank() + 1) * commander.getResearchCost('cost_tank_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticCostTank() + 1) * commander.getResearchCost('cost_tank_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticCostTank() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.cost.tank.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'cost_tank_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticCostTank() + 1) * commander.getResearchCost('cost_tank_ally')) and commander.getPoliticCostTank() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticCostTank() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_tank_ally'))) < 3600 %}{{ ((commander.getPoliticCostTank() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_tank_ally')))|date('i:s') }}{% elseif ((commander.getPoliticCostTank() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_tank_ally'))) < 86400 %}{{ ((commander.getPoliticCostTank() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_tank_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticCostTank() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_tank_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'cost_tank_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 4 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/tank_def.webp') }}"><button class="text-marron mt-3">{{ 'title.tank.def.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.five.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticTankDef() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/tank_def.webp') }}"><button class="text-marron">{{ 'title.tank.def.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticTankDef() %}{{ commander.getPoliticTankDef() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticTankDef() != 5 %}<div class="mt-4">{% if (commander.getPoliticTankDef() + 1) * commander.getResearchCost('tank_def_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticTankDef() + 1) * commander.getResearchCost('tank_def_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticTankDef() + 1) * commander.getResearchCost('tank_def_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticTankDef() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.tank.def.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'tank_def_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticTankDef() + 1) * commander.getResearchCost('tank_def_ally')) and commander.getPoliticTankDef() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticTankDef() + 1) * commander.getTimeConstruct(commander.getResearchTime('tank_def_ally'))) < 3600 %}{{ ((commander.getPoliticTankDef() + 1) * commander.getTimeConstruct(commander.getResearchTime('tank_def_ally')))|date('i:s') }}{% elseif ((commander.getPoliticTankDef() + 1) * commander.getTimeConstruct(commander.getResearchTime('tank_def_ally'))) < 86400 %}{{ ((commander.getPoliticTankDef() + 1) * commander.getTimeConstruct(commander.getResearchTime('tank_def_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticTankDef() + 1) * commander.getTimeConstruct(commander.getResearchTime('tank_def_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'tank_def_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 5 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/invade_ally.webp') }}"><button class="text-marron mt-3">{{ 'title.invade.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.six.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticInvade() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/invade_ally.webp') }}"><button class="text-marron">{{ 'title.invade.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticInvade() %}{{ commander.getPoliticInvade() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticInvade() != 5 %}<div class="mt-4">{% if (commander.getPoliticInvade() + 1) * commander.getResearchCost('invade_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticInvade() + 1) * commander.getResearchCost('invade_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticInvade() + 1) * commander.getResearchCost('invade_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticInvade() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.invade.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'invade_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticInvade() + 1) * commander.getResearchCost('invade_ally')) and commander.getPoliticInvade() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticInvade() + 1) * commander.getTimeConstruct(commander.getResearchTime('invade_ally'))) < 3600 %}{{ ((commander.getPoliticInvade() + 1) * commander.getTimeConstruct(commander.getResearchTime('invade_ally')))|date('i:s') }}{% elseif ((commander.getPoliticInvade() + 1) * commander.getTimeConstruct(commander.getResearchTime('invade_ally'))) < 86400 %}{{ ((commander.getPoliticInvade() + 1) * commander.getTimeConstruct(commander.getResearchTime('invade_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticInvade() + 1) * commander.getTimeConstruct(commander.getResearchTime('invade_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'invade_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endif %}
                {% if ally and ally.getPolitic == 'democrat' %}
                    <tr class="{% if commander.getPoliticProd() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/prod_ally.webp') }}"><button class="text-marron">{{ 'title.prod.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticProd() %}{{ commander.getPoliticProd() }}{% else %}0{% endif %} / 5</button>
                            {% if commander.getPoliticProd() != 5 %}<div class="mt-4">{% if (commander.getPoliticProd() + 1) * commander.getResearchCost('prod_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticProd() + 1) * commander.getResearchCost('prod_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticProd() + 1) * commander.getResearchCost('prod_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                        </th>
                        {% if commander.getPoliticProd() == 5 %}
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                            </td>
                        {% else %}
                            <td class="center-cells cell-middle">
                                {{ 'research.prod.ally.desc'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                {% if commander.getSearch() == 'prod_ally' %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                    <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if commander.getBitcoin() >= ((commander.getPoliticProd() + 1) * commander.getResearchCost('prod_ally')) and commander.getPoliticProd() < 5 and commander.getSearchAt is null %}
                                        <div>{% if ((commander.getPoliticProd() + 1) * commander.getTimeConstruct(commander.getResearchTime('prod_ally'))) < 3600 %}{{ ((commander.getPoliticProd() + 1) * commander.getTimeConstruct(commander.getResearchTime('prod_ally')))|date('i:s') }}{% elseif ((commander.getPoliticProd() + 1) * commander.getTimeConstruct(commander.getResearchTime('prod_ally'))) < 86400 %}{{ ((commander.getPoliticProd() + 1) * commander.getTimeConstruct(commander.getResearchTime('prod_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticProd() + 1) * commander.getTimeConstruct(commander.getResearchTime('prod_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'prod_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                        {% endif %}
                    </tr>
                    {% if ally.getLevel() <= 0 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/search_ally.webp') }}"><button class="text-marron mt-3">{{ 'title.search.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.one.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticSearch() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/search_ally.webp') }}"><button class="text-marron">{{ 'title.search.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticSearch() %}{{ commander.getPoliticSearch() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticSearch() != 5 %}<div class="mt-4">{% if (commander.getPoliticSearch() + 1) * commander.getResearchCost('search_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticSearch() + 1) * commander.getResearchCost('search_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticSearch() + 1) * commander.getResearchCost('search_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticSearch() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.search.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'search_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticSearch() + 1) * commander.getResearchCost('search_ally')) and commander.getPoliticSearch() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticSearch() + 1) * commander.getTimeConstruct(commander.getResearchTime('search_ally'))) < 3600 %}{{ ((commander.getPoliticSearch() + 1) * commander.getTimeConstruct(commander.getResearchTime('search_ally')))|date('i:s') }}{% elseif ((commander.getPoliticSearch() + 1) * commander.getTimeConstruct(commander.getResearchTime('search_ally'))) < 86400 %}{{ ((commander.getPoliticSearch() + 1) * commander.getTimeConstruct(commander.getResearchTime('search_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticSearch() + 1) * commander.getTimeConstruct(commander.getResearchTime('search_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'search_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 1 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/cost_scientist.webp') }}"><button class="text-marron mt-3">{{ 'title.cost.scientist.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.two.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticCostScientist() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/cost_scientist.webp') }}"><button class="text-marron">{{ 'title.cost.scientist.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticCostScientist() %}{{ commander.getPoliticCostScientist() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticCostScientist() != 5 %}<div class="mt-4">{% if (commander.getPoliticCostScientist() + 1) * commander.getResearchCost('cost_scientist_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticCostScientist() + 1) * commander.getResearchCost('cost_scientist_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticCostScientist() + 1) * commander.getResearchCost('cost_scientist_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticCostScientist() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.cost.scientist.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'cost_scientist_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticCostScientist() + 1) * commander.getResearchCost('cost_scientist_ally')) and commander.getPoliticCostScientist() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticCostScientist() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_scientist_ally'))) < 3600 %}{{ ((commander.getPoliticCostScientist() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_scientist_ally')))|date('i:s') }}{% elseif ((commander.getPoliticCostScientist() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_scientist_ally'))) < 86400 %}{{ ((commander.getPoliticCostScientist() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_scientist_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticCostScientist() + 1) * commander.getTimeConstruct(commander.getResearchTime('cost_scientist_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'cost_scientist_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 2 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/cargo_ally.webp') }}"><button class="text-marron mt-3">{{ 'title.cargo.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.three.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticCargo() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/cargo_ally.webp') }}"><button class="text-marron">{{ 'title.cargo.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticCargo() %}{{ commander.getPoliticCargo() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticCargo() != 5 %}<div class="mt-4">{% if (commander.getPoliticCargo() + 1) * commander.getResearchCost('cargo_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticCargo() + 1) * commander.getResearchCost('cargo_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticCargo() + 1) * commander.getResearchCost('cargo_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticCargo() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.cargo.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'cargo_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticCargo() + 1) * commander.getResearchCost('cargo_ally')) and commander.getPoliticCargo() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticCargo() + 1) * commander.getTimeConstruct(commander.getResearchTime('cargo_ally'))) < 3600 %}{{ ((commander.getPoliticCargo() + 1) * commander.getTimeConstruct(commander.getResearchTime('cargo_ally')))|date('i:s') }}{% elseif ((commander.getPoliticCargo() + 1) * commander.getTimeConstruct(commander.getResearchTime('cargo_ally'))) < 86400 %}{{ ((commander.getPoliticCargo() + 1) * commander.getTimeConstruct(commander.getResearchTime('cargo_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticCargo() + 1) * commander.getTimeConstruct(commander.getResearchTime('cargo_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'cargo_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 3 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/armor_ally.webp') }}"><button class="text-marron mt-3">{{ 'title.armor.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.four.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticArmor() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/armor_ally.webp') }}"><button class="text-marron">{{ 'title.armor.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticArmor() %}{{ commander.getPoliticArmor() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticArmor() != 5 %}<div class="mt-4">{% if (commander.getPoliticArmor() + 1) * commander.getResearchCost('armor_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticArmor() + 1) * commander.getResearchCost('armor_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticArmor() + 1) * commander.getResearchCost('armor_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticArmor() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.armor.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'armor_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticArmor() + 1) * commander.getResearchCost('armor_ally')) and commander.getPoliticArmor() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticArmor() + 1) * commander.getTimeConstruct(commander.getResearchTime('armor_ally'))) < 3600 %}{{ ((commander.getPoliticArmor() + 1) * commander.getTimeConstruct(commander.getResearchTime('armor_ally')))|date('i:s') }}{% elseif ((commander.getPoliticArmor() + 1) * commander.getTimeConstruct(commander.getResearchTime('armor_ally'))) < 86400 %}{{ ((commander.getPoliticArmor() + 1) * commander.getTimeConstruct(commander.getResearchTime('armor_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticArmor() + 1) * commander.getTimeConstruct(commander.getResearchTime('armor_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'armor_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 4 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/merchant_ally.webp') }}"><button class="text-marron mt-3">{{ 'title.merchant.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.five.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticMerchant() == 5 %}finish-search availableBack{% else %}access-search{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/merchant_ally.webp') }}"><button class="text-marron">{{ 'title.merchant.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticMerchant() %}{{ commander.getPoliticMerchant() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticMerchant() != 5 %}<div class="mt-4">{% if (commander.getPoliticMerchant() + 1) * commander.getResearchCost('merchant_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticMerchant() + 1) * commander.getResearchCost('merchant_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticMerchant() + 1) * commander.getResearchCost('merchant_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticMerchant() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.merchant.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'merchant_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticMerchant() + 1) * commander.getResearchCost('merchant_ally')) and commander.getPoliticMerchant() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticMerchant() + 1) * commander.getTimeConstruct(commander.getResearchTime('merchant_ally'))) < 3600 %}{{ ((commander.getPoliticMerchant() + 1) * commander.getTimeConstruct(commander.getResearchTime('merchant_ally')))|date('i:s') }}{% elseif ((commander.getPoliticMerchant() + 1) * commander.getTimeConstruct(commander.getResearchTime('merchant_ally'))) < 86400 %}{{ ((commander.getPoliticMerchant() + 1) * commander.getTimeConstruct(commander.getResearchTime('merchant_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticMerchant() + 1) * commander.getTimeConstruct(commander.getResearchTime('merchant_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'merchant_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                    {% if ally.getLevel() <= 5 %}
                        <tr class="blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/colonisation_ally.webp') }}"><button class="text-marron mt-3">{{ 'title.colonisation.ally'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'research.six.ally.blocked'|trans }}
                            </td>
                            <td width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'research.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="{% if commander.getPoliticColonisation() == 5 %}finish-search availableBack{% else %}access-search-2{% endif %}">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/colonisation_ally.webp') }}"><button class="text-marron">{{ 'title.colonisation.ally'|trans|raw }} - {{ 'research.level'|trans|raw }} {% if commander.getPoliticColonisation() %}{{ commander.getPoliticColonisation() }}{% else %}0{% endif %} / 5</button>
                                {% if commander.getPoliticColonisation() != 5 %}<div class="mt-4">{% if (commander.getPoliticColonisation() + 1) * commander.getResearchCost('colonisation_ally') > commander.getBitcoin() %}<span class="text-rouge">{{ ((commander.getPoliticColonisation() + 1) * commander.getResearchCost('colonisation_ally'))|number_format }}</span>{% else %}{{ ((commander.getPoliticColonisation() + 1) * commander.getResearchCost('colonisation_ally'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'bitcoinImg'|trans }}" src="{{ asset('img/coin.webp') }}"></div>{% endif %}
                            </th>
                            {% if commander.getPoliticColonisation() == 5 %}
                                <td colspan="2" width="101px" class="center-cells cell-middle">
                                    <div class="text-vert text-more">{{ 'research.finish'|trans }}</div>
                                </td>
                            {% else %}
                                <td class="center-cells cell-middle">
                                    {{ 'research.colonisation.ally.desc'|trans }}
                                </td>
                                <td width="101px" class="center-cells cell-middle">
                                    {% if commander.getSearch() == 'colonisation_ally' %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="30" src="{{ asset('img/search.webp') }}">
                                        <div class="timerArea" hidden>{{ commander.getSearchAt()|date('Y/m/d H:i:s') }}</div>

                                    {% else %}
                                        {% if commander.getBitcoin() >= ((commander.getPoliticColonisation() + 1) * commander.getResearchCost('colonisation_ally')) and commander.getPoliticColonisation() < 5 and commander.getSearchAt is null %}
                                            <div>{% if ((commander.getPoliticColonisation() + 1) * commander.getTimeConstruct(commander.getResearchTime('colonisation_ally'))) < 3600 %}{{ ((commander.getPoliticColonisation() + 1) * commander.getTimeConstruct(commander.getResearchTime('colonisation_ally')))|date('i:s') }}{% elseif ((commander.getPoliticColonisation() + 1) * commander.getTimeConstruct(commander.getResearchTime('colonisation_ally'))) < 86400 %}{{ ((commander.getPoliticColonisation() + 1) * commander.getTimeConstruct(commander.getResearchTime('colonisation_ally'))- 3600)|date('H:i:s') }}{% else %}{{ ((commander.getPoliticColonisation() + 1) * commander.getTimeConstruct(commander.getResearchTime('colonisation_ally'))- 3600)|date('d H:i:s') }}{% endif %}</div>
                                            <a class="btn btn-lg btn-start" href="{{ path('research_ally', {'search': 'colonisation_ally', 'usePlanet': usePlanet.getId()}) }}">{{ 'research.seek'|trans }}</a>
                                        {% else %}
                                            <span class="btn btn-lg btn-secondary" disabled>{{ 'research.seek'|trans }}</span>
                                        {% endif %}
                                    {% endif %}
                                </td>
                            {% endif %}
                        </tr>
                    {% endif %}
                {% endif %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}
