{% extends 'base.html.twig' %}

{% trans_default_domain 'front_building' %}

{% block title %}{{ 'title'|trans }}{% endblock %}

{% block body %}
    {% if ally %}
        {% set bonus = 1.2 + (character.getPoliticProd() / 14) %}
    {% else %}
        {% set bonus = 1 %}
    {% endif %}
    {% set planetNb = usePlanet.getNiobium() %}
    {% set planetWt = usePlanet.getWater() %}
    {% if character.getZombie() == 0 %}
        {% set planetPdg = usePlanet.getCharacter().getRank().getWarPoint() %}
    {% endif %}
    <div class="front-block">
        {% if app.user.getTutorial() == 5 or app.user.getTutorial() == 6 or app.user.getTutorial() == 7 %}
            <table class="table table-striped borderOverview tutorial">
                <tbody>
                <tr>
                    <th class="tab-cells-name p-3 tutorial">
                        <div class="row">
                            <div class="col-12 py-1">
                                {% if app.user.getTutorial() == 5  %}{{ 'building.tutorial'|trans|raw }}{% elseif app.user.getTutorial() == 6  %}{{ 'building.tutorialBis'|trans|raw }}{% elseif app.user.getTutorial() == 7  %}{{ 'building.tutorialTer'|trans|raw }}{% endif %}
                            </div>
                        </div>
                    </th>
                </tr>
                </tbody>
            </table>
        {% endif %}
        <div class="building">
            <div id="timeDefaut" hidden>{{ "now"|date("d/m/Y") }}</div>
            {% if usePlanet.getConstruct() == 'destruct' %}
            <div class="text-rouge text-center p-2"><h2>{{ 'building.destroyBuild'|trans }}<span class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</span></h2></div>
            {% endif %}
            {% if usePlanet.getConstructions()|length > 0 %}
                <div class="ml-3">
                    {{ 'building.constructions'|trans }}
                    {% set x = 1 %}
                    {% for construction in usePlanet.getConstructions() %}
                        {% if x > 1 %} - {% endif %}<span><a data-toggle="tooltip" data-placement="right" title="{{ 'tooltip.cancelList'|trans }}" href="{{ path('building_listCancel', {'usePlanet': usePlanet.getId(), 'construction': construction.getId()}) }}">{{ construction.getConstruct()|trans }}</a></span>
                        {% set x = x + 1 %}
                    {% endfor %}
                </div>
            {% endif %}
            {%  if usePlanet.getMoon() == false %}
                <div class="block-title"><h1>{{ 'building.titleRessource'|trans }}</h1></div>
                <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                    <tr class="access-build">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/mining.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.miner'|trans({'%product%': ((((usePlanet.getMiner() + 1) * 15)) * 60 * bonus)|round})|raw }}"><strong>{{ 'building.mining'|trans }} x {% if usePlanet.getMiner() %}{{ usePlanet.getMiner() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingNiobium('miner') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingNiobium('miner'))|number_format }}</span>{% else %}{{ ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingNiobium('miner'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingWater('miner') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingWater('miner'))|number_format }}</span>{% else %}{{ ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingWater('miner'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if character.getBuildingGroundPlace('miner') + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('miner') }}</span>{% else %}{{ character.getBuildingGroundPlace('miner') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.mining.desc'|trans }}
                        </td>
                        <td class="center-cells p-1{% if app.user.getTutorial() == 5 or app.user.getTutorial() == 6 %} tutorial-show{% endif %}">
                            {% if usePlanet.getConstruct() == 'miner' %}
                                {% if planetNb >= ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingNiobium('miner')) and planetWt >= ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingWater('miner')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('miner') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getMiner() + 2 + usePlanet.getConstructionsLike('miner')) * character.getBuildingTime('miner')) < 3600 %}{{  ((usePlanet.getMiner() + 2 + usePlanet.getConstructionsLike('miner')) * character.getBuildingTime('miner'))|date('i:s') }}{% elseif ((usePlanet.getMiner() + 2 + usePlanet.getConstructionsLike('miner')) * character.getBuildingTime('miner')) < 86400 %}{{  ((usePlanet.getMiner() + 2) * character.getBuildingTime('miner')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getMiner() + 2 + usePlanet.getConstructionsLike('miner')) * character.getBuildingTime('miner')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'miner', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                            {% else %}
                                {% if planetNb >= ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingNiobium('miner')) and planetWt >= ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingWater('miner')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('miner') <= usePlanet.getGround() and usePlanet.getConstructAt() == null %}
                                    <div>{% if ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingTime('miner')) < 3600 %}{{  ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingTime('miner'))|date('i:s') }}{% elseif ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingTime('miner')) < 86400 %}{{  ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingTime('miner')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingTime('miner')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'miner', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingNiobium('miner')) and planetWt >= ((usePlanet.getMiner() + 1 + usePlanet.getConstructionsLike('miner')) * character.getBuildingWater('miner')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('miner') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'miner', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <a  class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</a>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getMiner() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_mine', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'miner' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                    <tr class="access-build-2">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/extract.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.extract'|trans({'%product%': ((((usePlanet.getExtractor() + 1) * 10)) * 60 * bonus)|round})|raw }}"><strong>{{ 'building.extract'|trans }} x {% if usePlanet.getExtractor() %}{{ usePlanet.getExtractor() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingNiobium('extractor') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingNiobium('extractor'))|number_format }}</span>{% else %}{{ ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingNiobium('extractor'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingWater('extractor') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingWater('extractor'))|number_format }}</span>{% else %}{{ ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingWater('extractor'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if character.getBuildingGroundPlace('extractor') + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('extractor') }}</span>{% else %}{{ character.getBuildingGroundPlace('extractor') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.extract.desc'|trans }}
                        </td>
                        <td class="center-cells p-1{% if app.user.getTutorial() == 5 or app.user.getTutorial() == 6 %} tutorial-show{% endif %}">
                            {% if usePlanet.getConstruct() == 'extractor' %}
                                {% if planetNb >= ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingNiobium('extractor')) and planetWt >= ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingWater('extractor')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('extractor') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getExtractor() + 2 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingTime('extractor')) < 3600 %}{{  ((usePlanet.getExtractor() + 2 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingTime('extractor'))|date('i:s') }}{% elseif ((usePlanet.getExtractor() + 2 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingTime('extractor')) < 86400 %}{{  ((usePlanet.getExtractor() + 2 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingTime('extractor')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getExtractor() + 2 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingTime('extractor')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'extractor', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                            {% else %}
                                {% if planetNb >= ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingNiobium('extractor')) and planetWt >= ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingWater('extractor')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('extractor') <= usePlanet.getGround() and usePlanet.getConstructAt() == null %}
                                    <div>{% if ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingTime('extractor')) < 3600 %}{{  ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingTime('extractor'))|date('i:s') }}{% elseif ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingTime('extractor')) < 86400 %}{{  ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingTime('extractor')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingTime('extractor')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'extractor', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingNiobium('extractor')) and planetWt >= ((usePlanet.getExtractor() + 1 + usePlanet.getConstructionsLike('extractor')) * character.getBuildingWater('extractor')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('extractor') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'extractor', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getExtractor() > 0 and usePlanet.getConstruct is null %}
                            <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_extract', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'extractor' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                            <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                    <tr class="access-build-2">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/farm.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.farm'|trans({'%product%': ((((usePlanet.getFarm() + 1) * 18)) * 60 * bonus)|round})|raw }}"><strong>{{ 'building.farm'|trans }} x {% if usePlanet.getFarm() %}{{ usePlanet.getFarm() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingNiobium('farm') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingNiobium('farm'))|number_format }}</span>{% else %}{{ ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingNiobium('farm'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingWater('farm') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingWater('farm'))|number_format }}</span>{% else %}{{ ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingWater('farm'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if character.getBuildingGroundPlace('farm') + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('farm') }}</span>{% else %}{{ character.getBuildingGroundPlace('farm') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.farm.desc'|trans }}
                        </td>
                        <td class="center-cells p-1{% if app.user.getTutorial() == 5 or app.user.getTutorial() == 6 %} tutorial-show{% endif %}">
                            {% if usePlanet.getConstruct() == 'farm' %}
                                {% if planetNb >= ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingNiobium('farm')) and planetWt >= ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingWater('farm')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('farm') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getFarm() + 2 + usePlanet.getConstructionsLike('farm')) * character.getBuildingTime('farm')) < 3600 %}{{  ((usePlanet.getFarm() + 2 + usePlanet.getConstructionsLike('farm')) * character.getBuildingTime('farm'))|date('i:s') }}{% elseif ((usePlanet.getFarm() + 2 + usePlanet.getConstructionsLike('farm')) * character.getBuildingTime('farm')) < 86400 %}{{  ((usePlanet.getFarm() + 2 + usePlanet.getConstructionsLike('farm')) * character.getBuildingTime('farm')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getFarm() + 2 + usePlanet.getConstructionsLike('farm')) * character.getBuildingTime('farm')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'farm', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                            {% else %}
                                {% if planetNb >= ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingNiobium('farm')) and planetWt >= ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingWater('farm')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('farm') <= usePlanet.getGround() and usePlanet.getConstructAt() == null %}
                                    <div>{% if ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingTime('farm')) < 3600 %}{{  ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingTime('farm'))|date('i:s') }}{% elseif ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingTime('farm')) < 86400 %}{{  ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingTime('farm')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingTime('farm')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'farm', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingNiobium('farm')) and planetWt >= ((usePlanet.getFarm() + 1 + usePlanet.getConstructionsLike('farm')) * character.getBuildingWater('farm')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('farm') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'farm', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getFarm() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_farm', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'farm' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                    {% if (character.getCargo() <= 1 and usePlanet.getAeroponicFarm() == 0) or character.getAeroponicFarm() <= 0 %}
                        <tr class="blocked-building blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/aeroponic_farm.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.aeroponicFarm'|trans({'%product%': ((((usePlanet.getAeroponicFarm() + 1) * 25)) * 60)|round})|raw }}">{{ 'building.aeroponicFarm'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'building.aeroponicFarm.blocked'|trans }}
                            </td>
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="access-build-2">
                            <td class="center-cells">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/aeroponic_farm.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.aeroponicFarm'|trans({'%product%': (((usePlanet.getAeroponicFarm() + 1) * 25)) * 60})|raw }}"><strong>{{ 'building.aeroponicFarm'|trans }} x {% if usePlanet.getAeroponicFarm() %}{{ usePlanet.getAeroponicFarm() }}{% else %}0{% endif %}</strong></button>
                                <div class="mt-4">{% if (usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingNiobium('aeroponicFarm') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingNiobium('aeroponicFarm'))|number_format }}</span>{% else %}{{ ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingNiobium('aeroponicFarm'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingWater('aeroponicFarm') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingWater('aeroponicFarm'))|number_format }}</span>{% else %}{{ ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingWater('aeroponicFarm'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                                <div class="mt-4">{% if character.getBuildingSkyPlace('aeroponicFarm') + usePlanet.getSkyPlace() > usePlanet.getSky() %}<span class="text-rouge">{{ character.getBuildingSkyPlace('aeroponicFarm') }}</span>{% else %}{{ character.getBuildingSkyPlace('aeroponicFarm') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'skyImg'|trans }}" src="{{ asset('img/sky.webp') }}"></div>
                            </td>
                            <td class="center-cells cell-middle">
                                {{ 'building.aeroponicFarm.desc'|trans }}
                            </td>
                            <td class="center-cells p-1{% if app.user.getTutorial() == 5 or app.user.getTutorial() == 6 %} tutorial-show{% endif %}">
                                {% if usePlanet.getConstruct() == 'aeroponicFarm' %}
                                    {% if planetNb >= ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingNiobium('aeroponicFarm')) and planetWt >= ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingWater('aeroponicFarm')) and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('aeroponicFarm') <= usePlanet.getSky() %}
                                        <div class="mt-5">{% if ((usePlanet.getAeroponicFarm() + 2 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingTime('aeroponicFarm')) < 3600 %}{{  ((usePlanet.getAeroponicFarm() + 2 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingTime('aeroponicFarm'))|date('i:s') }}{% elseif ((usePlanet.getAeroponicFarm() + 2 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingTime('aeroponicFarm')) < 86400 %}{{  ((usePlanet.getAeroponicFarm() + 2 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingTime('aeroponicFarm')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getAeroponicFarm() + 2 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingTime('aeroponicFarm')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'aeroponicFarm', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                    {% else %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                    {% endif %}
                                    <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                                {% else %}
                                    {% if planetNb >= ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingNiobium('aeroponicFarm')) and planetWt >= ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingWater('aeroponicFarm')) and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('aeroponicFarm') <= usePlanet.getSky() and usePlanet.getConstructAt() == null %}
                                        <div>{% if ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingTime('aeroponicFarm')) < 3600 %}{{  ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingTime('aeroponicFarm'))|date('i:s') }}{% elseif ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingTime('aeroponicFarm')) < 86400 %}{{  ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingTime('aeroponicFarm')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingTime('aeroponicFarm')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'aeroponicFarm', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                    {% elseif planetNb >= ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingNiobium('aeroponicFarm')) and planetWt >= ((usePlanet.getAeroponicFarm() + 1 + usePlanet.getConstructionsLike('aeroponicFarm')) * character.getBuildingWater('aeroponicFarm')) and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('aeroponicFarm') <= usePlanet.getSky() and usePlanet.getConstructAt() %}
                                        <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'aeroponicFarm', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                            <td class="center-cells p-4">
                                {% if usePlanet.getAeroponicFarm() > 0 and usePlanet.getConstruct is null %}
                                    <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_aeroponic_farm', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                                {% elseif usePlanet.getConstruct() == 'aeroponicFarm' %}
                                    <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                                {% else %}
                                    <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                                {% endif %}
                            </td>
                        </tr>
                    {% endif %}
                </tbody>
                </table>
            {% endif %}
            <div class="block-title"><h1>{{ 'building.titleStock'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                {% if character.getCargo() <= 1 and usePlanet.getNiobiumStock() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/niobiumStock.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.niobiumStock'|trans|raw }}">{{ 'building.niobiumStock'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.niobiumStock.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/niobiumStock.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.niobiumStock'|trans|raw }}"><strong>{{ 'building.niobiumStock'|trans }} x {% if usePlanet.getNiobiumStock() %}{{ usePlanet.getNiobiumStock() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getNiobiumStock() + 1) * character.getBuildingNiobium('niobiumStock') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getNiobiumStock() + 1) * character.getBuildingNiobium('niobiumStock'))|number_format }}</span>{% else %}{{ ((usePlanet.getNiobiumStock() + 1) * character.getBuildingNiobium('niobiumStock'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getNiobiumStock() + 1) * character.getBuildingWater('niobiumStock') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getNiobiumStock() + 1) * character.getBuildingWater('niobiumStock'))|number_format }}</span>{% else %}{{ ((usePlanet.getNiobiumStock() + 1) * character.getBuildingWater('niobiumStock'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 3 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('niobiumStock') }}</span>{% else %}{{ character.getBuildingGroundPlace('niobiumStock') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.niobiumStock.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'niobiumStock' %}
                                {% if planetNb >= ((usePlanet.getNiobiumStock() + 1 + usePlanet.getConstructionsLike('niobiumStock')) * character.getBuildingNiobium('niobiumStock')) and planetWt >= ((usePlanet.getNiobiumStock() + 1 + usePlanet.getConstructionsLike('niobiumStock')) * character.getBuildingWater('niobiumStock')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('niobiumStock') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getNiobiumStock() + 2 + usePlanet.getConstructionsLike('niobiumStock')) * character.getBuildingTime('niobiumStock')) < 3600 %}{{  ((usePlanet.getNiobiumStock() + 2 + usePlanet.getConstructionsLike('niobiumStock')) * character.getBuildingTime('niobiumStock'))|date('i:s') }}{% elseif ((usePlanet.getNiobiumStock() + 2 + usePlanet.getConstructionsLike('niobiumStock')) * character.getBuildingTime('niobiumStock')) < 86400 %}{{  ((usePlanet.getNiobiumStock() + 2) * character.getBuildingTime('niobiumStock')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getNiobiumStock() + 2 + usePlanet.getConstructionsLike('niobiumStock')) * character.getBuildingTime('niobiumStock')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'niobiumStock', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getNiobiumStock() + 1) * character.getBuildingNiobium('niobiumStock')) and planetWt >= ((usePlanet.getNiobiumStock() + 1) * character.getBuildingWater('niobiumStock')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('niobiumStock') <= usePlanet.getGround() and usePlanet.getConstruct is null and character.getCargo() > 1 %}
                                    <div>{% if ((usePlanet.getNiobiumStock() + 1) * character.getBuildingTime('niobiumStock')) < 3600 %}{{  ((usePlanet.getNiobiumStock() + 1) * character.getBuildingTime('niobiumStock'))|date('i:s') }}{% elseif ((usePlanet.getNiobiumStock() + 1) * character.getBuildingTime('niobiumStock')) < 86400 %}{{  ((usePlanet.getNiobiumStock() + 1) * character.getBuildingTime('niobiumStock')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getNiobiumStock() + 1) * character.getBuildingTime('niobiumStock')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'niobiumStock', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getNiobiumStock() + 1 + usePlanet.getConstructionsLike('niobiumStock')) * character.getBuildingNiobium('niobiumStock')) and planetWt >= ((usePlanet.getNiobiumStock() + 1 + usePlanet.getConstructionsLike('niobiumStock')) * character.getBuildingWater('niobiumStock')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('niobiumStock') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'niobiumStock', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getNiobiumStock() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_niobiumStock', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'niobiumStock' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                {% if character.getCargo() <= 1 and usePlanet.getWaterStock() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/waterStock.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.waterStock'|trans|raw }}">{{ 'building.waterStock'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.waterStock.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build-2">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/waterStock.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.waterStock'|trans|raw }}"><strong>{{ 'building.waterStock'|trans }} x {% if usePlanet.getWaterStock() %}{{ usePlanet.getWaterStock() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getWaterStock() + 1) * character.getBuildingNiobium('waterStock') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getWaterStock() + 1) * character.getBuildingNiobium('waterStock'))|number_format }}</span>{% else %}{{ ((usePlanet.getWaterStock() + 1) * character.getBuildingNiobium('waterStock'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getWaterStock() + 1) * character.getBuildingWater('waterStock') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getWaterStock() + 1) * character.getBuildingWater('waterStock'))|number_format }}</span>{% else %}{{ ((usePlanet.getWaterStock() + 1) * character.getBuildingWater('waterStock'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 3 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('waterStock') }}</span>{% else %}{{ character.getBuildingGroundPlace('waterStock') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.waterStock.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'waterStock' %}
                                {% if planetNb >= ((usePlanet.getWaterStock() + 1 + usePlanet.getConstructionsLike('waterStock')) * character.getBuildingNiobium('waterStock')) and planetWt >= ((usePlanet.getWaterStock() + 1 + usePlanet.getConstructionsLike('waterStock')) * character.getBuildingWater('waterStock')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('waterStock') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getWaterStock() + 2 + usePlanet.getConstructionsLike('waterStock')) * character.getBuildingTime('waterStock')) < 3600 %}{{  ((usePlanet.getWaterStock() + 2 + usePlanet.getConstructionsLike('waterStock')) * character.getBuildingTime('waterStock'))|date('i:s') }}{% elseif ((usePlanet.getWaterStock() + 2 + usePlanet.getConstructionsLike('waterStock')) * character.getBuildingTime('waterStock')) < 86400 %}{{  ((usePlanet.getWaterStock() + 2) * character.getBuildingTime('waterStock')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getWaterStock() + 2 + usePlanet.getConstructionsLike('waterStock')) * character.getBuildingTime('waterStock')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'waterStock', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getWaterStock() + 1) * character.getBuildingNiobium('waterStock')) and planetWt >= ((usePlanet.getWaterStock() + 1) * character.getBuildingWater('waterStock')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('waterStock') <= usePlanet.getGround() and usePlanet.getConstruct is null and character.getCargo() > 1 %}
                                    <div>{% if ((usePlanet.getWaterStock() + 1) * character.getBuildingTime('waterStock')) < 3600 %}{{  ((usePlanet.getWaterStock() + 1) * character.getBuildingTime('waterStock'))|date('i:s') }}{% elseif ((usePlanet.getWaterStock() + 1) * character.getBuildingTime('waterStock')) < 86400 %}{{  ((usePlanet.getWaterStock() + 1) * character.getBuildingTime('waterStock')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getWaterStock() + 1) * character.getBuildingTime('waterStock')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'waterStock', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getWaterStock() + 1 + usePlanet.getConstructionsLike('waterStock')) * character.getBuildingNiobium('waterStock')) and planetWt >= ((usePlanet.getWaterStock() + 1 + usePlanet.getConstructionsLike('waterStock')) * character.getBuildingWater('waterStock')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('waterStock') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'waterStock', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getWaterStock() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_waterStock', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'waterStock' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                {% if (character.getCargo() <= 1 and usePlanet.getSilos() == 0) or character.getAeroponicFarm() <= 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/silos.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.silos'|trans|raw }}">{{ 'building.silos'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.silos.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/silos.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.silos'|trans|raw }}"><strong>{{ 'building.silos'|trans }} x {% if usePlanet.getSilos() %}{{ usePlanet.getSilos() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getSilos() + 1) * character.getBuildingNiobium('silos') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getSilos() + 1) * character.getBuildingNiobium('silos'))|number_format }}</span>{% else %}{{ ((usePlanet.getSilos() + 1) * character.getBuildingNiobium('silos'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getSilos() + 1) * character.getBuildingWater('silos') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getSilos() + 1) * character.getBuildingWater('silos'))|number_format }}</span>{% else %}{{ ((usePlanet.getSilos() + 1) * character.getBuildingWater('silos'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 3 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('silos') }}</span>{% else %}{{ character.getBuildingGroundPlace('silos') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.silos.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'silos' %}
                                {% if planetNb >= ((usePlanet.getSilos() + 1 + usePlanet.getConstructionsLike('silos')) * character.getBuildingNiobium('silos')) and planetWt >= ((usePlanet.getSilos() + 1 + usePlanet.getConstructionsLike('silos')) * character.getBuildingWater('silos')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('silos') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getSilos() + 2 + usePlanet.getConstructionsLike('silos')) * character.getBuildingTime('silos')) < 3600 %}{{  ((usePlanet.getSilos() + 2 + usePlanet.getConstructionsLike('silos')) * character.getBuildingTime('silos'))|date('i:s') }}{% elseif ((usePlanet.getSilos() + 2 + usePlanet.getConstructionsLike('silos')) * character.getBuildingTime('silos')) < 86400 %}{{  ((usePlanet.getSilos() + 2) * character.getBuildingTime('silos')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getSilos() + 2 + usePlanet.getConstructionsLike('silos')) * character.getBuildingTime('silos')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'silos', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getSilos() + 1) * character.getBuildingNiobium('silos')) and planetWt >= ((usePlanet.getSilos() + 1) * character.getBuildingWater('silos')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('silos') <= usePlanet.getGround() and usePlanet.getConstruct is null and character.getCargo() > 1 %}
                                    <div>{% if ((usePlanet.getSilos() + 1) * character.getBuildingTime('silos')) < 3600 %}{{  ((usePlanet.getSilos() + 1) * character.getBuildingTime('silos'))|date('i:s') }}{% elseif ((usePlanet.getSilos() + 1) * character.getBuildingTime('silos')) < 86400 %}{{  ((usePlanet.getSilos() + 1) * character.getBuildingTime('silos')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getSilos() + 1) * character.getBuildingTime('silos')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'silos', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getSilos() + 1 + usePlanet.getConstructionsLike('silos')) * character.getBuildingNiobium('silos')) and planetWt >= ((usePlanet.getSilos() + 1 + usePlanet.getConstructionsLike('silos')) * character.getBuildingWater('silos')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('silos') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'silos', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getSilos() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_silos', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'silos' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'building.titleEco'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                <tr class="access-build">
                    <td class="center-cells">
                        <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/search.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.search'|trans|raw }}"><strong>{{ 'building.search'|trans }} x {% if usePlanet.getCenterSearch() %}{{ usePlanet.getCenterSearch() }}{% else %}0{% endif %}</strong></button>
                        <div class="mt-4">{% if (usePlanet.getCenterSearch() + 1) * character.getBuildingNiobium('centerSearch') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getCenterSearch() + 1) * character.getBuildingNiobium('centerSearch'))|number_format }}</span>{% else %}{{ ((usePlanet.getCenterSearch() + 1) * character.getBuildingNiobium('centerSearch'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getCenterSearch() + 1) * character.getBuildingWater('centerSearch') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getCenterSearch() + 1) * character.getBuildingWater('centerSearch'))|number_format }}</span>{% else %}{{ ((usePlanet.getCenterSearch() + 1) * character.getBuildingWater('centerSearch'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                        <div class="mt-4">{% if 5 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('centerSearch') }}</span>{% else %}{{ character.getBuildingGroundPlace('centerSearch') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                    </td>
                    <td class="center-cells cell-middle">
                        {{ 'building.search.desc'|trans }}
                    </td>
                    <td class="center-cells p-1">
                        {% if usePlanet.getConstruct() == 'centerSearch' %}
                            {% if planetNb >= ((usePlanet.getCenterSearch() + 1 + usePlanet.getConstructionsLike('centerSearch')) * character.getBuildingNiobium('centerSearch')) and planetWt >= ((usePlanet.getCenterSearch() + 1 + usePlanet.getConstructionsLike('centerSearch')) * character.getBuildingWater('centerSearch')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('centerSearch') <= usePlanet.getGround() %}
                                <div class="mt-5">{% if ((usePlanet.getCenterSearch() + 2 + usePlanet.getConstructionsLike('centerSearch')) * character.getBuildingTime('centerSearch')) < 3600 %}{{  ((usePlanet.getCenterSearch() + 2 + usePlanet.getConstructionsLike('centerSearch')) * character.getBuildingTime('centerSearch'))|date('i:s') }}{% elseif ((usePlanet.getCenterSearch() + 2 + usePlanet.getConstructionsLike('centerSearch')) * character.getBuildingTime('centerSearch')) < 86400 %}{{  ((usePlanet.getCenterSearch() + 2) * character.getBuildingTime('centerSearch')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCenterSearch() + 2 + usePlanet.getConstructionsLike('centerSearch')) * character.getBuildingTime('centerSearch')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'centerSearch', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                            {% else %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                            {% endif %}
                            <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        {% else %}
                            {% if planetNb >= ((usePlanet.getCenterSearch() + 1) * character.getBuildingNiobium('centerSearch')) and planetWt >= ((usePlanet.getCenterSearch() + 1) * character.getBuildingWater('centerSearch')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('centerSearch') <= usePlanet.getGround() and usePlanet.getConstruct is null %}
                                <div>{% if ((usePlanet.getCenterSearch() + 1) * character.getBuildingTime('centerSearch')) < 3600 %}{{  ((usePlanet.getCenterSearch() + 1) * character.getBuildingTime('centerSearch'))|date('i:s') }}{% elseif ((usePlanet.getCenterSearch() + 1) * character.getBuildingTime('centerSearch')) < 86400 %}{{  ((usePlanet.getCenterSearch() + 1) * character.getBuildingTime('centerSearch')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCenterSearch() + 1) * character.getBuildingTime('centerSearch')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'centerSearch', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                            {% elseif planetNb >= ((usePlanet.getCenterSearch() + 1 + usePlanet.getConstructionsLike('centerSearch')) * character.getBuildingNiobium('centerSearch')) and planetWt >= ((usePlanet.getCenterSearch() + 1 + usePlanet.getConstructionsLike('centerSearch')) * character.getBuildingWater('centerSearch')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('centerSearch') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'centerSearch', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                            {% else %}
                                <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                            {% endif %}
                        {% endif %}
                    </td>
                    <td class="center-cells p-4">
                        {% if usePlanet.getCenterSearch() > 0 and usePlanet.getConstruct is null %}
                            <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_search', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                        {% elseif usePlanet.getConstruct() == 'centerSearch' %}
                            <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                        {% else %}
                            <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                        {% endif %}
                    </td>
                </tr>

                {% if character.getDemography() <= 0 and usePlanet.getCity() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/city.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.city'|trans|raw }}">{{ 'building.city'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.city.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                </tr>
                {% else %}
                    <tr class="access-build-2">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/city.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.city'|trans|raw }}"><strong>{{ 'building.city'|trans }} x {% if usePlanet.getCity() %}{{ usePlanet.getCity() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getCity() + 1) * character.getBuildingNiobium('city') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getCity() + 1) * character.getBuildingNiobium('city'))|number_format }}</span>{% else %}{{ ((usePlanet.getCity() + 1) * character.getBuildingNiobium('city'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getCity() + 1) * character.getBuildingWater('city') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getCity() + 1) * character.getBuildingWater('city'))|number_format }}</span>{% else %}{{ ((usePlanet.getCity() + 1) * character.getBuildingWater('city'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 6 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('city') }}</span>{% else %}{{ character.getBuildingGroundPlace('city') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.city.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'city' %}
                                {% if planetNb >= ((usePlanet.getCity() + 1 + usePlanet.getConstructionsLike('city')) * character.getBuildingNiobium('city')) and planetWt >= ((usePlanet.getCity() + 1 + usePlanet.getConstructionsLike('city')) * character.getBuildingWater('city')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('city') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getCity() + 2 + usePlanet.getConstructionsLike('city')) * character.getBuildingTime('city')) < 3600 %}{{  ((usePlanet.getCity() + 2 + usePlanet.getConstructionsLike('city')) * character.getBuildingTime('city'))|date('i:s') }}{% elseif ((usePlanet.getCity() + 2 + usePlanet.getConstructionsLike('city')) * character.getBuildingTime('city')) < 86400 %}{{  ((usePlanet.getCity() + 2) * character.getBuildingTime('city')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCity() + 2 + usePlanet.getConstructionsLike('city')) * character.getBuildingTime('city')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'city', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getCity() + 1) * character.getBuildingNiobium('city')) and planetWt >= ((usePlanet.getCity() + 1) * character.getBuildingWater('city')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('city') <= usePlanet.getGround() and character.getDemography() > 0 and usePlanet.getConstruct is null %}
                                    <div>{% if ((usePlanet.getCity() + 1) * character.getBuildingTime('city')) < 3600 %}{{  ((usePlanet.getCity() + 1) * character.getBuildingTime('city'))|date('i:s') }}{% elseif ((usePlanet.getCity() + 1) * character.getBuildingTime('city')) < 86400 %}{{  ((usePlanet.getCity() + 1) * character.getBuildingTime('city')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCity() + 1) * character.getBuildingTime('city')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'city', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getCity() + 1 + usePlanet.getConstructionsLike('city')) * character.getBuildingNiobium('city')) and planetWt >= ((usePlanet.getCity() + 1 + usePlanet.getConstructionsLike('city')) * character.getBuildingWater('city')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('city') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'city', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getCity() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_city', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'city' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                {% if character.getDemography() <= 4 and usePlanet.getMetropole() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/metropole.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.metropole'|trans|raw }}">{{ 'building.metropole'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.metropole.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/metropole.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.metropole'|trans|raw }}"><strong>{{ 'building.metropole'|trans }} x {% if usePlanet.getMetropole() %}{{ usePlanet.getMetropole() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getMetropole() + 1) * character.getBuildingNiobium('metropole') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getMetropole() + 1) * character.getBuildingNiobium('metropole'))|number_format }}</span>{% else %}{{ ((usePlanet.getMetropole() + 1) * character.getBuildingNiobium('metropole'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getMetropole() + 1) * character.getBuildingWater('metropole') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getMetropole() + 1) * character.getBuildingWater('metropole'))|number_format }}</span>{% else %}{{ ((usePlanet.getMetropole() + 1) * character.getBuildingWater('metropole'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 6 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('metropole') }}</span>{% else %}{{ character.getBuildingGroundPlace('metropole') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"><span class="ml-4">{% if 6 + usePlanet.getSkyPlace() > usePlanet.getSky() %}<span class="text-rouge">{{ character.getBuildingSkyPlace('metropole') }}</span>{% else %}{{ character.getBuildingSkyPlace('metropole') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'skyImg'|trans }}" src="{{ asset('img/sky.webp') }}"></span></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.metropole.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'metropole' %}
                                {% if planetNb >= ((usePlanet.getMetropole() + 1 + usePlanet.getConstructionsLike('metropole')) * character.getBuildingNiobium('metropole')) and planetWt >= ((usePlanet.getMetropole() + 1 + usePlanet.getConstructionsLike('metropole')) * character.getBuildingWater('metropole')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('metropole') <= usePlanet.getGround() and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('metropole') <= usePlanet.getSky() %}
                                    <div class="mt-5">{% if ((usePlanet.getMetropole() + 2 + usePlanet.getConstructionsLike('metropole')) * character.getBuildingTime('metropole')) < 3600 %}{{  ((usePlanet.getMetropole() + 2 + usePlanet.getConstructionsLike('metropole')) * character.getBuildingTime('metropole'))|date('i:s') }}{% elseif ((usePlanet.getMetropole() + 2 + usePlanet.getConstructionsLike('metropole')) * character.getBuildingTime('metropole')) < 86400 %}{{  ((usePlanet.getMetropole() + 2) * character.getBuildingTime('metropole')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getMetropole() + 2 + usePlanet.getConstructionsLike('metropole')) * character.getBuildingTime('metropole')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'metropole', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getMetropole() + 1) * character.getBuildingNiobium('metropole')) and planetWt >= ((usePlanet.getMetropole() + 1) * character.getBuildingWater('metropole')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('metropole') <= usePlanet.getGround() and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('metropole') <= usePlanet.getSky() and character.getDemography() == 5 and usePlanet.getConstruct is null %}
                                    <div>{% if ((usePlanet.getMetropole() + 1) * character.getBuildingTime('metropole')) < 3600 %}{{  ((usePlanet.getMetropole() + 1) * character.getBuildingTime('metropole'))|date('i:s') }}{% elseif ((usePlanet.getMetropole() + 1) * character.getBuildingTime('metropole')) < 86400 %}{{  ((usePlanet.getMetropole() + 1) * character.getBuildingTime('metropole')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getMetropole() + 1) * character.getBuildingTime('metropole')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'metropole', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getMetropole() + 1 + usePlanet.getConstructionsLike('metropole')) * character.getBuildingNiobium('metropole')) and planetWt >= ((usePlanet.getMetropole() + 1 + usePlanet.getConstructionsLike('metropole')) * character.getBuildingWater('metropole')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('metropole') <= usePlanet.getGround() and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('metropole') <= usePlanet.getSky() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'metropole', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getMetropole() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_metropole', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'metropole' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                {%  if usePlanet.getMoon() == false %}
                    {% if character.getDiscipline() <= 0 and usePlanet.getCaserne() == 0 %}
                        <tr class="blocked-building blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/slave.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.slave'|trans|raw }}">{{ 'building.slave'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'building.slave.blocked'|trans }}
                            </td>
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="access-build-2">
                            <td class="center-cells">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/slave.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.slave'|trans|raw }}"><strong>{{ 'building.slave'|trans }} x {% if usePlanet.getCaserne() %}{{ usePlanet.getCaserne() }}{% else %}0{% endif %}</strong></button>
                                <div class="mt-4">{% if (usePlanet.getCaserne() + 1) * character.getBuildingNiobium('slave') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getCaserne() + 1) * character.getBuildingNiobium('slave'))|number_format }}</span>{% else %}{{ ((usePlanet.getCaserne() + 1) * character.getBuildingNiobium('slave'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getCaserne() + 1) * character.getBuildingWater('slave') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getCaserne() + 1) * character.getBuildingWater('slave'))|number_format }}</span>{% else %}{{ ((usePlanet.getCaserne() + 1) * character.getBuildingWater('slave'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                                <div class="mt-4">{% if 6 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('slave') }}</span>{% else %}{{ character.getBuildingGroundPlace('slave') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                            </td>
                            <td class="center-cells cell-middle">
                                {{ 'building.slave.desc'|trans }}
                            </td>
                            <td class="center-cells p-1">
                                {% if usePlanet.getConstruct() == 'slave' %}
                                    {% if planetNb >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('slave')) * character.getBuildingNiobium('slave')) and planetWt >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('slave')) * character.getBuildingWater('slave')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('slave') <= usePlanet.getGround() %}
                                        <div class="mt-5">{% if ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('slave')) * character.getBuildingTime('slave')) < 3600 %}{{  ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('slave')) * character.getBuildingTime('slave'))|date('i:s') }}{% elseif ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('slave')) * character.getBuildingTime('slave')) < 86400 %}{{  ((usePlanet.getCaserne() + 2) * character.getBuildingTime('slave')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('slave')) * character.getBuildingTime('slave')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'slave', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                    {% else %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                    {% endif %}
                                    <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                                {% else %}
                                    {% if planetNb >= ((usePlanet.getCaserne() + 1) * character.getBuildingNiobium('slave')) and planetWt >= ((usePlanet.getCaserne() + 1) * character.getBuildingWater('slave')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('slave') <= usePlanet.getGround() and character.getDiscipline() > 0 and usePlanet.getConstruct is null %}
                                        <div>{% if ((usePlanet.getCaserne() + 1) * character.getBuildingTime('slave')) < 3600 %}{{  ((usePlanet.getCaserne() + 1) * character.getBuildingTime('slave'))|date('i:s') }}{% elseif ((usePlanet.getCaserne() + 1) * character.getBuildingTime('slave')) < 86400 %}{{  ((usePlanet.getCaserne() + 1) * character.getBuildingTime('slave')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCaserne() + 1) * character.getBuildingTime('slave')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'slave', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                    {% elseif planetNb >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('slave')) * character.getBuildingNiobium('slave')) and planetWt >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('slave')) * character.getBuildingWater('slave')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('slave') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                        <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'slave', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                            <td class="center-cells p-4">
                                {% if usePlanet.getCaserne() > 0 and usePlanet.getConstruct is null %}
                                    <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{#{{ path('building_remove_slave', {'usePlanet': usePlanet.getId()}) }}#}">{{ 'building.demolish'|trans }}</a>
                                {% elseif usePlanet.getConstruct() == 'slave' %}
                                    <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                                {% else %}
                                    <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                                {% endif %}
                            </td>
                        </tr>
                    {% endif %}
                {% endif %}
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'building.titleArmy'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                {% if character.getDiscipline() <= 0 and usePlanet.getCaserne() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/caserne.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.caserne'|trans|raw }}">{{ 'building.caserne'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.caserne.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build-2">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/caserne.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.caserne'|trans|raw }}"><strong>{{ 'building.caserne'|trans }} x {% if usePlanet.getCaserne() %}{{ usePlanet.getCaserne() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getCaserne() + 1) * character.getBuildingNiobium('caserne') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getCaserne() + 1) * character.getBuildingNiobium('caserne'))|number_format }}</span>{% else %}{{ ((usePlanet.getCaserne() + 1) * character.getBuildingNiobium('caserne'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getCaserne() + 1) * character.getBuildingWater('caserne') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getCaserne() + 1) * character.getBuildingWater('caserne'))|number_format }}</span>{% else %}{{ ((usePlanet.getCaserne() + 1) * character.getBuildingWater('caserne'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 6 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('caserne') }}</span>{% else %}{{ character.getBuildingGroundPlace('caserne') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.caserne.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'caserne' %}
                                {% if planetNb >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('caserne')) * character.getBuildingNiobium('caserne')) and planetWt >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('caserne')) * character.getBuildingWater('caserne')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('caserne') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('caserne')) * character.getBuildingTime('caserne')) < 3600 %}{{  ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('caserne')) * character.getBuildingTime('caserne'))|date('i:s') }}{% elseif ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('caserne')) * character.getBuildingTime('caserne')) < 86400 %}{{  ((usePlanet.getCaserne() + 2) * character.getBuildingTime('caserne')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('caserne')) * character.getBuildingTime('caserne')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'caserne', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getCaserne() + 1) * character.getBuildingNiobium('caserne')) and planetWt >= ((usePlanet.getCaserne() + 1) * character.getBuildingWater('caserne')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('caserne') <= usePlanet.getGround() and character.getDiscipline() > 0 and usePlanet.getConstruct is null %}
                                    <div>{% if ((usePlanet.getCaserne() + 1) * character.getBuildingTime('caserne')) < 3600 %}{{  ((usePlanet.getCaserne() + 1) * character.getBuildingTime('caserne'))|date('i:s') }}{% elseif ((usePlanet.getCaserne() + 1) * character.getBuildingTime('caserne')) < 86400 %}{{  ((usePlanet.getCaserne() + 1) * character.getBuildingTime('caserne')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCaserne() + 1) * character.getBuildingTime('caserne')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'caserne', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('caserne')) * character.getBuildingNiobium('caserne')) and planetWt >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('caserne')) * character.getBuildingWater('caserne')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('caserne') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'caserne', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getCaserne() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_caserne', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'caserne' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                {% if character.getDiscipline() != 3 and usePlanet.getBunker() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/bunker.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.bunker'|trans|raw }}">{{ 'building.bunker'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.bunker.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/bunker.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.bunker'|trans|raw }}"><strong>{{ 'building.bunker'|trans }} x {% if usePlanet.getBunker() %}{{ usePlanet.getBunker() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getBunker() + 1) * character.getBuildingNiobium('bunker') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getBunker() + 1) * character.getBuildingNiobium('bunker'))|number_format }}</span>{% else %}{{ ((usePlanet.getBunker() + 1) * character.getBuildingNiobium('bunker'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getBunker() + 1) * character.getBuildingWater('bunker') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getBunker() + 1) * character.getBuildingWater('bunker'))|number_format }}</span>{% else %}{{ ((usePlanet.getBunker() + 1) * character.getBuildingWater('bunker'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 10 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('bunker') }}</span>{% else %}{{ character.getBuildingGroundPlace('bunker') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.bunker.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'bunker' %}
                                {% if planetNb >= ((usePlanet.getBunker() + 1 + usePlanet.getConstructionsLike('bunker')) * character.getBuildingNiobium('bunker')) and planetWt >= ((usePlanet.getBunker() + 1 + usePlanet.getConstructionsLike('bunker')) * character.getBuildingWater('bunker')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('bunker') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getBunker() + 2 + usePlanet.getConstructionsLike('bunker')) * character.getBuildingTime('bunker')) < 3600 %}{{  ((usePlanet.getBunker() + 2 + usePlanet.getConstructionsLike('bunker')) * character.getBuildingTime('bunker'))|date('i:s') }}{% elseif ((usePlanet.getBunker() + 2 + usePlanet.getConstructionsLike('bunker')) * character.getBuildingTime('bunker')) < 86400 %}{{  ((usePlanet.getBunker() + 2) * character.getBuildingTime('bunker')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getBunker() + 2 + usePlanet.getConstructionsLike('bunker')) * character.getBuildingTime('bunker')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'bunker', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getBunker() + 1) * character.getBuildingNiobium('bunker')) and planetWt >= ((usePlanet.getBunker() + 1) * character.getBuildingWater('bunker')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('bunker') <= usePlanet.getGround() and character.getDiscipline() == 3 and usePlanet.getConstruct is null %}
                                    <div>{% if ((usePlanet.getBunker() + 1) * character.getBuildingTime('bunker')) < 3600 %}{{  ((usePlanet.getBunker() + 1) * character.getBuildingTime('bunker')- 3600)|date('i:s') }}{% else %}{{  ((usePlanet.getBunker() + 1) * 4320- 3600)|date('H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'bunker', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getBunker() + 1 + usePlanet.getConstructionsLike('bunker')) * character.getBuildingNiobium('bunker')) and planetWt >= ((usePlanet.getBunker() + 1 + usePlanet.getConstructionsLike('bunker')) * character.getBuildingWater('bunker')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('bunker') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'bunker', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getBunker() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_bunker', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'bunker' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                {% if character.getDiscipline() <= 0 and usePlanet.getCaserne() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <a href="{{ path('jail', {'usePlanet': usePlanet.getId()}) }}">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3 catch-border" width="40" src="{{ asset('img/prison.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.prison'|trans|raw }}">{{ 'building.prison'|trans|raw }}</button>
                            </a>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.prison.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build-2">
                        <td class="center-cells">
                            <a href="{{ path('jail', {'usePlanet': usePlanet.getId()}) }}">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3 catch-border" src="{{ asset('img/prison.webp') }}">
                            </a>
                            <button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.prison'|trans|raw }}"><strong>{{ 'building.prison'|trans }} x {% if usePlanet.getCaserne() %}{{ usePlanet.getCaserne() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getCaserne() + 1) * character.getBuildingNiobium('prison') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getCaserne() + 1) * character.getBuildingNiobium('prison'))|number_format }}</span>{% else %}{{ ((usePlanet.getCaserne() + 1) * character.getBuildingNiobium('prison'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getCaserne() + 1) * character.getBuildingWater('prison') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getCaserne() + 1) * character.getBuildingWater('prison'))|number_format }}</span>{% else %}{{ ((usePlanet.getCaserne() + 1) * character.getBuildingWater('prison'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 6 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('prison') }}</span>{% else %}{{ character.getBuildingGroundPlace('prison') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.prison.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'prison' %}
                                {% if planetNb >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('prison')) * character.getBuildingNiobium('prison')) and planetWt >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('prison')) * character.getBuildingWater('prison')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('prison') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('prison')) * character.getBuildingTime('prison')) < 3600 %}{{  ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('prison')) * character.getBuildingTime('prison'))|date('i:s') }}{% elseif ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('prison')) * character.getBuildingTime('prison')) < 86400 %}{{  ((usePlanet.getCaserne() + 2) * character.getBuildingTime('prison')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCaserne() + 2 + usePlanet.getConstructionsLike('prison')) * character.getBuildingTime('prison')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'prison', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getCaserne() + 1) * character.getBuildingNiobium('prison')) and planetWt >= ((usePlanet.getCaserne() + 1) * character.getBuildingWater('prison')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('prison') <= usePlanet.getGround() and character.getDiscipline() > 0 and usePlanet.getConstruct is null %}
                                    <div>{% if ((usePlanet.getCaserne() + 1) * character.getBuildingTime('prison')) < 3600 %}{{  ((usePlanet.getCaserne() + 1) * character.getBuildingTime('prison'))|date('i:s') }}{% elseif ((usePlanet.getCaserne() + 1) * character.getBuildingTime('prison')) < 86400 %}{{  ((usePlanet.getCaserne() + 1) * character.getBuildingTime('prison')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCaserne() + 1) * character.getBuildingTime('prison')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'prison', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('prison')) * character.getBuildingNiobium('prison')) and planetWt >= ((usePlanet.getCaserne() + 1 + usePlanet.getConstructionsLike('prison')) * character.getBuildingWater('prison')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('prison') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'prison', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getCaserne() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{#{{ path('building_remove_prison', {'usePlanet': usePlanet.getId()}) }}#}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'prison' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'building.titleShip'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                {% if usePlanet.getUranium() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/nuclear_base.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.nuclearBase'|trans|raw }}">{{ 'building.nuclearBase'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.nuclearBase.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/nuclear_base.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.nuclearBase'|trans|raw }}"><strong>{{ 'building.nuclearBase'|trans }} x {% if usePlanet.getNuclearBase() %}{{ usePlanet.getNuclearBase() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getNuclearBase() + 1) * character.getBuildingNiobium('nuclearBase') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getNuclearBase() + 1) * character.getBuildingNiobium('nuclearBase'))|number_format }}</span>{% else %}{{ ((usePlanet.getNuclearBase() + 1) * character.getBuildingNiobium('nuclearBase'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"></div>
                            <div class="mt-4">{% if 2 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('nuclearBase') }}</span>{% else %}{{ character.getBuildingGroundPlace('nuclearBase') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.nuclearBase.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'nuclearBase' %}
                                {% if planetNb >= ((usePlanet.getNuclearBase() + 1 + usePlanet.getConstructionsLike('nuclearBase')) * character.getBuildingNiobium('nuclearBase')) and planetWt >= ((usePlanet.getNuclearBase() + 1 + usePlanet.getConstructionsLike('nuclearBase')) * character.getBuildingWater('nuclearBase')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('nuclearBase') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getNuclearBase() + 2 + usePlanet.getConstructionsLike('nuclearBase')) * character.getBuildingTime('nuclearBase')) < 3600 %}{{  ((usePlanet.getNuclearBase() + 2 + usePlanet.getConstructionsLike('nuclearBase')) * character.getBuildingTime('nuclearBase'))|date('i:s') }}{% elseif ((usePlanet.getNuclearBase() + 2 + usePlanet.getConstructionsLike('nuclearBase')) * character.getBuildingTime('nuclearBase')) < 86400 %}{{  ((usePlanet.getNuclearBase() + 2) * character.getBuildingTime('nuclearBase')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getNuclearBase() + 2 + usePlanet.getConstructionsLike('nuclearBase')) * character.getBuildingTime('nuclearBase')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'nuclearBase', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getNuclearBase() + 1) * character.getBuildingNiobium('nuclearBase')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('nuclearBase') <= usePlanet.getGround() and usePlanet.getConstruct is null and usePlanet.getNuclearBase() < 6 %}
                                    <div>{% if ((usePlanet.getNuclearBase() + 1) * character.getBuildingTime('nuclearBase')) < 3600 %}{{  ((usePlanet.getNuclearBase() + 1) * character.getBuildingTime('nuclearBase')- 3600)|date('i:s') }}{% else %}{{  ((usePlanet.getNuclearBase() + 1) * character.getBuildingTime('nuclearBase')- 3600)|date('H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'nuclearBase', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getNuclearBase() + 1 + usePlanet.getConstructionsLike('nuclearBase')) * character.getBuildingNiobium('nuclearBase')) and planetWt >= ((usePlanet.getNuclearBase() + 1 + usePlanet.getConstructionsLike('nuclearBase')) * character.getBuildingWater('nuclearBase')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('nuclearBase') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'nuclearBase', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getNuclearBase() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_nuclear', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'nuclearBase' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                {% if character.getIndustry() <= 0 and usePlanet.getSpaceShip() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/chantier.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.chantier'|trans|raw }}">{{ 'building.chantier'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.chantier.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build-2">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/chantier.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.chantier'|trans|raw }}"><strong>{{ 'building.chantier'|trans }} x {% if usePlanet.getSpaceShip() %}{{ usePlanet.getSpaceShip() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getSpaceShip() + 1) * character.getBuildingNiobium('spaceShip') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getSpaceShip() + 1) * character.getBuildingNiobium('spaceShip'))|number_format }}</span>{% else %}{{ ((usePlanet.getSpaceShip() + 1) * character.getBuildingNiobium('spaceShip'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getSpaceShip() + 1) * character.getBuildingWater('spaceShip') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getSpaceShip() + 1) * character.getBuildingWater('spaceShip'))|number_format }}</span>{% else %}{{ ((usePlanet.getSpaceShip() + 1) * character.getBuildingWater('spaceShip'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 2 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('spaceShip') }}</span>{% else %}{{ character.getBuildingGroundPlace('spaceShip') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"><span class="ml-4">{% if 1 + usePlanet.getSkyPlace() > usePlanet.getSky() %}<span class="text-rouge">{{ character.getBuildingSkyPlace('spaceShip') }}</span>{% else %}{{ character.getBuildingSkyPlace('spaceShip') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'skyImg'|trans }}" src="{{ asset('img/sky.webp') }}"></span></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.chantier.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'spaceShip' %}
                                {% if planetNb >= ((usePlanet.getSpaceShip() + 1 + usePlanet.getConstructionsLike('spaceShip')) * character.getBuildingNiobium('spaceShip')) and planetWt >= ((usePlanet.getSpaceShip() + 1 + usePlanet.getConstructionsLike('spaceShip')) * character.getBuildingWater('spaceShip')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('spaceShip') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getSpaceShip() + 2 + usePlanet.getConstructionsLike('spaceShip')) * character.getBuildingTime('spaceShip')) < 3600 %}{{  ((usePlanet.getSpaceShip() + 2 + usePlanet.getConstructionsLike('spaceShip')) * character.getBuildingTime('spaceShip'))|date('i:s') }}{% elseif ((usePlanet.getSpaceShip() + 2 + usePlanet.getConstructionsLike('spaceShip')) * character.getBuildingTime('spaceShip')) < 86400 %}{{  ((usePlanet.getSpaceShip() + 2) * character.getBuildingTime('spaceShip')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getSpaceShip() + 2 + usePlanet.getConstructionsLike('spaceShip')) * character.getBuildingTime('spaceShip')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'spaceShip', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getSpaceShip() + 1) * character.getBuildingNiobium('spaceShip')) and planetWt >= ((usePlanet.getSpaceShip() + 1) * character.getBuildingWater('spaceShip')) and usePlanet.getGroundPlace() + 2 <= usePlanet.getGround() and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('spaceShip') <= usePlanet.getSky() and character.getIndustry() > 0 and usePlanet.getConstruct is null %}
                                    <div>{% if ((usePlanet.getSpaceShip() + 1) * character.getBuildingTime('spaceShip')) < 3600 %}{{  ((usePlanet.getSpaceShip() + 1) * character.getBuildingTime('spaceShip'))|date('i:s') }}{% elseif ((usePlanet.getSpaceShip() + 1) * character.getBuildingTime('spaceShip')) < 86400 %}{{  ((usePlanet.getSpaceShip() + 1) * character.getBuildingTime('spaceShip')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getSpaceShip() + 1) * character.getBuildingTime('spaceShip')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'spaceShip', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getSpaceShip() + 1 + usePlanet.getConstructionsLike('spaceShip')) * character.getBuildingNiobium('spaceShip')) and planetWt >= ((usePlanet.getSpaceShip() + 1 + usePlanet.getConstructionsLike('spaceShip')) * character.getBuildingWater('spaceShip')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('spaceShip') <= usePlanet.getGround() and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('spaceShip') <= usePlanet.getSky() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'spaceShip', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getSpaceShip() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_spaceShipyard', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'spaceShip' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                {% if character.getLightShip() <= 0 and usePlanet.getLightUsine() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/light.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.light'|trans|raw }}">{{ 'building.light'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.light.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/light.webp') }}">{% if usePlanet.getLightUsine() == 0 %}<button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.light'|trans|raw }}"><strong>{{ 'building.light'|trans }} {{ 'building.canBe'|trans }}</strong></button>{% else %}{{ 'building.light'|trans }} <span class="text-vert2">{{ 'building.Activated'|trans }}</span>{% endif %}
                            <div class="mt-4">{% if (usePlanet.getLightUsine() + 1) * character.getBuildingNiobium('lightUsine') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getLightUsine() + 1) * character.getBuildingNiobium('lightUsine'))|number_format }}</span>{% else %}{{ ((usePlanet.getLightUsine() + 1) * character.getBuildingNiobium('lightUsine'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getLightUsine() + 1) * character.getBuildingWater('lightUsine') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getLightUsine() + 1) * character.getBuildingWater('lightUsine'))|number_format }}</span>{% else %}{{ ((usePlanet.getLightUsine() + 1) * character.getBuildingWater('lightUsine'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 6 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('lightUsine') }}</span>{% else %}{{ character.getBuildingGroundPlace('lightUsine') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.light.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'lightUsine' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getLightUsine() + 1) * character.getBuildingNiobium('lightUsine')) and planetWt >= ((usePlanet.getLightUsine() + 1) * character.getBuildingWater('lightUsine')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('lightUsine') <= usePlanet.getGround() and usePlanet.getLightUsine() != 1 and character.getLightShip() > 0 and usePlanet.getConstruct is null %}
                                    <div>{% if ((usePlanet.getLightUsine() + 1) * character.getBuildingTime('lightUsine')) < 3600 %}{{  ((usePlanet.getLightUsine() + 1) * character.getBuildingTime('lightUsine'))|date('i:s') }}{% elseif ((usePlanet.getLightUsine() + 1) * character.getBuildingTime('lightUsine')) < 86400 %}{{  ((usePlanet.getLightUsine() + 1) * character.getBuildingTime('lightUsine')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getLightUsine() + 1) * character.getBuildingTime('lightUsine')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('build_building', {'building': 'lightUsine', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% else %}
                                    {% if usePlanet.getLightUsine() == 1 %}
                                        <div class="text-vert2">{{ 'building.finish'|trans }}</div>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'building.build'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells cell-middle">
                            {% if usePlanet.getLightUsine() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_lightUsine', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'lightUsine' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                {% if character.getHeavyShip() <= 0 and usePlanet.getHeavyUsine() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/heavy.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.heavy'|trans|raw }}">{{ 'building.heavy'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.heavy.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/heavy.webp') }}">{% if usePlanet.getHeavyUsine() == 0 %}<button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.heavy'|trans|raw }}"><strong>{{ 'building.heavy'|trans }} {{ 'building.canBe'|trans }}</strong></button>{% else %}{{ 'building.heavy'|trans }} <span class="text-vert2">{{ 'building.Activated'|trans }}</span>{% endif %}
                            <div class="mt-4">{% if (usePlanet.getHeavyUsine() + 1) * character.getBuildingNiobium('heavyUsine') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getHeavyUsine() + 1) * character.getBuildingNiobium('heavyUsine'))|number_format }}</span>{% else %}{{ ((usePlanet.getHeavyUsine() + 1) * character.getBuildingNiobium('heavyUsine'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getHeavyUsine() + 1) * character.getBuildingWater('heavyUsine') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getHeavyUsine() + 1) * character.getBuildingWater('heavyUsine'))|number_format }}</span>{% else %}{{ ((usePlanet.getHeavyUsine() + 1) * character.getBuildingWater('heavyUsine'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 12 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('heavyUsine') }}</span>{% else %}{{ character.getBuildingGroundPlace('heavyUsine') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.heavy.desc'|trans }}
                        </td>
                        <td class="center-cells  p-1">
                            {% if usePlanet.getConstruct() == 'heavyUsine' %}
                                <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getHeavyUsine() + 1) * character.getBuildingNiobium('heavyUsine')) and planetWt >= ((usePlanet.getHeavyUsine() + 1) * character.getBuildingWater('heavyUsine')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('heavyUsine') <= usePlanet.getGround() and usePlanet.getHeavyUsine() != 1 and character.getHeavyShip() > 0 and usePlanet.getConstruct is null %}
                                    <div>{% if ((usePlanet.getHeavyUsine() + 1) * character.getBuildingTime('heavyUsine')) < 3600 %}{{  ((usePlanet.getHeavyUsine() + 1) * character.getBuildingTime('heavyUsine'))|date('i:s') }}{% elseif ((usePlanet.getHeavyUsine() + 1) * character.getBuildingTime('heavyUsine')) < 86400 %}{{  ((usePlanet.getHeavyUsine() + 1) * character.getBuildingTime('heavyUsine')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getHeavyUsine() + 1) * character.getBuildingTime('heavyUsine')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start" href="{{ path('build_building', {'building': 'heavyUsine', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% else %}
                                    {% if usePlanet.getHeavyUsine() == 1 %}
                                        <div class="text-vert2">{{ 'building.finish'|trans }}</div>
                                    {% else %}
                                        <a class="btn btn-lg btn-secondary" disabled>{{ 'building.build'|trans }}</a>
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells cell-middle">
                            {% if usePlanet.getHeavyUsine() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_heavyUsine', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'heavyUsine' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                </tbody>
            </table>
            <div class="block-title"><h1>{{ 'building.titleSpy'|trans }}</h1></div>
            <table class="table table-striped table-bordered table-dark text-center">
                <tbody>
                {% if character.getOnde() <= 0 and usePlanet.getRadar() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/radar.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.radar'|trans|raw }}">{{ 'building.radar'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.radar.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build-2">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/radar.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.radar'|trans|raw }}"><strong>{{ 'building.radar'|trans }} x {% if usePlanet.getRadar() %}{{ usePlanet.getRadar() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getRadar() + 1) * character.getBuildingNiobium('radar') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getRadar() + 1) * character.getBuildingNiobium('radar'))|number_format }}</span>{% else %}{{ ((usePlanet.getRadar() + 1) * character.getBuildingNiobium('radar'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getRadar() + 1) * character.getBuildingWater('radar') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getRadar() + 1) * character.getBuildingWater('radar'))|number_format }}</span>{% else %}{{ ((usePlanet.getRadar() + 1) * character.getBuildingWater('radar'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 2 + usePlanet.getGroundPlace() > usePlanet.getGround() %}<span class="text-rouge">{{ character.getBuildingGroundPlace('radar') }}</span>{% else %}{{ character.getBuildingGroundPlace('radar') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.radar.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'radar' %}
                                {% if planetNb >= ((usePlanet.getRadar() + 1 + usePlanet.getConstructionsLike('radar')) * character.getBuildingNiobium('radar')) and planetWt >= ((usePlanet.getRadar() + 1 + usePlanet.getConstructionsLike('radar')) * character.getBuildingWater('radar')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('radar') <= usePlanet.getGround() %}
                                    <div class="mt-5">{% if ((usePlanet.getRadar() + 2 + usePlanet.getConstructionsLike('radar')) * character.getBuildingTime('radar')) < 3600 %}{{  ((usePlanet.getRadar() + 2 + usePlanet.getConstructionsLike('radar')) * character.getBuildingTime('radar'))|date('i:s') }}{% elseif ((usePlanet.getRadar() + 2 + usePlanet.getConstructionsLike('radar')) * character.getBuildingTime('radar')) < 86400 %}{{  ((usePlanet.getRadar() + 2) * character.getBuildingTime('radar')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getRadar() + 2 + usePlanet.getConstructionsLike('radar')) * character.getBuildingTime('radar')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'radar', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getRadar() + 1) * character.getBuildingNiobium('radar')) and planetWt >= ((usePlanet.getRadar() + 1) * character.getBuildingWater('radar')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('radar') <= usePlanet.getGround() and character.getOnde() > 0 and usePlanet.getConstruct is null %}
                                    <div>{% if ((usePlanet.getRadar() + 1) * character.getBuildingTime('radar')) < 3600 %}{{  ((usePlanet.getRadar() + 1) * character.getBuildingTime('radar'))|date('i:s') }}{% elseif ((usePlanet.getRadar() + 1) * character.getBuildingTime('radar')) < 86400 %}{{ ((usePlanet.getRadar() + 1) * character.getBuildingTime('radar')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getRadar() + 1) * character.getBuildingTime('radar')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'radar', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getRadar() + 1 + usePlanet.getConstructionsLike('radar')) * character.getBuildingNiobium('radar')) and planetWt >= ((usePlanet.getRadar() + 1 + usePlanet.getConstructionsLike('radar')) * character.getBuildingWater('radar')) and usePlanet.getGroundPlace() + character.getBuildingGroundPlace('radar') <= usePlanet.getGround() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'radar', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getRadar() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_radar', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'radar' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                {% if character.getOnde() <= 2 and usePlanet.getSkyRadar() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/skyRadar.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.skyRadar'|trans|raw }}">{{ 'building.skyRadar'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.skyRadar.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/skyRadar.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.skyRadar'|trans|raw }}"><strong>{{ 'building.skyRadar'|trans }} x {% if usePlanet.getSkyRadar() %}{{ usePlanet.getSkyRadar() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getSkyRadar() + 1) * character.getBuildingNiobium('skyRadar') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getSkyRadar() + 1) * character.getBuildingNiobium('skyRadar'))|number_format }}</span>{% else %}{{ ((usePlanet.getSkyRadar() + 1) * character.getBuildingNiobium('skyRadar'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getSkyRadar() + 1) * character.getBuildingWater('skyRadar') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getSkyRadar() + 1) * character.getBuildingWater('skyRadar'))|number_format }}</span>{% else %}{{ ((usePlanet.getSkyRadar() + 1) * character.getBuildingWater('skyRadar'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 2 + usePlanet.getSkyPlace() > usePlanet.getSky() %}<span class="text-rouge">{{ character.getBuildingSkyPlace('skyRadar') }}</span>{% else %}{{ character.getBuildingSkyPlace('skyRadar') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'skyImg'|trans }}" src="{{ asset('img/sky.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.skyRadar.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'skyRadar' %}
                                {% if planetNb >= ((usePlanet.getSkyRadar() + 1 + usePlanet.getConstructionsLike('skyRadar')) * character.getBuildingNiobium('skyRadar')) and planetWt >= ((usePlanet.getSkyRadar() + 1 + usePlanet.getConstructionsLike('skyRadar')) * character.getBuildingWater('skyRadar')) and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('skyRadar') <= usePlanet.getSky() %}
                                    <div class="mt-5">{% if ((usePlanet.getSkyRadar() + 2 + usePlanet.getConstructionsLike('skyRadar')) * character.getBuildingTime('skyRadar')) < 3600 %}{{  ((usePlanet.getSkyRadar() + 2 + usePlanet.getConstructionsLike('skyRadar')) * character.getBuildingTime('skyRadar'))|date('i:s') }}{% elseif ((usePlanet.getSkyRadar() + 2 + usePlanet.getConstructionsLike('skyRadar')) * character.getBuildingTime('skyRadar')) < 86400 %}{{  ((usePlanet.getSkyRadar() + 2) * character.getBuildingTime('skyRadar')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getSkyRadar() + 2 + usePlanet.getConstructionsLike('skyRadar')) * character.getBuildingTime('skyRadar')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'skyRadar', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getSkyRadar() + 1) * character.getBuildingNiobium('skyRadar')) and planetWt >= ((usePlanet.getSkyRadar() + 1) * character.getBuildingWater('skyRadar')) and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('skyRadar') <= usePlanet.getSky() and character.getOnde() > 2 and usePlanet.getConstruct is null %}
                                    <div>{% if ((usePlanet.getSkyRadar() + 1) * character.getBuildingTime('skyRadar')) < 3600 %}{{  ((usePlanet.getSkyRadar() + 1) * character.getBuildingTime('skyRadar'))|date('i:s') }}{% elseif ((usePlanet.getSkyRadar() + 1) * character.getBuildingTime('skyRadar')) < 86400 %}{{  ((usePlanet.getSkyRadar() + 1) * character.getBuildingTime('skyRadar')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getSkyRadar() + 1) * character.getBuildingTime('skyRadar')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'skyRadar', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getSkyRadar() + 1 + usePlanet.getConstructionsLike('skyRadar')) * character.getBuildingNiobium('skyRadar')) and planetWt >= ((usePlanet.getSkyRadar() + 1 + usePlanet.getConstructionsLike('skyRadar')) * character.getBuildingWater('skyRadar')) and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('skyRadar') <= usePlanet.getSky() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'skyRadar', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getSkyRadar() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_skyRadar', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'skyRadar' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                {% if character.getOnde() != 5 and usePlanet.getSkyBrouilleur() == 0 %}
                    <tr class="blocked-building blockedBack">
                        <th class="tab-cells-name">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/brouilleur.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.brouilleur'|trans|raw }}">{{ 'building.brouilleur'|trans|raw }}</button>
                        </th>
                        <td class="center-cells cell-middle">
                            {{ 'building.brouilleur.blocked'|trans }}
                        </td>
                        <td colspan="2" width="101px" class="center-cells cell-middle">
                            <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                        </td>
                    </tr>
                {% else %}
                    <tr class="access-build-2">
                        <td class="center-cells">
                            <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/brouilleur.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.brouilleur'|trans|raw }}"><strong>{{ 'building.brouilleur'|trans }} x {% if usePlanet.getSkyBrouilleur() %}{{ usePlanet.getSkyBrouilleur() }}{% else %}0{% endif %}</strong></button>
                            <div class="mt-4">{% if (usePlanet.getSkyBrouilleur() + 1) * character.getBuildingNiobium('skyBrouilleur') > usePlanet.getNiobium() %}<span class="text-rouge">{{ ((usePlanet.getSkyBrouilleur() + 1) * character.getBuildingNiobium('skyBrouilleur'))|number_format }}</span>{% else %}{{ ((usePlanet.getSkyBrouilleur() + 1) * character.getBuildingNiobium('skyBrouilleur'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.webp') }}"><span class="ml-4">{% if (usePlanet.getSkyBrouilleur() + 1) * character.getBuildingWater('skyBrouilleur') > usePlanet.getWater() %}<span class="text-rouge">{{ ((usePlanet.getSkyBrouilleur() + 1) * character.getBuildingWater('skyBrouilleur'))|number_format }}</span>{% else %}{{ ((usePlanet.getSkyBrouilleur() + 1) * character.getBuildingWater('skyBrouilleur'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.webp') }}"></span></div>
                            <div class="mt-4">{% if 4 + usePlanet.getSkyPlace() > usePlanet.getSky() %}<span class="text-rouge">{{ character.getBuildingSkyPlace('skyBrouilleur') }}</span>{% else %}{{ character.getBuildingSkyPlace('skyBrouilleur') }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'skyImg'|trans }}" src="{{ asset('img/sky.webp') }}"></div>
                        </td>
                        <td class="center-cells cell-middle">
                            {{ 'building.brouilleur.desc'|trans }}
                        </td>
                        <td class="center-cells p-1">
                            {% if usePlanet.getConstruct() == 'skyBrouilleur' %}
                                {% if planetNb >= ((usePlanet.getSkyBrouilleur() + 1 + usePlanet.getConstructionsLike('skyBrouilleur')) * character.getBuildingNiobium('skyBrouilleur')) and planetWt >= ((usePlanet.getSkyBrouilleur() + 1 + usePlanet.getConstructionsLike('skyBrouilleur')) * character.getBuildingWater('skyBrouilleur')) and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('skyBrouilleur') <= usePlanet.getSky() %}
                                    <div class="mt-5">{% if ((usePlanet.getSkyBrouilleur() + 2 + usePlanet.getConstructionsLike('skyBrouilleur')) * character.getBuildingTime('skyBrouilleur')) < 3600 %}{{  ((usePlanet.getSkyBrouilleur() + 2 + usePlanet.getConstructionsLike('skyBrouilleur')) * character.getBuildingTime('skyBrouilleur'))|date('i:s') }}{% elseif ((usePlanet.getSkyBrouilleur() + 2 + usePlanet.getConstructionsLike('skyBrouilleur')) * character.getBuildingTime('skyBrouilleur')) < 86400 %}{{  ((usePlanet.getSkyBrouilleur() + 2) * character.getBuildingTime('skyBrouilleur')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getSkyBrouilleur() + 2 + usePlanet.getConstructionsLike('skyBrouilleur')) * character.getBuildingTime('skyBrouilleur')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'skyBrouilleur', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                {% endif %}
                                <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>

                            {% else %}
                                {% if planetNb >= ((usePlanet.getSkyBrouilleur() + 1) * character.getBuildingNiobium('skyBrouilleur')) and planetWt >= ((usePlanet.getSkyBrouilleur() + 1) * character.getBuildingWater('skyBrouilleur')) and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('skyBrouilleur') <= usePlanet.getSky() and character.getOnde() == 5 and usePlanet.getConstruct is null %}
                                    <div>{% if ((usePlanet.getSkyBrouilleur() + 1) * character.getBuildingTime('skyBrouilleur')) < 3600 %}{{  ((usePlanet.getSkyBrouilleur() + 1) * character.getBuildingTime('skyBrouilleur'))|date('i:s') }}{% elseif ((usePlanet.getSkyBrouilleur() + 1) * character.getBuildingTime('skyBrouilleur')) < 86400 %}{{  ((usePlanet.getSkyBrouilleur() + 1) * character.getBuildingTime('skyBrouilleur')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getSkyBrouilleur() + 1) * character.getBuildingTime('skyBrouilleur')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                    <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'skyBrouilleur', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                {% elseif planetNb >= ((usePlanet.getSkyBrouilleur() + 1 + usePlanet.getConstructionsLike('skyBrouilleur')) * character.getBuildingNiobium('skyBrouilleur')) and planetWt >= ((usePlanet.getSkyBrouilleur() + 1 + usePlanet.getConstructionsLike('skyBrouilleur')) * character.getBuildingWater('skyBrouilleur')) and usePlanet.getSkyPlace() + character.getBuildingSkyPlace('skyBrouilleur') <= usePlanet.getSky() and usePlanet.getConstructAt() %}
                                    <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'skyBrouilleur', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                {% else %}
                                    <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                {% endif %}
                            {% endif %}
                        </td>
                        <td class="center-cells p-4">
                            {% if usePlanet.getSkyBrouilleur() > 0 and usePlanet.getConstruct is null %}
                                <a class="btn btn-lg btn-danger  mt-5" data-toggle="confirmation" data-placement="right" data-title="{{ 'building.demolition.question'|trans }}" href="{{ path('building_remove_brouilleur', {'usePlanet': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                            {% elseif usePlanet.getConstruct() == 'skyBrouilleur' %}
                                <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                            {% else %}
                                <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endif %}
                </tbody>
            </table>
            {% if character.getZombie() == 0 %}
                <div class="block-title"><h1>{{ 'building.titleExtra'|trans }}</h1></div>
                <table class="table table-striped table-bordered table-dark text-center">
                    <tbody>
                    {% if character.getExpansion() <= 0 and usePlanet.getIsland() == 0 %}
                        <tr class="blocked-building blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/island.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.island'|trans|raw }}">{{ 'building.island'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'building.island.blocked'|trans }}
                            </td>
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="access-build">
                            <td class="center-cells">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/island.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.island'|trans|raw }}"><strong>{{ 'building.island'|trans }} x {% if usePlanet.getIsland() %}{{ usePlanet.getIsland() }}{% else %}0{% endif %}</strong></button>
                                <div class="mt-4"><span class="ml-4">{% if (usePlanet.getIsland + 1) * character.getBuildingWarPoint('island') > usePlanet.getCharacter().getRank().getWarPoint() %}<span class="text-rouge">{{ ((usePlanet.getIsland() + 1) * character.getBuildingWarPoint('island'))|number_format }}</span>{% else %}{{ ((usePlanet.getIsland() + 1) * character.getBuildingWarPoint('island'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'pdgImg'|trans }}" src="{{ asset('img/pdg.webp') }}"></span></div>
                            </td>
                            <td class="center-cells cell-middle">
                                {{ 'building.island.desc'|trans }}
                            </td>
                            <td class="center-cells p-4">
                                {% if usePlanet.getConstruct() == 'island' %}
                                    {% if planetPdg >= ((usePlanet.getIsland() + 1) * character.getBuildingWarPoint('island')) %}
                                        <div class="mt-5">{% if ((usePlanet.getIsland() + 2 + usePlanet.getConstructionsLike('island')) * character.getBuildingTime('island')) < 3600 %}{{  ((usePlanet.getIsland() + 2 + usePlanet.getConstructionsLike('island')) * character.getBuildingTime('island'))|date('i:s') }}{% elseif ((usePlanet.getIsland() + 2 + usePlanet.getConstructionsLike('island')) * character.getBuildingTime('island')) < 86400 %}{{  ((usePlanet.getIsland() + 2) * character.getBuildingTime('island')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getIsland() + 2 + usePlanet.getConstructionsLike('island')) * character.getBuildingTime('island')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'island', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                    {% else %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                    {% endif %}
                                    <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                                {% else %}
                                    {% if planetPdg >= ((usePlanet.getIsland() + 1) * character.getBuildingWarPoint('island')) and character.getExpansion() > 0 and usePlanet.getConstruct is null %}
                                        <div>{% if ((usePlanet.getIsland() + 1) * character.getBuildingTime('island')) < 3600 %}{{  ((usePlanet.getIsland() + 1) * character.getBuildingTime('island'))|date('i:s') }}{% elseif ((usePlanet.getIsland() + 1) * character.getBuildingTime('island')) < 86400 %}{{  ((usePlanet.getIsland() + 1) * character.getBuildingTime('island')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getIsland() + 1) * character.getBuildingTime('island')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'island', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                    {% elseif planetPdg >= ((usePlanet.getIsland() + 1 + usePlanet.getConstructionsLike('island')) * character.getBuildingWarPoint('island')) and usePlanet.getConstructAt() %}
                                        <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'island', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                            <td class="center-cells p-4">
                                {% if usePlanet.getConstruct() == 'island' %}
                                    <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                                {% else %}
                                    <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                                {% endif %}
                            </td>
                        </tr>
                    {% endif %}
                    {% if character.getExpansion() != 2 and usePlanet.getOrbital() == 0 %}
                        <tr class="blocked-building blockedBack">
                            <th class="tab-cells-name">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" width="40" src="{{ asset('img/orbital.webp') }}"><button class="text-marron mt-3" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.orbital'|trans|raw }}">{{ 'building.orbital'|trans|raw }}</button>
                            </th>
                            <td class="center-cells cell-middle">
                                {{ 'building.orbital.blocked'|trans }}
                            </td>
                            <td colspan="2" width="101px" class="center-cells cell-middle">
                                <span class="text-rouge">{{ 'building.blocked'|trans }}</span>
                            </td>
                        </tr>
                    {% else %}
                        <tr class="access-build-2">
                            <td class="center-cells">
                                <img alt="{{ 'image'|trans({},'front_global') }}" class="float-left building-img ml-3" src="{{ asset('img/orbital.webp') }}"><button class="text-marron" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.orbital'|trans|raw }}"><strong>{{ 'building.orbital'|trans }} x {% if usePlanet.getOrbital() %}{{ usePlanet.getOrbital() }}{% else %}0{% endif %}</strong></button>
                                <div class="mt-4"><span class="ml-4">{% if (usePlanet.getOrbital + 1) * character.getBuildingWarPoint('orbital') > usePlanet.getCharacter().getRank().getWarPoint() %}<span class="text-rouge">{{ ((usePlanet.getOrbital() + 1) * character.getBuildingWarPoint('orbital'))|number_format }}</span>{% else %}{{ ((usePlanet.getOrbital() + 1) * character.getBuildingWarPoint('orbital'))|number_format }}{% endif %} <img alt="{{ 'image'|trans({},'front_global') }}" data-toggle="tooltip" data-placement="bottom" title="{{ 'pdgImg'|trans }}" src="{{ asset('img/pdg.webp') }}"></span></div>
                            </td>
                            <td class="center-cells cell-middle">
                                {{ 'building.orbital.desc'|trans }}
                            </td>
                            <td class="center-cells p-4">
                                {% if usePlanet.getConstruct() == 'orbital' %}
                                    {% if planetPdg >= ((usePlanet.getOrbital() + 1) * character.getBuildingWarPoint('orbital')) %}
                                        <div class="mt-5">{% if ((usePlanet.getOrbital() + 2 + usePlanet.getConstructionsLike('orbital')) * character.getBuildingTime('orbital')) < 3600 %}{{  ((usePlanet.getOrbital() + 2 + usePlanet.getConstructionsLike('orbital')) * character.getBuildingTime('orbital'))|date('i:s') }}{% elseif ((usePlanet.getOrbital() + 2 + usePlanet.getConstructionsLike('orbital')) * character.getBuildingTime('orbital')) < 86400 %}{{  ((usePlanet.getOrbital() + 2) * character.getBuildingTime('orbital')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getOrbital() + 2 + usePlanet.getConstructionsLike('orbital')) * character.getBuildingTime('orbital')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start mt-2" href="{{ path('build_building', {'building': 'orbital', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                    {% else %}
                                        <img alt="{{ 'image'|trans({},'front_global') }}" width="60" src="{{ asset('img/construct2.webp') }}">
                                    {% endif %}
                                    <div class="timerArea" hidden>{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                                {% else %}
                                    {% if planetPdg >= ((usePlanet.getOrbital() + 1) * character.getBuildingWarPoint('orbital')) and character.getExpansion() == 2 and usePlanet.getConstruct is null %}
                                        <div>{% if ((usePlanet.getOrbital() + 1) * character.getBuildingTime('orbital')) < 3600 %}{{  ((usePlanet.getOrbital() + 1) * character.getBuildingTime('orbital'))|date('i:s') }}{% elseif ((usePlanet.getOrbital() + 1) * character.getBuildingTime('orbital')) < 86400 %}{{  ((usePlanet.getOrbital() + 1) * character.getBuildingTime('orbital')- 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getOrbital() + 1) * character.getBuildingTime('orbital')- 3600)|date('d H:i:s') }}{% endif %}</div>
                                        <a class="btn btn-lg btn-start mt-3" href="{{ path('build_building', {'building': 'orbital', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                                    {% elseif planetPdg >= ((usePlanet.getOrbital() + 1 + usePlanet.getConstructionsLike('orbital')) * character.getBuildingWarPoint('orbital')) and usePlanet.getConstructAt() %}
                                        <a class="btn btn-lg btn-start mt-5" href="{{ path('build_building', {'building': 'orbital', 'usePlanet': usePlanet.getId()}) }}">{{ 'building.buildList'|trans }}</a>
                                    {% else %}
                                        <span class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</span>
                                    {% endif %}
                                {% endif %}
                            </td>
                            <td class="center-cells p-4">
                                {% if usePlanet.getConstruct() == 'orbital' %}
                                    <a class="btn btn-lg btn-danger mt-5" href="{{ path('cancel_construction', {'cancelPlanet': usePlanet.getId(), 'usePlanet': usePlanet.getId()}) }}">{{ 'building.cancel'|trans }}</a>
                                {% else %}
                                    <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                                {% endif %}
                            </td>
                        </tr>
                    {% endif %}
                    </tbody>
                </table>
            {% endif %}
        </div>
    </div>
{% endblock %}
