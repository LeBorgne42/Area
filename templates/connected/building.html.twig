{% extends 'base.html.twig' %}

{% trans_default_domain 'front_building' %}

{% block title %}{{ 'title'|trans }}{% endblock %}

{% block body %}
    {% set planetNb = usePlanet.getNiobium() %}
    {% set planetWt = usePlanet.getWater() %}
    <div class="front-block building">
        <div id="timeDefaut" hidden>{{ date|date('Y/m/d H:i:s') }}</div>
        {% if usePlanet.getConstruct() == 'destruct' %}
        <div class="block-title text-rouge text-center p-4"><h2>{{ 'building.destroyBuild'|trans }}<span id="timeConstruct">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</span></h2></div>
        {% endif %}
        <div class="block-title ml-4"><h2>{{ 'building.titleRessource'|trans }}</h2></div>
        <table class="table table-striped table-bordered table-dark text-center">
            <tbody>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/mining.png') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.miner'|trans({'%product%': (((usePlanet.getMiner() + 1) * 1.1)) * 60})|raw }}"><strong>{{ 'building.mining'|trans }} x {{ usePlanet.getMiner()|trans }}</strong></button>
                    <div class="mt-4">{{ (usePlanet.getMiner() + 1) * 450 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getMiner() + 1) * 200 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">1 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.png') }}"></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.mining.desc'|trans }}
                </td>
                <td class="center-cells  p-4">
                    {% if usePlanet.getConstruct() == 'miner' %}
                        <div id="timeConstruct" class="mt-5">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getMiner() + 1) * 450) and planetWt >= ((usePlanet.getMiner() + 1) * 200) and usePlanet.getGroundPlace() + 1 <= usePlanet.getGround() and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getMiner() + 1) * 180) < 3600 %}{{  ((usePlanet.getMiner() + 1) * 180)|date('i:s') }}{% elseif ((usePlanet.getMiner() + 1) * 180) < 86400 %}{{  ((usePlanet.getMiner() + 1) * 180)|date('H:i:s') }}{% else %}{{  ((usePlanet.getMiner() + 1) * 180)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info mt-3" href="{{ path('building_add_mine', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            <a class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</a>
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getMiner() > 0 and usePlanet.getConstructAt() == null %}
                        <a class="btn btn-lg btn-danger mt-5" href="{{ path('building_remove_mine', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/extract.png') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.extract'|trans({'%product%': (((usePlanet.getExtractor() + 1) * 1.09)) * 60})|raw }}"><strong>{{ 'building.extract'|trans }} x {{ usePlanet.getExtractor()|trans }}</strong></button>
                    <div class="mt-4">{{ (usePlanet.getExtractor() + 1) * 200 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getExtractor() + 1) * 500 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">1 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.png') }}"></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.extract.desc'|trans }}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getConstruct() == 'extractor' %}
                        <div id="timeConstruct" class="mt-5">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getExtractor() + 1) * 200) and planetWt >= ((usePlanet.getExtractor() + 1) * 500) and usePlanet.getGroundPlace() + 1 <= usePlanet.getGround() and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getExtractor() + 1) * 180) < 3600 %}{{  ((usePlanet.getExtractor() + 1) * 180)|date('i:s') }}{% elseif ((usePlanet.getExtractor() + 1) * 180) < 86400 %}{{  ((usePlanet.getExtractor() + 1) * 180)|date('H:i:s') }}{% else %}{{  ((usePlanet.getExtractor() + 1) * 180)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info mt-3" href="{{ path('building_add_extract', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            <a class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</a>
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getExtractor() > 0 and usePlanet.getConstructAt() == null %}
                    <a class="btn btn-lg btn-danger mt-5" href="{{ path('building_remove_extract', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            </tbody>
        </table>
        <div class="block-title mt-5 ml-4"><h2>{{ 'building.titleEco'|trans }}</h2></div>
        <table class="table table-striped table-bordered table-dark text-center">
            <tbody>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/search.png') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.search'|trans|raw }}"><strong>{{ 'building.search'|trans }} x {{ usePlanet.getCenterSearch()|trans }}</strong></button>
                    <div class="mt-4">{{ (usePlanet.getCenterSearch() + 1) * 2850 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getCenterSearch() + 1) * 3580 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">5 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.png') }}"></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.search.desc'|trans }}
                </td>
                <td class="center-cells  p-4">
                    {% if usePlanet.getConstruct() == 'centerSearch' %}
                        <div id="timeConstruct" class="mt-5">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getCenterSearch() + 1) * 2850) and planetWt >= ((usePlanet.getCenterSearch() + 1) * 3580) and usePlanet.getGroundPlace() + 5 <= usePlanet.getGround() and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getCenterSearch() + 1) * 900) < 3600 %}{{  ((usePlanet.getCenterSearch() + 1) * 900)|date('i:s') }}{% elseif ((usePlanet.getCenterSearch() + 1) * 900) < 86400 %}{{  ((usePlanet.getCenterSearch() + 1) * 900)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCenterSearch() + 1) * 900)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info mt-3" href="{{ path('building_add_search', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            <a class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</a>
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getCenterSearch() > 0 and usePlanet.getConstructAt() == null %}
                        <a data-toggle="modal" data-target="#deleteModal" class="btn btn-lg btn-danger mt-5" href="{{ path('building_remove_search', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/city.png') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.city'|trans|raw }}"><strong>{{ 'building.city'|trans }} x {{ usePlanet.getCity()|trans }}</strong></button>
                    <div class="mt-4">{{ (usePlanet.getCity() + 1) * 15000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getCity() + 1) * 11000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">6 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.png') }}"></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.city.desc'|trans }}
                </td>
                <td class="center-cells  p-4">
                    {% if usePlanet.getConstruct() == 'city' %}
                        <div id="timeConstruct" class="mt-5">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getCity() + 1) * 15000) and planetWt >= ((usePlanet.getCity() + 1) * 11000) and usePlanet.getGroundPlace() + 6 <= usePlanet.getGround() and app.user.getDemography() > 0 and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getCity() + 1) * 18000) < 86400 %}{{  ((usePlanet.getCity() + 1) * 18000)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCity() + 1) * 18000)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info mt-3" href="{{ path('building_add_city', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            <a class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</a>
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getCity() > 0 and usePlanet.getConstructAt() == null %}
                        <a class="btn btn-lg btn-danger mt-5" href="{{ path('building_remove_city', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/metropole.png') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.metropole'|trans|raw }}"><strong>{{ 'building.metropole'|trans }} x {{ usePlanet.getMetropole()|trans }}</strong></button>
                    <div class="mt-4">{{ (usePlanet.getMetropole() + 1) * 75000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getMetropole() + 1) * 55000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">8 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.png') }}"><span class="ml-4">8 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'skyImg'|trans }}" src="{{ asset('img/sky.png') }}"></span></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.metropole.desc'|trans }}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getConstruct() == 'metropole' %}
                        <div id="timeConstruct" class="mt-5">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getMetropole() + 1) * 750000) and planetWt >= ((usePlanet.getMetropole() + 1) * 55000) and usePlanet.getGroundPlace() + 8 <= usePlanet.getGround() and usePlanet.getSkyPlace() + 8 <= usePlanet.getSky() and app.user.getDemography() == 5 and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getMetropole() + 1) * 54000) < 86400 %}{{  ((usePlanet.getMetropole() + 1) * 54000)|date('H:i:s') }}{% else %}{{  ((usePlanet.getMetropole() + 1) * 54000)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info mt-3" href="{{ path('building_add_metropole', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            <a class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</a>
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getMetropole() > 0 and usePlanet.getConstructAt() == null %}
                        <a class="btn btn-lg btn-danger mt-5" href="{{ path('building_remove_metropole', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            </tbody>
        </table>
        <div class="block-title mt-5 ml-4"><h2>{{ 'building.titleShip'|trans }}</h2></div>
        <table class="table table-striped table-bordered table-dark text-center">
            <tbody>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/caserne.png') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.caserne'|trans|raw }}"><strong>{{ 'building.caserne'|trans }} x {{ usePlanet.getCaserne()|trans }}</strong></button>
                    <div class="mt-4">{{ (usePlanet.getCaserne() + 1) * 13000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getCaserne() + 1) * 19000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">6 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.png') }}"></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.caserne.desc'|trans }}
                </td>
                <td class="center-cells  p-4">
                    {% if usePlanet.getConstruct() == 'caserne' %}
                        <div id="timeConstruct" class="mt-5">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getCaserne() + 1) * 5000) and planetWt >= ((usePlanet.getCaserne() + 1) * 750) and usePlanet.getGroundPlace() + 6 <= usePlanet.getGround() and app.user.getDiscipline() == 3 and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getCaserne() + 1) * 21000) < 86400 %}{{  ((usePlanet.getCaserne() + 1) * 21000)|date('H:i:s') }}{% else %}{{  ((usePlanet.getCaserne() + 1) * 21000)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info mt-3" href="{{ path('building_add_caserne', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            <a class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</a>
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getCaserne() > 0 and usePlanet.getConstructAt() == null %}
                        <a class="btn btn-lg btn-danger mt-5" href="{{ path('building_remove_caserne', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/chantier.png') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.chantier'|trans|raw }}"><strong>{{ 'building.chantier'|trans }} x {{ usePlanet.getSpaceShip()|trans }}</strong></button>
                    <div class="mt-4">{{ (usePlanet.getSpaceShip() + 1) * 3000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getSpaceShip() + 1) * 2000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">10 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.png') }}"><span class="ml-4">4 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'skyImg'|trans }}" src="{{ asset('img/sky.png') }}"></span></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.chantier.desc'|trans }}
                </td>
                <td class="center-cells  p-4">
                    {% if usePlanet.getConstruct() == 'spaceShip' %}
                        <div id="timeConstruct" class="mt-5">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getSpaceShip() + 1) * 3000) and planetWt >= ((usePlanet.getSpaceShip() + 1) * 2000) and usePlanet.getGroundPlace() + 10 <= usePlanet.getGround() and usePlanet.getSkyPlace() + 4 <= usePlanet.getSky() and app.user.getIndustry() > 0 and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getSpaceShip() + 1) * 7000) < 86400 %}{{  ((usePlanet.getSpaceShip() + 1) * 7000)|date('H:i:s') }}{% else %}{{  ((usePlanet.getSpaceShip() + 1) * 7000)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info mt-3" href="{{ path('building_add_spaceShipyard', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            <a class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</a>
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getSpaceShip() > 0 and usePlanet.getConstructAt() == null %}
                        <a class="btn btn-lg btn-danger mt-5" href="{{ path('building_remove_spaceShipyard', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/light.png') }}">{% if usePlanet.getLightUsine() == 0 %}<button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.light'|trans|raw }}"><strong>{{ 'building.light'|trans }} {{ 'building.canBe'|trans }}</strong></button>{% else %}{{ 'building.light'|trans }} <span class="text-vert">{{ 'building.Activated'|trans }}</span>{% endif %}
                    <div class="mt-4">{{ (usePlanet.getLightUsine() + 1) * 7000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getLightUsine() + 1) * 3900 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">6 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.png') }}"></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.light.desc'|trans }}
                </td>
                <td class="center-cells cell-middle">
                    {% if usePlanet.getConstruct() == 'lightUsine' %}
                        <div id="timeConstruct">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getLightUsine() + 1) * 7000) and planetWt >= ((usePlanet.getLightUsine() + 1) * 3900) and usePlanet.getGroundPlace() + 6 <= usePlanet.getGround() and usePlanet.getLightUsine() != 1 and app.user.getLightShip() > 0 and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getLightUsine() + 1) * 21600) < 86400 %}{{  ((usePlanet.getLightUsine() + 1) * 21600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getLightUsine() + 1) * 21600)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info" href="{{ path('building_add_lightUsine', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            {% if usePlanet.getLightUsine() == 1 %}
                                <div class="text-vert">{{ 'building.finish'|trans }}</div>
                            {% else %}
                                <a class="btn btn-lg btn-secondary" disabled>{{ 'building.build'|trans }}</a>
                            {% endif %}
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells cell-middle">
                    {% if usePlanet.getLightUsine() > 0 and usePlanet.getConstructAt() == null %}
                        <a class="btn btn-lg btn-danger" href="{{ path('building_remove_lightUsine', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/heavy.png') }}">{% if usePlanet.getHeavyUsine() == 0 %}<button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.heavy'|trans|raw }}"><strong>{{ 'building.heavy'|trans }} {{ 'building.canBe'|trans }}</strong></button>{% else %}{{ 'building.heavy'|trans }} <span class="text-vert">{{ 'building.Activated'|trans }}</span>{% endif %}
                    <div class="mt-4">{{ (usePlanet.getHeavyUsine() + 1) * 83000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getHeavyUsine() + 1) * 68000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">12 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.png') }}"></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.heavy.desc'|trans }}
                </td>
                <td class="center-cells cell-middle">
                    {% if usePlanet.getConstruct() == 'heavyUsine' %}
                        <div id="timeConstruct">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getHeavyUsine() + 1) * 83000) and planetWt >= ((usePlanet.getHeavyUsine() + 1) * 68000) and usePlanet.getGroundPlace() + 12 <= usePlanet.getGround() and usePlanet.getHeavyUsine() != 1 and app.user.getHeavyShip() > 0 and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getHeavyUsine() + 1) * 72000) < 86400 %}{{  ((usePlanet.getHeavyUsine() + 1) * 72000)|date('H:i:s') }}{% else %}{{  ((usePlanet.getHeavyUsine() + 1) * 72000)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info" href="{{ path('building_add_heavyUsine', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            {% if usePlanet.getHeavyUsine() == 1 %}
                                <div class="text-vert">{{ 'building.finish'|trans }}</div>
                            {% else %}
                                <a class="btn btn-lg btn-secondary" disabled>{{ 'building.build'|trans }}</a>
                            {% endif %}
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells cell-middle">
                    {% if usePlanet.getHeavyUsine() > 0 and usePlanet.getConstructAt() == null %}
                        <a class="btn btn-lg btn-danger" href="{{ path('building_remove_heavyUsine', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            </tbody>
        </table>
        <div class="block-title mt-5 ml-4"><h2>{{ 'building.titleSpy'|trans }}</h2></div>
        <table class="table table-striped table-bordered table-dark text-center">
            <tbody>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/radar.png') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.radar'|trans|raw }}"><strong>{{ 'building.radar'|trans }} x {{ usePlanet.getRadar()|trans }}</strong></button>
                    <div class="mt-4">{{ (usePlanet.getRadar() + 1) * 1200 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getRadar() + 1) * 650 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">2 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'groundImg'|trans }}" src="{{ asset('img/ground.png') }}"></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.radar.desc'|trans }}
                </td>
                <td class="center-cells  p-4">
                    {% if usePlanet.getConstruct() == 'radar' %}
                        <div id="timeConstruct" class="mt-5">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getRadar() + 1) * 1200) and planetWt >= ((usePlanet.getRadar() + 1) * 650) and usePlanet.getGroundPlace() + 2 <= usePlanet.getGround() and app.user.getOnde() > 0 and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getRadar() + 1) * 3600) < 86400 %}{{ ((usePlanet.getRadar() + 1) * 3600)|date('H:i:s') }}{% else %}{{  ((usePlanet.getRadar() + 1) * 3600)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info mt-3" href="{{ path('building_add_radar', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            <a class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</a>
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getRadar() > 0 and usePlanet.getConstructAt() == null %}
                        <a class="btn btn-lg btn-danger mt-5" href="{{ path('building_remove_radar', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/skyRadar.png') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.skyRadar'|trans|raw }}"><strong>{{ 'building.skyRadar'|trans }} x {{ usePlanet.getSkyRadar()|trans }}</strong></button>
                    <div class="mt-4">{{ (usePlanet.getSkyRadar() + 1) * 20000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getSkyRadar() + 1) * 17200 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">2 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'skyImg'|trans }}" src="{{ asset('img/sky.png') }}"></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.skyRadar.desc'|trans }}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getConstruct() == 'skyRadar' %}
                        <div id="timeConstruct" class="mt-5">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getSkyRadar() + 1) * 20000) and planetWt >= ((usePlanet.getSkyRadar() + 1) * 17200) and usePlanet.getSkyPlace() + 2 <= usePlanet.getSky() and app.user.getOnde() > 2 and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getSkyRadar() + 1) * 14400) < 86400 %}{{  ((usePlanet.getSkyRadar() + 1) * 14400)|date('H:i:s') }}{% else %}{{  ((usePlanet.getSkyRadar() + 1) * 14400)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info mt-3" href="{{ path('building_add_skyRadar', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            <a class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</a>
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getSkyRadar() > 0 and usePlanet.getConstructAt() == null %}
                        <a class="btn btn-lg btn-danger mt-5" href="{{ path('building_remove_skyRadar', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            <tr>
                <td class="center-cells">
                    <img class="float-left building-img ml-3" src="{{ asset('img/brouilleur.png') }}"><button class="text-orange" data-toggle="popover" data-trigger="focus" title="{{ 'popover.title'|trans }}" data-html="true" data-content="{{ 'popover.brouilleur'|trans|raw }}"><strong>{{ 'building.brouilleur'|trans }} x {{ usePlanet.getSkyBrouilleur()|trans }}</strong></button>
                    <div class="mt-4">{{ (usePlanet.getSkyBrouilleur() + 1) * 51000 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'niobiumImg'|trans }}" src="{{ asset('img/niobium.png') }}"><span class="ml-4">{{ (usePlanet.getSkyBrouilleur() + 1) * 32100 }} <img data-toggle="tooltip" data-placement="bottom" title="{{ 'waterImg'|trans }}" src="{{ asset('img/water.png') }}"></span></div>
                    <div class="mt-4">4 <img data-toggle="tooltip" data-placement="bottom" title="{{ 'skyImg'|trans }}" src="{{ asset('img/sky.png') }}"></div>
                </td>
                <td class="center-cells cell-middle">
                    {{ 'building.brouilleur.desc'|trans }}
                </td>
                <td class="center-cells  p-4">
                    {% if usePlanet.getConstruct() == 'skyBrouilleur' %}
                        <div id="timeConstruct" class="mt-5">{{ usePlanet.getConstructAt()|date('Y/m/d H:i:s') }}</div>
                        
                    {% else %}
                        {% if planetNb >= ((usePlanet.getSkyBrouilleur() + 1) * 51000) and planetWt >= ((usePlanet.getSkyBrouilleur() + 1) * 32100) and usePlanet.getSkyPlace() + 4 <= usePlanet.getSky() and app.user.getOnde() == 5 and usePlanet.getConstructAt() < date %}
                            <div>{% if ((usePlanet.getSkyBrouilleur() + 1) * 32400) < 86400 %}{{  ((usePlanet.getSkyBrouilleur() + 1) * 32400)|date('H:i:s') }}{% else %}{{  ((usePlanet.getSkyBrouilleur() + 1) * 32400)|date('d H:i:s') }}{% endif %}</div>
                            <a class="btn btn-lg btn-info mt-3" href="{{ path('building_add_brouilleur', {'idp': usePlanet.getId()}) }}">{{ 'building.build'|trans }}</a>
                        {% else %}
                            <a class="btn btn-lg btn-secondary mt-5" disabled>{{ 'building.build'|trans }}</a>
                        {% endif %}
                    {% endif %}
                </td>
                <td class="center-cells p-4">
                    {% if usePlanet.getSkyBrouilleur() > 0 and usePlanet.getConstructAt() == null %}
                        <a class="btn btn-lg btn-danger mt-5" href="{{ path('building_remove_brouilleur', {'idp': usePlanet.getId()}) }}">{{ 'building.demolish'|trans }}</a>
                    {% else %}
                        <a class="btn btn-lg btn-danger mt-5" disabled>{{ 'building.demolish'|trans }}</a>
                    {% endif %}
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteModalLabel">{{ 'building.delete'|trans }}</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>{{ 'building.deleteTxt'|trans }}</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary">{{ 'building.deleteSave'|trans }}</button>
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">{{ 'building.deleteCancel'|trans }}</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
